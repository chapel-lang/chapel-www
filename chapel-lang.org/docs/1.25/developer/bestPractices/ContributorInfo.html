

<!DOCTYPE html>
<html class="writer-html5" lang="en" >
<head>
  <meta charset="utf-8" />
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  
  <title>Contributor Info &mdash; Chapel Documentation 1.25</title>
  

  
  <link rel="stylesheet" href="../../_static/css/theme.css" type="text/css" />
  <link rel="stylesheet" href="../../_static/pygments.css" type="text/css" />
  <link rel="stylesheet" href="../../_static/pygments.css" type="text/css" />
  <link rel="stylesheet" href="../../_static/css/theme.css" type="text/css" />
  <link rel="stylesheet" href="../../_static/style.css" type="text/css" />

  
  
    <link rel="shortcut icon" href="../../_static/favicon.ico"/>
  

  
  

  

  
  <!--[if lt IE 9]>
    <script src="../../_static/js/html5shiv.min.js"></script>
  <![endif]-->
  
    
      <script type="text/javascript" id="documentation_options" data-url_root="../../" src="../../_static/documentation_options.js"></script>
        <script data-url_root="../../" id="documentation_options" src="../../_static/documentation_options.js"></script>
        <script src="../../_static/jquery.js"></script>
        <script src="../../_static/underscore.js"></script>
        <script src="../../_static/doctools.js"></script>
    
    <script type="text/javascript" src="../../_static/js/theme.js"></script>

    
    <link rel="index" title="Index" href="../../genindex.html" />
    <link rel="search" title="Search" href="../../search.html" />
    <link rel="next" title="Getting started with Chapel and the Developer Certificate of Origin (DCO)" href="DCO.html" />
    <link rel="prev" title="Getting Started" href="GettingStarted.html" /> 
</head>

<body class="wy-body-for-nav">

   
  <div class="wy-grid-for-nav">
    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >
          

<a href="../../index.html" class="icon icon-home"> Chapel Documentation

<!-- display version if button won't be rendered -->
<?php if (false) { ?>
<br>1.25
<?php } ?>

</a>

<?php
// Variables given by sphinx
$chplTitle = "1.25";
$pagename = "developer/bestPractices/ContributorInfo";
include "../..//versionButton.php";
?>


<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>


        </div>

        
        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
              
            
            
              <p class="caption"><span class="caption-text">Compiling and Running Chapel</span></p>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../../usingchapel/QUICKSTART.html">Quickstart Instructions</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../usingchapel/index.html">Using Chapel</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../platforms/index.html">Platform-Specific Notes</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../technotes/index.html">Technical Notes</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../tools/index.html">Tools</a></li>
<li class="toctree-l1 current"><a class="reference internal" href="../index.html">Docs for Contributors</a><ul class="current">
<li class="toctree-l2 current"><a class="reference internal" href="index.html">Best Practices for Contributors</a><ul class="current">
<li class="toctree-l3"><a class="reference internal" href="GettingStarted.html">Getting Started</a></li>
<li class="toctree-l3 current"><a class="current reference internal" href="#">Contributor Info</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#choosing-a-task">Choosing a task</a></li>
<li class="toctree-l4"><a class="reference internal" href="#design">Design</a></li>
<li class="toctree-l4"><a class="reference internal" href="#development">Development</a></li>
<li class="toctree-l4"><a class="reference internal" href="#contributing-changes">Contributing changes</a></li>
<li class="toctree-l4"><a class="reference internal" href="#other-useful-information">Other useful information</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="DCO.html">Getting started with Chapel and the Developer Certificate of Origin (DCO)</a></li>
<li class="toctree-l3"><a class="reference internal" href="CompilerDebugging.html">Tips On Debugging The Compiler</a></li>
<li class="toctree-l3"><a class="reference internal" href="CompilerIRTricks.html">Examining/Debugging Compiler IR</a></li>
<li class="toctree-l3"><a class="reference internal" href="ErrorWarningMessaging.html">How To Generate Warnings And Error Messages</a></li>
<li class="toctree-l3"><a class="reference internal" href="RuntimeLibrary.html">The Chapel Runtime Library</a></li>
<li class="toctree-l3"><a class="reference internal" href="GeneratedCode.html">All About Compiler-Generated Code</a></li>
<li class="toctree-l3"><a class="reference internal" href="GASNetOnDesktops.html">Running Chapel Programs with GASNet on your Desktop</a></li>
<li class="toctree-l3"><a class="reference internal" href="git.html">Git tips for Chapel developers</a></li>
<li class="toctree-l3"><a class="reference internal" href="CHPL_DEVELOPER.html">The CHPL_DEVELOPER environment variable</a></li>
<li class="toctree-l3"><a class="reference internal" href="TestSystem.html">Chapel Testing System</a></li>
<li class="toctree-l3"><a class="reference internal" href="SpellChecking.html">chplspell</a></li>
<li class="toctree-l3"><a class="reference internal" href="Valgrind.html">Valgrind</a></li>
<li class="toctree-l3"><a class="reference internal" href="Sanitizers.html">Sanitizers</a></li>
<li class="toctree-l3"><a class="reference internal" href="Deprecation.html">Chapel’s Deprecation Policy</a></li>
<li class="toctree-l3"><a class="reference internal" href="NightlyTesting.html">Nightly Testing</a></li>
<li class="toctree-l3"><a class="reference internal" href="StandardModuleStyle.html">Standard Module Style</a></li>
<li class="toctree-l3"><a class="reference internal" href="TestAnnotationsLocally.html">How to test ANNOTATIONS.yaml changes locally</a></li>
<li class="toctree-l3"><a class="reference internal" href="buildingdocs.html">Building Chapel Documentation</a></li>
<li class="toctree-l3"><a class="reference internal" href="Potpourri.html">Miscellaneous Notes</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../compiler-internals/index.html">Compiler Library API Docs</a></li>
</ul>
</li>
</ul>
<p class="caption"><span class="caption-text">Writing Chapel Programs</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../language/reference.html">Quick Reference</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../examples/index.html">Hello World Variants</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../primers/index.html">Primers</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../language/spec/index.html">Language Specification</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../builtins/index.html">Built-in Types and Functions</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../modules/standard.html">Standard Modules</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../modules/packages.html">Package Modules</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../modules/layoutdist.html">Standard Layouts and Distributions</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../mason-packages.html">Mason Packages</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../users-guide/index.html">Chapel Users Guide (WIP)</a></li>
</ul>
<p class="caption"><span class="caption-text">Language History</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../language/evolution.html">Chapel Evolution</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../language/archivedSpecs.html">Documentation Archives</a></li>
</ul>

            
          
        </div>
        
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" aria-label="top navigation">
        
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../../index.html">Chapel Documentation</a>
        
      </nav>


      <div class="wy-nav-content">
        
        <div class="rst-content">
        
          

















<div role="navigation" aria-label="breadcrumbs navigation">

  <ul class="wy-breadcrumbs">
    
      <li><a href="../../index.html" class="icon icon-home"></a> &raquo;</li>
        
          <li><a href="../index.html">Docs for Contributors</a> &raquo;</li>
        
          <li><a href="index.html">Best Practices for Contributors</a> &raquo;</li>
        
      <li>Contributor Info</li>
    
    
      <li class="wy-breadcrumbs-aside">
        
          
            <a href="../../_sources/developer/bestPractices/ContributorInfo.rst.txt" rel="nofollow"> View page source</a>
          
        
      </li>
    
  </ul>

  
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  <div class="section" id="contributor-info">
<span id="best-practices-contributor-info"></span><h1>Contributor Info<a class="headerlink" href="#contributor-info" title="Permalink to this headline">¶</a></h1>
<p>The git repository for the project is hosted on GitHub at
<a class="reference external" href="https://github.com/chapel-lang/chapel">chapel-lang/chapel</a>. Anyone can read the repository. It is open source!</p>
<p>This document contains a mixture of tips for git beginners and specific
Chapel workflow recommendations.</p>
<p>Below are instructions for setting up a GitHub account, developing a
feature, and submitting pull requests.</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>All commits must be signed according to the DCO (see below) to be merged.</p>
</div>
<p>Overview:</p>
<ol class="arabic simple">
<li><p><a class="reference internal" href="#choosing-a-task">Choosing a task</a></p></li>
<li><p><a class="reference internal" href="#design">Design</a></p>
<ol class="arabic simple">
<li><p><a class="reference internal" href="#when-design-discussion-is-needed">When design discussion is needed</a></p></li>
<li><p><a class="reference internal" href="#creating-a-design-issue">Creating a design issue</a></p></li>
<li><p><a class="reference internal" href="#leading-a-design-discussion">Leading a design discussion</a></p></li>
</ol>
</li>
<li><p><a class="reference internal" href="#development">Development</a></p>
<ol class="arabic simple">
<li><p><a class="reference internal" href="#get-set-up">Get set up</a></p></li>
<li><p><a class="reference internal" href="#create-new-branch">Create new branch</a></p></li>
<li><p><a class="reference internal" href="#develop-and-test-contributions-locally">Develop and test contributions locally</a></p>
<ol class="arabic simple">
<li><p><a class="reference internal" href="#add-new-tests">Add new tests</a></p></li>
</ol>
</li>
</ol>
</li>
<li><p><a class="reference internal" href="#contributing-changes">Contributing changes</a></p>
<ol class="arabic simple">
<li><p><a class="reference internal" href="#push-your-work-to-your-feature-branch">Push your work to your feature branch</a></p></li>
<li><p><a class="reference internal" href="#ask-for-feedback-on-your-branch-early-optional">Ask for feedback on your branch early (optional)</a></p></li>
<li><p><a class="reference internal" href="#submit-pull-request">Submit pull request</a></p></li>
<li><p><a class="reference internal" href="#find-a-reviewer">Find a reviewer</a></p></li>
<li><p><a class="reference internal" href="#work-with-your-reviewers">Work with your reviewers</a></p></li>
<li><p><a class="reference internal" href="#before-merging">Before merging</a></p></li>
<li><p><a class="reference internal" href="#after-merging">After merging</a></p></li>
</ol>
</li>
<li><p><a class="reference internal" href="#other-useful-information">Other useful information</a></p>
<ol class="arabic simple">
<li><p><a class="reference internal" href="#policy-details">Policy details</a></p></li>
<li><p><a class="reference internal" href="#chapel-release-process">Chapel release process</a></p></li>
</ol>
</li>
</ol>
<div class="section" id="choosing-a-task">
<span id="id1"></span><h2>Choosing a task<a class="headerlink" href="#choosing-a-task" title="Permalink to this headline">¶</a></h2>
<p>If you do not already know what task to work on, the <a class="reference external" href="https://chapel-lang.org/contributing.html">Contributing</a> page has
some tips for finding a task.</p>
<p>It is important to communicate with other people before working on a task. This
will help address design questions before starting implementation and will
avoid multiple people working on the same task simultaneously.</p>
<p>If an issue exists for the task you are working on, you should always comment
on that issue to let others know you are working on it. If an issue does not
exist for the task you have chosen, you should open an issue first. In many
cases, you will need to discuss the design of the interface or implementation
before starting development.  See the <a class="reference internal" href="#design">Design</a> section for more details on
this.</p>
</div>
<div class="section" id="design">
<span id="id2"></span><h2>Design<a class="headerlink" href="#design" title="Permalink to this headline">¶</a></h2>
<div class="section" id="when-design-discussion-is-needed">
<span id="id3"></span><h3>When design discussion is needed<a class="headerlink" href="#when-design-discussion-is-needed" title="Permalink to this headline">¶</a></h3>
<p>Design discussion is necessary when proposing language or standard library
changes. It is also necessary for any large or architectural changes.</p>
<p>In many cases it is reasonable to start development without a full design
review, but such efforts should be open to changing once the design is being
discussed.</p>
<p>If your task does not require a design issue, you may skip ahead to the
<a class="reference internal" href="#development">Development</a> section.</p>
</div>
<div class="section" id="creating-a-design-issue">
<span id="id4"></span><h3>Creating a design issue<a class="headerlink" href="#creating-a-design-issue" title="Permalink to this headline">¶</a></h3>
<p>The design issue should aim to clearly and concisely present some design
decisions. Here are some strategies to make a good design issue:</p>
<ul>
<li><p>Summarize issue at the top, preferably include concise code example(s).</p></li>
<li><p>Try not to make initial issue too long in order to lower the barrier for
someone getting involved.</p></li>
<li><p>Clearly define the problem this proposal aims to solve.</p></li>
<li><p>It can be useful to consider alternative solutions to the problem and
describe the trade-offs among them.</p></li>
<li><p>A design issue should have two developers not involved in the effort to review.</p></li>
<li><p>To find reviewers, post an inquiry to the <a class="reference external" href="https://chapel.discourse.group/c/developers">Chapel Developers</a>
Discourse forum.</p>
<ul>
<li><p>Use a prefix of <code class="docutils literal notranslate"><span class="pre">[Design]</span></code> in the subject header.</p></li>
<li><p>Include a short summary of the topic, potentially including motivation
and/or an example.</p>
<blockquote>
<div><ul class="simple">
<li><p>This should not be a copy/paste of the issue contents.</p></li>
</ul>
</div></blockquote>
</li>
<li><p>Include a link to your issue.</p></li>
<li><p>Ask for people to volunteer to be involved in design discussions.</p>
<div class="highlight-text notranslate"><div class="highlight"><pre><span></span>Subject: [Design] Add feature A to module M

Hello,

I would like to add feature A to module M. This feature is motivated by
X, Y, and Z. For example, this would enable:

  var result = M.A(args);

See the issue here: https://github.com/chapel-lang/chapel/issues/&lt;number&gt;

I need 2 developers to identify themselves as API reviewers for this design
issue.

Thanks,
Contributor
</pre></div>
</div>
</li>
</ul>
</li>
</ul>
</div>
<div class="section" id="leading-a-design-discussion">
<span id="id5"></span><h3>Leading a design discussion<a class="headerlink" href="#leading-a-design-discussion" title="Permalink to this headline">¶</a></h3>
<p>Many design choices require a consensus among community members.
It can be helpful to reach a consensus on a design decision quicker by making
an effort to lead that discussion.</p>
<p>Here are some ways to progress the discussion:</p>
<ul class="simple">
<li><p>Ask people involved what they need to know to make a decision</p></li>
<li><p>Summarize the different solutions that were brought up in the discussion and
list their pros and cons</p></li>
<li><p>Compare with other languages, libraries, previous work in the area</p></li>
</ul>
<p>It is common for new design questions to emerge during design discussion
(or less commonly, in code review).
It can be helpful to spin off new issues for design questions that generate a
lot of discussion or design questions that are not completely on-topic.
This will help keep the discussion focused and the goals of the current design
issue clear.</p>
</div>
</div>
<div class="section" id="development">
<span id="id6"></span><h2>Development<a class="headerlink" href="#development" title="Permalink to this headline">¶</a></h2>
<div class="section" id="get-set-up">
<span id="id7"></span><h3>Get set up<a class="headerlink" href="#get-set-up" title="Permalink to this headline">¶</a></h3>
<p>This should only need to happen once per developer.</p>
<p>Note: these are expected to evolve over time as the governance of Chapel is
migrated to an external/community body (the major elements are likely
to be similar, though the specific people involved are likely to change and
grow).</p>
<ol class="arabic">
<li><p><a class="reference external" href="https://help.github.com/articles/signing-up-for-a-new-github-account">Set up a GitHub account</a>. The “Free” plan is sufficient for contributing to
Chapel.</p></li>
<li><p>Use the GitHub web interface to create a fork of the Chapel repo by visiting
<a class="reference external" href="https://github.com/chapel-lang/chapel">https://github.com/chapel-lang/chapel</a> and clicking the ‘Fork’ button (see
also <a class="reference external" href="https://guides.github.com/activities/forking/">Fork the repo</a>).</p></li>
<li><p>Make sure you have configured your environment to work with
git. See <a class="reference internal" href="git.html#best-practices-git"><span class="std std-ref">Git tips for Chapel developers</span></a> for details,
particularly if you are new to git.</p></li>
<li><p>Make sure you understand how to sign your commits with respect to the DCO.</p>
<p>Chapel enforces the Developer Certificate of Origin (DCO) on all pull
requests.  This requires all commits you make to be signed to indicate
that they adhere to the DCO policy.  If you’re not already familiar
with DCOs, read <a class="reference internal" href="DCO.html#best-practices-dco"><span class="std std-ref">Getting started with Chapel and the Developer Certificate of Origin (DCO)</span></a> to learn more about them and
how to sign your commits.</p>
</li>
<li><p>If you’re working on a long-term effort, announce it in the
<a class="reference external" href="https://chapel.discourse.group/c/developers">Chapel Developers</a> Discourse category to make sure toes are not being stepped on,
work is not being pursued redundantly, etc.  Similarly, fundamental changes
to the language or architecture should be circulated in the
<a class="reference external" href="https://chapel.discourse.group/c/developers">Chapel Developers</a> and/or <a class="reference external" href="https://chapel.discourse.group/c/users">Chapel Users</a> categories to make sure effort is not
wasted pursuing an unpopular idea.</p></li>
</ol>
<ul class="simple">
<li><p>You do not need commit/push access to the main repo in order to
contribute code.  See
<a class="reference internal" href="#who-has-or-needs-commit-access-to-the-main-repository">Who has or needs commit access to the main repository?</a>.</p></li>
<li><p>Third-party code requires additional approvals, see the policy details on
<a class="reference internal" href="#third-party-code">Third-party code</a>.</p></li>
</ul>
</div>
<div class="section" id="create-new-branch">
<span id="id8"></span><h3>Create new branch<a class="headerlink" href="#create-new-branch" title="Permalink to this headline">¶</a></h3>
<p>This should happen once for every new effort.</p>
<p>Develop your feature, bug fix, etc. on your fork.  To create a new
branch, use <code class="docutils literal notranslate"><span class="pre">git</span> <span class="pre">checkout</span> <span class="pre">-b</span> <span class="pre">&lt;branch_name&gt;</span></code>.  Using a concisely
named branch is encouraged.</p>
</div>
<div class="section" id="develop-and-test-contributions-locally">
<span id="id9"></span><h3>Develop and test contributions locally<a class="headerlink" href="#develop-and-test-contributions-locally" title="Permalink to this headline">¶</a></h3>
<p>Your contribution will take the form of a series of commits.  While
including sensible commit messages is a good idea, it is more important
to have a good merge message once the pull request is going in. Likewise,
it is OK to have many small commits that reflect the history of
development rather than commits for the feature.  Review git
<a class="reference internal" href="git.html#development-commands"><span class="std std-ref">Development commands</span></a> for how to perform some common operations
during development.</p>
<p>As you work, you will want to periodically bring in changes from the main
Chapel project to your feature branch (described in <a class="reference internal" href="git.html#development-commands"><span class="std std-ref">Development commands</span></a>), to avoid code drift.</p>
<div class="section" id="add-new-tests">
<span id="id10"></span><h4>Add new tests<a class="headerlink" href="#add-new-tests" title="Permalink to this headline">¶</a></h4>
<p>You will probably need to create new tests for your feature. See
<a class="reference internal" href="TestSystem.html#readme-testsystem"><span class="std std-ref">Chapel Testing System</span></a> for more information on this process.</p>
<p>Any addition/change to the Chapel test system should pass testing when that
test/directory is run with <code class="docutils literal notranslate"><span class="pre">start_test</span></code> (and performance tests should also
pass testing for <code class="docutils literal notranslate"><span class="pre">start_test</span> <span class="pre">-performance</span></code>).</p>
</div>
</div>
</div>
<div class="section" id="contributing-changes">
<span id="id11"></span><h2>Contributing changes<a class="headerlink" href="#contributing-changes" title="Permalink to this headline">¶</a></h2>
<div class="section" id="push-your-work-to-your-feature-branch">
<span id="id12"></span><h3>Push your work to your feature branch<a class="headerlink" href="#push-your-work-to-your-feature-branch" title="Permalink to this headline">¶</a></h3>
<p>Push your changes to your feature branch on GitHub to enable others to
see your work (see <a class="reference internal" href="git.html#how-to-push"><span class="std std-ref">How to push</span></a> for command details).  Note that if
you have already created a pull request from a feature branch, pushing
your work to that feature branch will update the pull request.</p>
</div>
<div class="section" id="ask-for-feedback-on-your-branch-early-optional">
<span id="id13"></span><h3>Ask for feedback on your branch early (optional)<a class="headerlink" href="#ask-for-feedback-on-your-branch-early-optional" title="Permalink to this headline">¶</a></h3>
<p>Not ready to merge your changes, but still want to see if your work is going in
the right direction?  Feel free to ask for early feedback!  Exposing the code is
generally done by:</p>
<ul class="simple">
<li><p>Pointing someone to your feature branch on GitHub, or</p></li>
<li><p>Creating a <a class="reference internal" href="#work-in-progress-pull-request">Work-in-progress pull request</a> for your feature branch.  See the
<a class="reference internal" href="#submit-pull-request">Submit pull request</a> section below for how to do this.</p></li>
</ul>
<p>Discussion can take place in:</p>
<ul class="simple">
<li><p>the <a class="reference internal" href="#work-in-progress-pull-request">Work-in-progress pull request</a></p></li>
<li><p>a separate GitHub issue</p></li>
<li><p>the <a class="reference external" href="https://chapel.discourse.group/c/developers">Chapel Developers</a> Discourse forum</p></li>
<li><p>a private communication</p></li>
<li><p>some other strategy agreed upon by all involved parties</p></li>
</ul>
</div>
<div class="section" id="submit-pull-request">
<span id="id14"></span><h3>Submit pull request<a class="headerlink" href="#submit-pull-request" title="Permalink to this headline">¶</a></h3>
<p>See <a class="reference internal" href="git.html#how-to-open-a-pr"><span class="std std-ref">How to open a PR:</span></a> for the sequence of steps necessary.</p>
<p>Contributors should be reasonably confident in the testing done on their code
before asking for a final review.  Should additional testing resources be
needed, you can request help from a member of the core Chapel team when creating
your pull request.</p>
<p>In working with your reviewers, you will no doubt change your pull request.
Just do your local development and then update your feature branch as in
<a class="reference internal" href="#push-your-work-to-your-feature-branch">Push your work to your feature branch</a></p>
<p>Please follow the <a class="reference internal" href="#pull-request-guidance">Pull request guidance</a> and keep PRs reasonably sized.</p>
</div>
<div class="section" id="find-a-reviewer">
<span id="id15"></span><h3>Find a reviewer<a class="headerlink" href="#find-a-reviewer" title="Permalink to this headline">¶</a></h3>
<ul>
<li><p>Once your PR is ready, you’ll need to request a review.  If you know who you’d
like to review it, &#64; mention them in a comment on the PR and ask them to have
a look.  If you don’t know their GitHub id, you can find them in the chat room
or send them an email.  If you don’t know who should review the change, post
to the <a class="reference external" href="https://chapel.discourse.group/c/developers">Chapel Developers</a> Discourse topic requesting a review and linking to the
PR.  By convention, such topics often use a <cite>[PR]</cite> prefix in their titles.</p>
<p>Note: Ideally, someone should volunteer to review your pull request within a
day or two. If this doesn’t happen, feel free to make some noise. Ideally the
review should take place within a few days, though timing may vary depending
on other deadlines.</p>
</li>
<li><p>See <a class="reference internal" href="#reviewer-responsibilities">Reviewer responsibilities</a> for details on what performing a review on
another contributor’s code entails.</p></li>
</ul>
</div>
<div class="section" id="work-with-your-reviewers">
<span id="id16"></span><h3>Work with your reviewers<a class="headerlink" href="#work-with-your-reviewers" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li><p>Iterate with the reviewer until you’re both satisfied.  One should generally
try to do whatever their reviewer asks.  Sometimes, a reviewer will ask for
something really hard.  Try to make sure they understand the magnitude of the
request, and try to discuss if it’s really necessary to do before merging.  If
you can’t come to an agreement, one of you should bring other developers
(individually or via the <a class="reference external" href="https://chapel.discourse.group/c/developers">Chapel Developers</a> forum) into the conversation to get a
broader opinion.  One of the jobs of the reviewer is to serve as a proxy for
other developers, or to bring those developers into the conversation if they
feel unqualified to do so.</p></li>
</ul>
</div>
<div class="section" id="before-merging">
<span id="id17"></span><h3>Before merging<a class="headerlink" href="#before-merging" title="Permalink to this headline">¶</a></h3>
<p>Before the change can be merged, go through this checklist to ensure:</p>
<ul class="simple">
<li><p>all design changes have been discussed</p></li>
<li><p>all commits contain the required “Signed-off-by:” line to indicate
compliance with the Developer Certificate of Origin (DCO – see
<a class="reference internal" href="DCO.html#best-practices-dco"><span class="std std-ref">Getting started with Chapel and the Developer Certificate of Origin (DCO)</span></a>)</p></li>
<li><p>the PR has been reviewed</p></li>
<li><p>the <a class="reference internal" href="#git-history-is-clear">Git history is clear</a> of anything that should not be in the repo</p></li>
<li><p>relevant configurations pass testing</p></li>
</ul>
<p>If you did not have the resources to perform at least a full correctness test
run, this is the point at which a reviewer would do so for you.  Contributors
are expected to have verified any new tests work before asking a reviewer to do
this.</p>
<p>Details on how to run tests may be found at <a class="reference external" href="https://github.com/chapel-lang/chapel/blob/main/doc/rst/developer/bestPractices/TestSystem.rst">Test System</a>, and details on the
appropriate amount of testing before merging the final PR may be found at
<a class="reference internal" href="#testing-your-patch">Testing your patch</a>.</p>
<ul class="simple">
<li><p>Once the pull request is approved, it can be merged. This can be done
by either the reviewer or developer (given sufficient permissions), as
decided between the two of them.  See <a class="reference internal" href="git.html#how-to-merge-a-pr"><span class="std std-ref">How to merge a PR:</span></a> for
steps to perform this.</p></li>
<li><p>If you are reviewing code from an external contributor without push
privileges, go through the checklist once more before merging the change.</p></li>
</ul>
<p>After the final version of the change has been agreed upon, the person making
the merge should follow the steps for <a class="reference internal" href="git.html#how-to-merge-a-pr"><span class="std std-ref">How to merge a PR:</span></a>.</p>
</div>
<div class="section" id="after-merging">
<span id="id18"></span><h3>After merging<a class="headerlink" href="#after-merging" title="Permalink to this headline">¶</a></h3>
<p>After merging, a good contributor should watch automatic testing results for
failures that they may need to address:</p>
<ul class="simple">
<li><p>In short order, a smoke-test will be run against the commit to make sure that
nothing basic has been broken by it.  Your reviewer should alert you to any
problems.</p></li>
<li><p>After the commit has gone in, check with your reviewer to ensure that
there are no new failures caused by your commit in our nightly testing.</p></li>
</ul>
</div>
</div>
<div class="section" id="other-useful-information">
<span id="id19"></span><h2>Other useful information<a class="headerlink" href="#other-useful-information" title="Permalink to this headline">¶</a></h2>
<div class="section" id="policy-details">
<span id="id20"></span><h3>Policy details<a class="headerlink" href="#policy-details" title="Permalink to this headline">¶</a></h3>
<div class="section" id="who-has-or-needs-commit-access-to-the-main-repository">
<span id="id21"></span><h4>Who has or needs commit access to the main repository?<a class="headerlink" href="#who-has-or-needs-commit-access-to-the-main-repository" title="Permalink to this headline">¶</a></h4>
<p>Core team members have commit access to the main repository.  Reviewers on the
core team can pull, review, and merge your pull requests.  Even the developers
that have write access to the Chapel repository need to have all non-trivial
changes reviewed. Developers who have been given write access can merge trivial
changes (e.g. small bug fixes, documentation changes) without review.</p>
<p>If you will need commit/push access to the main repository,
<a class="reference external" href="https://github.com/chapel-lang/chapel">chapel-lang/chapel</a>, send a request including your GitHub username to
chapel_admin _at_ cray.com.</p>
</div>
<div class="section" id="third-party-code">
<span id="id22"></span><h4>Third-party code<a class="headerlink" href="#third-party-code" title="Permalink to this headline">¶</a></h4>
<p>If your work will require committing any third-party code that you are not
developing yourself (or code that you’ve developed as a standalone package),
alert the <a class="reference external" href="https://chapel.discourse.group/c/developers">Chapel Developers</a> Discourse forum of this as, presently, such code
packages must be approved before being committed.</p>
<p>Here are some guiding questions to determine whether a third-party package you
rely on should be committed to the chapel repository:</p>
<ul class="simple">
<li><p>How large is the third-party code you wish to include?</p>
<ul>
<li><p>If the code is very large, perhaps it would be better to add directions on
how to install this dependency.</p></li>
</ul>
</li>
<li><p>Under what license does this code operate?</p>
<ul>
<li><p>We try not to add dependencies on code that is under GPL or LGPL, as those
licenses have copyleft properties and force derivative works to be
distributed under the same license.</p>
<ul>
<li><p>Is there an alternate package with a more permissive license that can
accomplish the same purpose?</p>
<ul>
<li><p>If so, we recommend relying on that package instead.</p></li>
<li><p>If not, it would be better to add directions on how to install this
dependency.</p></li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
<li><p>How easy is this code to obtain?</p>
<ul>
<li><p>Will it be installed by default on an ordinary machine?</p>
<ul>
<li><p>If so, we do not need to redistribute it ourselves.</p></li>
</ul>
</li>
</ul>
</li>
<li><p>How much of the Chapel implementation will rely on this code?</p>
<ul>
<li><p>The compiler for ordinary Chapel?  A commonly used runtime configuration?</p>
<ul>
<li><p>In these cases, we will probably want to include the code in our
distribution.</p></li>
</ul>
</li>
<li><p>A standard or package module that is not included by default?</p>
<ul>
<li><p>Depending on the circumstances, it might be better to just include
directions on how to install this code.</p></li>
</ul>
</li>
</ul>
</li>
<li><p>Do we require Chapel-specific modifications to the code in order to use it?</p>
<ul>
<li><p>If so, we will probably want to distribute this package, or at least include
the modifications and an easy way to install them.</p></li>
</ul>
</li>
</ul>
<p>Please include the answers to these questions when you post to the
<a class="reference external" href="https://chapel.discourse.group/c/developers">Chapel Developers</a> forum, if you believe the code should be included or
you remain uncertain.</p>
</div>
<div class="section" id="testing-your-patch">
<span id="id23"></span><h4>Testing your patch<a class="headerlink" href="#testing-your-patch" title="Permalink to this headline">¶</a></h4>
<ul class="simple">
<li><p>Changes to the Chapel implementation should not cause regressions. Developers
are responsible for doing a degree of testing that’s appropriate for their
change (described in the following bullets) and then can rely on nightly
regression testing to worry about the full cross-product of configurations.</p>
<ul>
<li><p>At a minimum, patches should pass correctness testing for the full test/
directory hierarchy for:</p>
<ul>
<li><p><code class="docutils literal notranslate"><span class="pre">CHPL_*_PLATFORM=linux64</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">CHPL_*_COMPILER=gnu</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">CHPL_COMM=none</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">CHPL_TASKS=&lt;default&gt;</span></code></p></li>
</ul>
</li>
<li><p>Most developers will start by focusing on a subdirectory of tests that
exercise the features they changed, or test/release/ as a suite of tests
that exercises a rich and important slice of the language.</p></li>
<li><p>Changes that are likely to affect multi-locale executions should also be
tested against tests that exercise multi-locale capabilities with
<code class="docutils literal notranslate"><span class="pre">CHPL_COMM=gasnet</span></code>.  A common subset is: <code class="docutils literal notranslate"><span class="pre">test/release/</span></code>,
<code class="docutils literal notranslate"><span class="pre">test/multilocale/</span></code>, and <code class="docutils literal notranslate"><span class="pre">test/distributions/</span></code>.</p></li>
<li><p>Changes that are likely to cause portability issues should be tested against
different platforms and compilers to avoid fallout in the nightly testing to
the extent possible.</p></li>
</ul>
</li>
<li><p>Note that the quickest way to do testing is to use the parallel testing system
across a large number of workstations.  If you have limited testing resources
available to you, you can request that a member of the core Chapel team help.</p></li>
</ul>
</div>
<div class="section" id="work-in-progress-pull-request">
<span id="id24"></span><h4>Work-in-progress pull request<a class="headerlink" href="#work-in-progress-pull-request" title="Permalink to this headline">¶</a></h4>
<p>A work-in-progress (WIP) PR is a special kind of pull request that is not yet
intended to be merged.  Such PRs are created to take advantage of what the
GitHub PR interface provides, such as public comment history and quick links
between the WIP PR and other related issues and pull requests.  They allow the
developer to get early feedback on a change.</p>
<p>The status of a WIP PR can be stated by using the GitHub “draft PR” feature.
The PR description should include what steps need to be taken before the PR is
ready for final review. If a WIP PR was not opened as draft PR, it can be
marked with the <code class="docutils literal notranslate"><span class="pre">stat:</span> <span class="pre">work</span> <span class="pre">in</span> <span class="pre">progress</span></code> label by a core contributor.</p>
<p>It is perfectly acceptable to abandon such PRs (especially in favor of a cleaned
up version of the code) when the git history becomes too large, so long as a
link to the original PR is provided when the change is eventually merged, to
preserve the discussion.</p>
</div>
<div class="section" id="pull-request-guidance">
<span id="id25"></span><h4>Pull request guidance<a class="headerlink" href="#pull-request-guidance" title="Permalink to this headline">¶</a></h4>
<ul class="simple">
<li><p>It is considered good practice to keep PRs (pull requests) to a reasonable
size. This ensures that the PR will be reviewed in a timely manner and will
receive a higher level of attention per line of code during review.</p>
<ul>
<li><p>When submitting a PR, the contributor should ask themselves if their
contribution can be separated into smaller logical chunks or independent
parts. Reviewers will also be pondering the same question and may request a
break up of the contribution into smaller PRs.</p></li>
<li><p>Breaking up a PR can sometimes require a great deal of effort and
creativity, and may not be feasible at all, due to the intertwined nature
of the code.</p></li>
<li><p>Ideally, the size of the PR should be proportional to the expected value to
the developer and user community.</p></li>
</ul>
</li>
</ul>
</div>
<div class="section" id="pull-request-description">
<span id="id26"></span><h4>Pull request description<a class="headerlink" href="#pull-request-description" title="Permalink to this headline">¶</a></h4>
<ul class="simple">
<li><p>Generally, try to come up with a single-line headline of 75 characters at
most to describe the change.  Think of this as a statement of what the PR
accomplishes, ideally with a user perspective (as opposed to the “what I did
to the code” perspective).</p></li>
<li><p>Depending on the magnitude of the change, write a short paragraph to longer
set of paragraphs describing the change (again, focusing on the user
experience, at least in the initial paragraphs… why would a Chapel user
care that you merged this?  Or if it’s not user-facing, why would a developer
care).</p></li>
<li><p>If it’s truly complex such that you think the code changes themselves warrant
describing in the PR (because they’re complex or clever, say), additional
paragraphs talking about the code changes / approach taken can be nice (but
aren’t strictly required).</p></li>
<li><p>Depending on the complexity of the PR, it can be reassuring to reviewers to
denote how you have tested the PR either in the PR description or an initial
comment.</p></li>
</ul>
<p>It’s not uncommon for the contents of the PR description to evolve over the
lifetime of the PR and its review.  Initially it should help the person doing
the code review understand what’s being done (and potentially why).  Then, when
the code review is done, make sure the text is still accurate.</p>
</div>
<div class="section" id="final-merge-message">
<span id="id27"></span><h4>Final merge message<a class="headerlink" href="#final-merge-message" title="Permalink to this headline">¶</a></h4>
<p>When merging, copy and paste the PR description into the GitHub merge dialog
box. Ensure that the title of the PR is at the top.</p>
<p>It is good practice to &#64;-mention the reviewer(s) at the end of the PR.
This is typically formatted in brackets:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span><span class="o">[</span>Reviewed by @reviewer1 and @reviewer2<span class="o">]</span>
</pre></div>
</div>
</div>
<div class="section" id="git-history-is-clear">
<span id="id28"></span><h4>Git history is clear<a class="headerlink" href="#git-history-is-clear" title="Permalink to this headline">¶</a></h4>
<p>In general, having logical commits with meaningful commit messages is helpful
for maintaining a clean git history. This is particularly important for
critical or complex code changes. Depending on how critical or complex your
changes are, it may be a good idea to do an interactive rebase to squash any
non-meaningful commits:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>git fetch upstream
git rebase -i upstream/main
</pre></div>
</div>
<p>Note that this can be particularly cumbersome when there has been significant
conflicting changes made on upstream main, so it is not a hard requirement.</p>
<p>It’s not generally possible to completely remove a commit from git by the time
it makes it in to the main branch. So be very careful not to commit anything
that you might regret later (e.g., sensitive code, code owned by anyone other
than yourself). Ideally, the review will catch such issues, but the ultimate
responsibility is on the developer.</p>
</div>
<div class="section" id="reviewer-responsibilities">
<span id="id29"></span><h4>Reviewer responsibilities<a class="headerlink" href="#reviewer-responsibilities" title="Permalink to this headline">¶</a></h4>
<ul class="simple">
<li><p>Test the PR you are reviewing.  Follow the instructions next to the
“Merge pull request” button in the “command-line instructions” link
to check out a local copy of the PR for testing.  They will look something
like the following:</p></li>
</ul>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>git checkout -b contribusername-prbranchname main
git pull https://github.com/contribusername/chapel.git prbranchname
<span class="c1"># don&#39;t forget to recompile before you test</span>
</pre></div>
</div>
<ul class="simple">
<li><p>If you’re reviewing a commit from a developer outside the Chapel core
team, be sure their commits are signed via the DCO bot (one of several
github action checks that will run on each PR).  If they’re not, help
the developer understand the requirement.</p></li>
<li><p>Care may need to be taken when committing third-party code that
originates from a different git[hub] repository.  There is a
contributor’s agreement that might be needed.  We may also need to do a
licensing review.  Have a discussion with core developers before doing this.</p></li>
</ul>
</div>
<div class="section" id="what-copyright-should-i-use">
<h4>What Copyright Should I Use?<a class="headerlink" href="#what-copyright-should-i-use" title="Permalink to this headline">¶</a></h4>
<p>By opening a PR with signed commits, you are agreeing that code you contribute
will be governed by the license and copyright of the project as a whole.  A
standard block of license text is required at the top of every compiler,
runtime, and module code file.  Browse other files of the same type to see the
required license block.</p>
<p>Additional copyrights may also be applied, as appropriate.</p>
</div>
</div>
<div class="section" id="chapel-release-process">
<span id="id30"></span><h3>Chapel release process<a class="headerlink" href="#chapel-release-process" title="Permalink to this headline">¶</a></h3>
<p>When a Chapel release nears, merging of pull requests is temporarily frozen for
a few weeks to ensure stability of the release. These freezes come in two
phases: feature freeze and code/doc freeze.</p>
<p>After feature freeze, only bug fixes and documentation updates will be accepted
for the upcoming release. After code/doc freeze, no contributions will be
accepted for the upcoming release, barring critical bug fixes. At some point
between code/doc freeze and the release, a release branch will be “cut”, and
the main branch will begin accepting all contributions again.</p>
<p>The dates for these freezes will be posted on the <a class="reference external" href="https://chapel-lang.org/events.html">Chapel events page</a>
sometime close to each release.</p>
</div>
</div>
</div>


           </div>
           
          </div>
          <footer>
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
        <a href="DCO.html" class="btn btn-neutral float-right" title="Getting started with Chapel and the Developer Certificate of Origin (DCO)" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right" aria-hidden="true"></span></a>
        <a href="GettingStarted.html" class="btn btn-neutral float-left" title="Getting Started" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left" aria-hidden="true"></span> Previous</a>
    </div>

  <hr/>

  <div role="contentinfo">
    <p>
        &#169; Copyright 2021, Hewlett Packard Enterprise Development LP.

    </p>
  </div> 

</footer>
        </div>
      </div>

    </section>

  </div>
  

  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script>

  
  
    
  
 



</body>
</html>