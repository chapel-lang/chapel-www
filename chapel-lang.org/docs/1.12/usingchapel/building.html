

<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="en" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en" > <!--<![endif]-->
<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>Building Chapel &mdash; Chapel Documentation 1.12 1.12.0 documentation</title>
  

  
  

  
  <link href='https://fonts.googleapis.com/css?family=Lato:400,700,400italic,700italic|Roboto+Slab:400,700|Inconsolata:400,700&subset=latin,cyrillic' rel='stylesheet' type='text/css'>

  
  
    

  

  
  
    <link rel="stylesheet" href="../_static/css/theme.css" type="text/css" />
  

  
    <link rel="stylesheet" href="../_static/style.css" type="text/css" />
  

  
    <link rel="top" title="Chapel Documentation 1.12 1.12.0 documentation" href="../index.html"/>
        <link rel="up" title="Using Chapel" href="index.html"/>
        <link rel="next" title="Compiling Chapel Programs" href="compiling.html"/>
        <link rel="prev" title="Setting up Your Environment for Chapel" href="chplenv.html"/> 

  
  <script src="https://cdnjs.cloudflare.com/ajax/libs/modernizr/2.6.2/modernizr.min.js"></script>

</head>

<body class="wy-body-for-nav" role="document">

  <div class="wy-grid-for-nav">

    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-nav-search">
        
          <a href="../index.html" class="fa fa-home"> Chapel Documentation</a>
        
        
<?php   // Variables given by sphinx 
   $chplTitle = "1.12";   $pagename = "./usingchapel/building";   include "../versionButton.php";   ?>
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>
      </div>

      <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
        
          
          
              <ul class="current">
<li class="toctree-l1"><a class="reference internal" href="README.html">Quickstart Instructions</a><ul>
<li class="toctree-l2"><a class="reference internal" href="README.html#quick-start-instructions">Quick Start Instructions</a></li>
<li class="toctree-l2"><a class="reference internal" href="README.html#what-s-next">What&#8217;s next?</a></li>
</ul>
</li>
<li class="toctree-l1 current"><a class="reference internal" href="index.html">Using Chapel</a><ul class="current">
<li class="toctree-l2"><a class="reference internal" href="prereqs.html">Chapel Prerequisites</a></li>
<li class="toctree-l2"><a class="reference internal" href="chplenv.html">Setting up Your Environment for Chapel</a></li>
<li class="toctree-l2 current"><a class="current reference internal" href="">Building Chapel</a></li>
<li class="toctree-l2"><a class="reference internal" href="compiling.html">Compiling Chapel Programs</a></li>
<li class="toctree-l2"><a class="reference internal" href="executing.html">Executing Chapel Programs</a></li>
<li class="toctree-l2"><a class="reference internal" href="multilocale.html">Multilocale Chapel Execution</a></li>
<li class="toctree-l2"><a class="reference internal" href="launcher.html">Chapel Launchers</a></li>
<li class="toctree-l2"><a class="reference internal" href="tasks.html">Chapel Tasks</a></li>
<li class="toctree-l2"><a class="reference internal" href="debugging.html">Debugging Chapel Programs</a></li>
<li class="toctree-l2"><a class="reference internal" href="bugs.html">Reporting Chapel Bugs</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../platforms/index.html">Platform-Specific Notes</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../platforms/cray.html">Using Chapel on Cray Systems</a></li>
<li class="toctree-l2"><a class="reference internal" href="../platforms/cygwin.html">Using Chapel on Cygwin</a></li>
<li class="toctree-l2"><a class="reference internal" href="../platforms/ibm.html">Using Chapel on IBM Systems</a></li>
<li class="toctree-l2"><a class="reference internal" href="../platforms/knc.html">Using Chapel on Intel Xeon Phi</a></li>
<li class="toctree-l2"><a class="reference internal" href="../platforms/macosx.html">Using Chapel on Mac OS X</a></li>
<li class="toctree-l2"><a class="reference internal" href="../platforms/marenostrum.html">Using Chapel on MareNostrum</a></li>
<li class="toctree-l2"><a class="reference internal" href="../platforms/sgi.html">Using Chapel on SGI Altix</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../modules/builtins.html">Built-in Types and Functions</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../modules/internal/Atomics.html">Atomics</a></li>
<li class="toctree-l2"><a class="reference internal" href="../modules/internal/ChapelArray.html">Domain and Array Operations</a></li>
<li class="toctree-l2"><a class="reference internal" href="../modules/internal/ChapelComplex_forDocs.html">Complex</a></li>
<li class="toctree-l2"><a class="reference internal" href="../modules/internal/ChapelIO.html">IO Support</a></li>
<li class="toctree-l2"><a class="reference internal" href="../modules/internal/ChapelIteratorSupport.html">Vectorizing Iterator</a></li>
<li class="toctree-l2"><a class="reference internal" href="../modules/internal/ChapelLocale.html">Locales</a></li>
<li class="toctree-l2"><a class="reference internal" href="../modules/internal/ChapelRange.html">Ranges</a></li>
<li class="toctree-l2"><a class="reference internal" href="../modules/internal/ChapelSyncvar.html">Synchronization Variables</a></li>
<li class="toctree-l2"><a class="reference internal" href="../modules/internal/ChapelTuple.html">Tuples</a></li>
<li class="toctree-l2"><a class="reference internal" href="../modules/internal/UtilMisc_forDocs.html">Misc Functions</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../modules/standardlibrary.html">Standard Library</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../modules/modules.html">Modules</a></li>
<li class="toctree-l2"><a class="reference internal" href="../modules/distributions.html">Distributions</a></li>
<li class="toctree-l2"><a class="reference internal" href="../modules/layouts.html">Layouts</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../technotes/index.html">Technical Notes</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../technotes/allocators.html">Chapel&#8217;s Use of Allocators</a></li>
<li class="toctree-l2"><a class="reference internal" href="../technotes/atomics.html">Runtime Support for Atomics</a></li>
<li class="toctree-l2"><a class="reference internal" href="../technotes/auxIO.html">Auxiliary I/O Systems</a></li>
<li class="toctree-l2"><a class="reference internal" href="../technotes/chpl-ipe.html">Interactive Chapel</a></li>
<li class="toctree-l2"><a class="reference internal" href="../technotes/chpldoc.html">Documenting Chapel</a></li>
<li class="toctree-l2"><a class="reference internal" href="../technotes/dsi.html">Domain Map Standard Interface</a></li>
<li class="toctree-l2"><a class="reference internal" href="../technotes/extern.html">C Interoperability</a></li>
<li class="toctree-l2"><a class="reference internal" href="../technotes/firstClassFns.html">First-class Functions in Chapel</a></li>
<li class="toctree-l2"><a class="reference internal" href="../technotes/libraries.html">Exporting Chapel as a Library</a></li>
<li class="toctree-l2"><a class="reference internal" href="../technotes/llvm.html">LLVM Support</a></li>
<li class="toctree-l2"><a class="reference internal" href="../technotes/local.html">The &#8216;local&#8217; Statement</a></li>
<li class="toctree-l2"><a class="reference internal" href="../technotes/localeModels.html">Locale Models</a></li>
<li class="toctree-l2"><a class="reference internal" href="../technotes/main.html">Support for main() Functions</a></li>
<li class="toctree-l2"><a class="reference internal" href="../technotes/module_search.html">Module Search Paths</a></li>
<li class="toctree-l2"><a class="reference internal" href="../technotes/reduceIntents.html">Reduce Intents</a></li>
<li class="toctree-l2"><a class="reference internal" href="../technotes/sets.html">Associative Set Operations</a></li>
<li class="toctree-l2"><a class="reference internal" href="../technotes/subquery.html">Querying a Local Subdomain</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../tools/index.html">Tools</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../tools/chplvis/index.html">chplvis</a></li>
</ul>
</li>
</ul>

          
        
      </div>
      &nbsp;
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" role="navigation" aria-label="top navigation">
        <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
        <a href="../index.html">Chapel Documentation 1.12</a>
      </nav>


      
      <div class="wy-nav-content">
        <div class="rst-content">
          <div role="navigation" aria-label="breadcrumbs navigation">
  <ul class="wy-breadcrumbs">
    <li><a href="../index.html">Docs</a> &raquo;</li>
      
          <li><a href="index.html">Using Chapel</a> &raquo;</li>
      
    <li>Building Chapel</li>
      <li class="wy-breadcrumbs-aside">
        
          <a href="../_sources/usingchapel/building.txt" rel="nofollow"> View page source</a>
        
      </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document">
            
  <div class="section" id="building-chapel">
<span id="readme-building"></span><h1>Building Chapel<a class="headerlink" href="#building-chapel" title="Permalink to this headline">¶</a></h1>
<p>To build the Chapel compiler, set up your environment as described in
<a class="reference internal" href="README.html#chapelhome-readme"><em>The Chapel Language</em></a> (or <a class="reference internal" href="chplenv.html#readme-chplenv"><em>Setting up Your Environment for Chapel</em></a> for more settings),
cd to <tt class="docutils literal"><span class="pre">$CHPL_HOME</span></tt>, and type:</p>
<div class="highlight-sh"><div class="highlight"><pre>gmake
</pre></div>
</div>
<p>(or simply &#8220;make&#8221; if your make utility is gmake-compatible, as on
Cygwin platforms).</p>
<p>If everything works as intended, you ought to see:</p>
<ol class="arabic">
<li><p class="first">each of the compiler source subdirectories being compiled</p>
</li>
<li><p class="first">the compiler binary getting linked and stored as:</p>
<blockquote>
<div><p><tt class="docutils literal"><span class="pre">$CHPL_HOME/bin/$CHPL_HOST_PLATFORM/chpl</span></tt></p>
</div></blockquote>
</li>
<li><p class="first">the runtime support libraries being compiled, archived, and stored
in a configuration-specific subdirectory under:</p>
<blockquote>
<div><p><tt class="docutils literal"><span class="pre">$CHPL_HOME/lib/$CHPL_TARGET_PLATFORM.$CHPL_TARGET_COMPILER.../</span></tt></p>
</div></blockquote>
</li>
</ol>
<p>If you get an error or failure during the make process, please let us
know about it at: <a class="reference external" href="mailto:chapel-bugs&#37;&#52;&#48;lists&#46;sourceforge&#46;net">chapel-bugs<span>&#64;</span>lists<span>&#46;</span>sourceforge<span>&#46;</span>net</a> (as well as
information about your system as described in <a class="reference internal" href="bugs.html#readme-bugs"><em>Reporting Chapel Bugs</em></a> and any
workaround that you come up with).</p>
<p>Note that each make command only builds the compiler and runtime for
the current set of <tt class="docutils literal"><span class="pre">CHPL_</span></tt> environment variables defined by (and
inferred for) your environment.  Thus, while the directory structure
above supports the ability to have multiple versions of the compiler
and runtime built simultaneously, only one version will be created for
each make command.  To support additional host/target platforms,
host/target compilers, or threading/communication layers, you will
need to reset your environment variables and re-make.</p>
<p>After a successful build, you should be able to run the compiler and
display its help message using:</p>
<div class="highlight-sh"><div class="highlight"><pre>chpl --help
</pre></div>
</div>
<p>In which case, you will be ready to move on to compiling with the
Chapel compiler (see <a class="reference internal" href="compiling.html#readme-compiling"><em>Compiling Chapel Programs</em></a>).  The rest of this
file gives more information about Chapel&#8217;s Makefiles for advanced
users or developers of Chapel.</p>
<div class="section" id="platform-support">
<h2>Platform Support<a class="headerlink" href="#platform-support" title="Permalink to this headline">¶</a></h2>
<p>Currently supported platforms include 32- and 64-bit Linux, Mac OS X,
Cygwin (Windows), SunOS, a variety of current Cray platforms, and a
few systems by other vendors.  Most UNIX-based environments ought to
support Chapel (subject to the assumptions in <a class="reference internal" href="prereqs.html#readme-prereqs"><em>Chapel Prerequisites</em></a>), but may
not be supported &#8220;out-of-the-box&#8221; by our current Makefile structure.
See the section below on platform-specific settings for more
information on adding support for additional UNIX-compatible
environments.</p>
<p>Note that a single Chapel installation can simultaneously support
Chapel for multiple platforms and compiler options because all
platform-specific binary files and executables are stored in
subdirectories named by <tt class="docutils literal"><span class="pre">CHPL_</span></tt> environment variables.</p>
</div>
<div class="section" id="makefile-targets">
<h2>Makefile Targets<a class="headerlink" href="#makefile-targets" title="Permalink to this headline">¶</a></h2>
<p>The Chapel sources are structured so that a GNU-compatible make
utility can be used in any source directory to build the sources
contained in that directory and its subdirectories.  All of these
Makefiles support the following targets:</p>
<blockquote>
<div><table border="1" class="docutils">
<colgroup>
<col width="17%" />
<col width="83%" />
</colgroup>
<thead valign="bottom">
<tr class="row-odd"><th class="head">Target</th>
<th class="head">Action</th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even"><td>(nothing)
default
all</td>
<td>Build the appropriate output files e.g. objects,
libraries, executables</td>
</tr>
<tr class="row-odd"><td>clean</td>
<td>Remove the intermediate files for this configuration</td>
</tr>
<tr class="row-even"><td>cleanall</td>
<td>Remove the intermediate files for all configurations</td>
</tr>
<tr class="row-odd"><td>clobber</td>
<td>Remove everything created by the Makefiles</td>
</tr>
</tbody>
</table>
</div></blockquote>
<p>Each target processes all subdirectories then the current directory.</p>
</div>
<div class="section" id="makefile-options">
<h2>Makefile Options<a class="headerlink" href="#makefile-options" title="Permalink to this headline">¶</a></h2>
<p>The Chapel makefiles have a few options that enable or disable optimization,
debugging support, profiling, and backend C compiler warnings. The variables
are described below. Set the value to 1 to enable the feature.</p>
<blockquote>
<div><table border="1" class="docutils">
<colgroup>
<col width="13%" />
<col width="87%" />
</colgroup>
<thead valign="bottom">
<tr class="row-odd"><th class="head">Option</th>
<th class="head">Effect</th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even"><td>DEBUG</td>
<td>Generate debug information (e.g. add -g to C compiler).</td>
</tr>
<tr class="row-odd"><td>OPTIMIZE</td>
<td>Enable optimizations (e.g. add -O3 to C compiler).</td>
</tr>
<tr class="row-even"><td>PROFILE</td>
<td>Enable profiling support (e.g. add -pg to C compiler).</td>
</tr>
<tr class="row-odd"><td>WARNINGS</td>
<td>Promote backend C compiler warnings to errors.</td>
</tr>
</tbody>
</table>
</div></blockquote>
</div>
<div class="section" id="platform-specific-settings">
<span id="id1"></span><h2>Platform-specific Settings<a class="headerlink" href="#platform-specific-settings" title="Permalink to this headline">¶</a></h2>
<p>The structure of Chapel&#8217;s Makefiles is designed to factor any
compiler-specific settings in
<tt class="docutils literal"><span class="pre">$CHPL_HOME/make/compiler/Makefile.&lt;compiler&gt;</span></tt> where <tt class="docutils literal"><span class="pre">&lt;compiler&gt;</span></tt> refers
to <tt class="docutils literal"><span class="pre">$CHPL_HOST_COMPILER</span></tt> for the compiler sources and
<tt class="docutils literal"><span class="pre">$CHPL_TARGET_COMPILER</span></tt> for the runtime sources and generated code.
Refer to <a class="reference internal" href="chplenv.html#readme-chplenv"><em>Setting up Your Environment for Chapel</em></a> for more information about these variables and
their default settings.</p>
<p>In addition, any architecture-specific settings are defined in
<tt class="docutils literal"><span class="pre">$CHPL_HOME/make/platform/Makefile.&lt;platform&gt;</span></tt>, where <tt class="docutils literal"><span class="pre">&lt;platform&gt;</span></tt> refers
to <tt class="docutils literal"><span class="pre">$CHPL_HOST_PLATFORM</span></tt> for the compiler sources and
<tt class="docutils literal"><span class="pre">$CHPL_TARGET_PLATFORM</span></tt> for the runtime sources and generated code.
Again, <a class="reference internal" href="chplenv.html#readme-chplenv"><em>Setting up Your Environment for Chapel</em></a> details these variables and their default
settings.</p>
<p>If you try making the compiler and runtime for an unknown platform, it
will assume that you want to use gcc/g++ to compile the code and that
you require no platform-specific settings.  You can add support for a
new build environment by creating <tt class="docutils literal"><span class="pre">Makefile.&lt;compiler&gt;</span></tt> and/or
<tt class="docutils literal"><span class="pre">Makefile.&lt;platform&gt;</span></tt> files and setting your environment variables to
refer to those files.  If you do develop new build environment support
that you would like to contribute back to the community, we encourage
you to send your changes back to us at: <a class="reference external" href="mailto:chapel_info&#37;&#52;&#48;cray&#46;com">chapel_info<span>&#64;</span>cray<span>&#46;</span>com</a></p>
</div>
</div>


          </div>
          <footer>
  
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
      
        <a href="compiling.html" class="btn btn-neutral float-right" title="Compiling Chapel Programs">Next <span class="fa fa-arrow-circle-right"></span></a>
      
      
        <a href="chplenv.html" class="btn btn-neutral" title="Setting up Your Environment for Chapel"><span class="fa fa-arrow-circle-left"></span> Previous</a>
      
    </div>
  

  <hr/>

  <div role="contentinfo">
    <p>
        &copy; Copyright 2015, Cray Inc.
    </p>
  </div>

  Built with <a href="http://sphinx-doc.org/">Sphinx</a> using a <a href="https://github.com/snide/sphinx_rtd_theme">theme</a> provided by <a href="https://readthedocs.org">Read the Docs</a>.
  
</footer>
        </div>
      </div>

    </section>

  </div>
  


  

    <script type="text/javascript">
        var DOCUMENTATION_OPTIONS = {
            URL_ROOT:'../',
            VERSION:'1.12.0',
            COLLAPSE_INDEX:false,
            FILE_SUFFIX:'.html',
            HAS_SOURCE:  true
        };
    </script>
      <script type="text/javascript" src="../_static/jquery.js"></script>
      <script type="text/javascript" src="../_static/underscore.js"></script>
      <script type="text/javascript" src="../_static/doctools.js"></script>

  

  
  
    <script type="text/javascript" src="../_static/js/theme.js"></script>
  

  
  
  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.StickyNav.enable();
      });
  </script>
  
 

</body>
</html>
