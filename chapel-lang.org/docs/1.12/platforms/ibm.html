

<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="en" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en" > <!--<![endif]-->
<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>Using Chapel on IBM Systems &mdash; Chapel Documentation 1.12 1.12.0 documentation</title>
  

  
  

  
  <link href='https://fonts.googleapis.com/css?family=Lato:400,700,400italic,700italic|Roboto+Slab:400,700|Inconsolata:400,700&subset=latin,cyrillic' rel='stylesheet' type='text/css'>

  
  
    

  

  
  
    <link rel="stylesheet" href="../_static/css/theme.css" type="text/css" />
  

  
    <link rel="stylesheet" href="../_static/style.css" type="text/css" />
  

  
    <link rel="top" title="Chapel Documentation 1.12 1.12.0 documentation" href="../index.html"/>
        <link rel="up" title="Platform-Specific Notes" href="index.html"/>
        <link rel="next" title="Using Chapel on Intel Xeon Phi" href="knc.html"/>
        <link rel="prev" title="Using Chapel on Cygwin" href="cygwin.html"/> 

  
  <script src="https://cdnjs.cloudflare.com/ajax/libs/modernizr/2.6.2/modernizr.min.js"></script>

</head>

<body class="wy-body-for-nav" role="document">

  <div class="wy-grid-for-nav">

    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-nav-search">
        
          <a href="../index.html" class="fa fa-home"> Chapel Documentation</a>
        
        
<?php   // Variables given by sphinx 
   $chplTitle = "1.12";   $pagename = "./platforms/ibm";   include "../versionButton.php";   ?>
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>
      </div>

      <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
        
          
          
              <ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../usingchapel/README.html">Quickstart Instructions</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../usingchapel/README.html#quick-start-instructions">Quick Start Instructions</a></li>
<li class="toctree-l2"><a class="reference internal" href="../usingchapel/README.html#what-s-next">What&#8217;s next?</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../usingchapel/index.html">Using Chapel</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../usingchapel/prereqs.html">Chapel Prerequisites</a></li>
<li class="toctree-l2"><a class="reference internal" href="../usingchapel/chplenv.html">Setting up Your Environment for Chapel</a></li>
<li class="toctree-l2"><a class="reference internal" href="../usingchapel/building.html">Building Chapel</a></li>
<li class="toctree-l2"><a class="reference internal" href="../usingchapel/compiling.html">Compiling Chapel Programs</a></li>
<li class="toctree-l2"><a class="reference internal" href="../usingchapel/executing.html">Executing Chapel Programs</a></li>
<li class="toctree-l2"><a class="reference internal" href="../usingchapel/multilocale.html">Multilocale Chapel Execution</a></li>
<li class="toctree-l2"><a class="reference internal" href="../usingchapel/launcher.html">Chapel Launchers</a></li>
<li class="toctree-l2"><a class="reference internal" href="../usingchapel/tasks.html">Chapel Tasks</a></li>
<li class="toctree-l2"><a class="reference internal" href="../usingchapel/debugging.html">Debugging Chapel Programs</a></li>
<li class="toctree-l2"><a class="reference internal" href="../usingchapel/bugs.html">Reporting Chapel Bugs</a></li>
</ul>
</li>
<li class="toctree-l1 current"><a class="reference internal" href="index.html">Platform-Specific Notes</a><ul class="current">
<li class="toctree-l2"><a class="reference internal" href="cray.html">Using Chapel on Cray Systems</a></li>
<li class="toctree-l2"><a class="reference internal" href="cygwin.html">Using Chapel on Cygwin</a></li>
<li class="toctree-l2 current"><a class="current reference internal" href="">Using Chapel on IBM Systems</a></li>
<li class="toctree-l2"><a class="reference internal" href="knc.html">Using Chapel on Intel Xeon Phi</a></li>
<li class="toctree-l2"><a class="reference internal" href="macosx.html">Using Chapel on Mac OS X</a></li>
<li class="toctree-l2"><a class="reference internal" href="marenostrum.html">Using Chapel on MareNostrum</a></li>
<li class="toctree-l2"><a class="reference internal" href="sgi.html">Using Chapel on SGI Altix</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../modules/builtins.html">Built-in Types and Functions</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../modules/internal/Atomics.html">Atomics</a></li>
<li class="toctree-l2"><a class="reference internal" href="../modules/internal/ChapelArray.html">Domain and Array Operations</a></li>
<li class="toctree-l2"><a class="reference internal" href="../modules/internal/ChapelComplex_forDocs.html">Complex</a></li>
<li class="toctree-l2"><a class="reference internal" href="../modules/internal/ChapelIO.html">IO Support</a></li>
<li class="toctree-l2"><a class="reference internal" href="../modules/internal/ChapelIteratorSupport.html">Vectorizing Iterator</a></li>
<li class="toctree-l2"><a class="reference internal" href="../modules/internal/ChapelLocale.html">Locales</a></li>
<li class="toctree-l2"><a class="reference internal" href="../modules/internal/ChapelRange.html">Ranges</a></li>
<li class="toctree-l2"><a class="reference internal" href="../modules/internal/ChapelSyncvar.html">Synchronization Variables</a></li>
<li class="toctree-l2"><a class="reference internal" href="../modules/internal/ChapelTuple.html">Tuples</a></li>
<li class="toctree-l2"><a class="reference internal" href="../modules/internal/UtilMisc_forDocs.html">Misc Functions</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../modules/standardlibrary.html">Standard Library</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../modules/modules.html">Modules</a></li>
<li class="toctree-l2"><a class="reference internal" href="../modules/distributions.html">Distributions</a></li>
<li class="toctree-l2"><a class="reference internal" href="../modules/layouts.html">Layouts</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../technotes/index.html">Technical Notes</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../technotes/allocators.html">Chapel&#8217;s Use of Allocators</a></li>
<li class="toctree-l2"><a class="reference internal" href="../technotes/atomics.html">Runtime Support for Atomics</a></li>
<li class="toctree-l2"><a class="reference internal" href="../technotes/auxIO.html">Auxiliary I/O Systems</a></li>
<li class="toctree-l2"><a class="reference internal" href="../technotes/chpl-ipe.html">Interactive Chapel</a></li>
<li class="toctree-l2"><a class="reference internal" href="../technotes/chpldoc.html">Documenting Chapel</a></li>
<li class="toctree-l2"><a class="reference internal" href="../technotes/dsi.html">Domain Map Standard Interface</a></li>
<li class="toctree-l2"><a class="reference internal" href="../technotes/extern.html">C Interoperability</a></li>
<li class="toctree-l2"><a class="reference internal" href="../technotes/firstClassFns.html">First-class Functions in Chapel</a></li>
<li class="toctree-l2"><a class="reference internal" href="../technotes/libraries.html">Exporting Chapel as a Library</a></li>
<li class="toctree-l2"><a class="reference internal" href="../technotes/llvm.html">LLVM Support</a></li>
<li class="toctree-l2"><a class="reference internal" href="../technotes/local.html">The &#8216;local&#8217; Statement</a></li>
<li class="toctree-l2"><a class="reference internal" href="../technotes/localeModels.html">Locale Models</a></li>
<li class="toctree-l2"><a class="reference internal" href="../technotes/main.html">Support for main() Functions</a></li>
<li class="toctree-l2"><a class="reference internal" href="../technotes/module_search.html">Module Search Paths</a></li>
<li class="toctree-l2"><a class="reference internal" href="../technotes/reduceIntents.html">Reduce Intents</a></li>
<li class="toctree-l2"><a class="reference internal" href="../technotes/sets.html">Associative Set Operations</a></li>
<li class="toctree-l2"><a class="reference internal" href="../technotes/subquery.html">Querying a Local Subdomain</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../tools/index.html">Tools</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../tools/chplvis/index.html">chplvis</a></li>
</ul>
</li>
</ul>

          
        
      </div>
      &nbsp;
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" role="navigation" aria-label="top navigation">
        <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
        <a href="../index.html">Chapel Documentation 1.12</a>
      </nav>


      
      <div class="wy-nav-content">
        <div class="rst-content">
          <div role="navigation" aria-label="breadcrumbs navigation">
  <ul class="wy-breadcrumbs">
    <li><a href="../index.html">Docs</a> &raquo;</li>
      
          <li><a href="index.html">Platform-Specific Notes</a> &raquo;</li>
      
    <li>Using Chapel on IBM Systems</li>
      <li class="wy-breadcrumbs-aside">
        
          <a href="../_sources/platforms/ibm.txt" rel="nofollow"> View page source</a>
        
      </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document">
            
  <div class="section" id="using-chapel-on-ibm-systems">
<span id="readme-ibm"></span><h1>Using Chapel on IBM Systems<a class="headerlink" href="#using-chapel-on-ibm-systems" title="Permalink to this headline">¶</a></h1>
<div class="admonition warning">
<p class="first admonition-title">Warning</p>
<p class="last">We have not used Chapel on IBM Systems in several years.  It is
likely the information presented here is stale or outdated.  If
you are interested in using Chapel on IBM Systems, please let us
know.</p>
</div>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">If you are using Chapel on IBM&#8217;s MareNostrum, you should refer to
<a class="reference internal" href="marenostrum.html#readme-marenostrum"><em>Using Chapel on MareNostrum</em></a>.</p>
</div>
<p>We only have limited experience using Chapel on IBM systems.  This
file contains notes that reflect our experience, focusing first on
PowerPC-based systems and then BG systems.  If you are not familiar
with Chapel, it is recommended that you first try the
<a class="reference internal" href="../usingchapel/README.html#chapelhome-quickstart"><em>Quick Start Instructions</em></a> to get started with the language.</p>
<div class="section" id="powerpc-smp-clusters">
<h2>PowerPC SMP clusters<a class="headerlink" href="#powerpc-smp-clusters" title="Permalink to this headline">¶</a></h2>
<p>We have run Chapel on clusters of Power5 and Power6 SMP nodes using
the following settings:</p>
<ol class="arabic">
<li><p class="first">Set <tt class="docutils literal"><span class="pre">CHPL_HOME</span></tt> and <tt class="docutils literal"><span class="pre">MANPATH</span></tt> as indicated in <a class="reference internal" href="../usingchapel/chplenv.html#readme-chplenv"><em>Setting up Your Environment for Chapel</em></a>.</p>
</li>
<li><p class="first">Set <tt class="docutils literal"><span class="pre">CHPL_HOST_PLATFORM</span></tt> to <tt class="docutils literal"><span class="pre">pwr5</span></tt> for a Power5 cluster or
<tt class="docutils literal"><span class="pre">pwr6</span></tt> for a Power6 cluster.  For example:</p>
<div class="highlight-sh"><div class="highlight"><pre><span class="nb">export </span><span class="nv">CHPL_HOST_PLATFORM</span><span class="o">=</span>pwr6
</pre></div>
</div>
<p>This will cause Chapel to use the IBM xlc and xlC compilers by
default.</p>
</li>
<li><p class="first">Set <tt class="docutils literal"><span class="pre">CHPL_COMM</span></tt> to gasnet.  For example:</p>
<div class="highlight-sh"><div class="highlight"><pre><span class="nb">export </span><span class="nv">CHPL_COMM</span><span class="o">=</span>gasnet
</pre></div>
</div>
<p>See <a class="reference internal" href="../usingchapel/multilocale.html#readme-multilocale"><em>Multilocale Chapel Execution</em></a> for further information about
running using multiple locales and GASNet.</p>
<p>Note: if you are using an installation in which your xlc/xlC
compilers and <tt class="docutils literal"><span class="pre">ar</span></tt> utility do not use 64-bit object formats by
default, you will need to set the <tt class="docutils literal"><span class="pre">OBJECT_MODE</span></tt> variable to 64
to use GASNet.  For example:</p>
<div class="highlight-sh"><div class="highlight"><pre><span class="nb">export </span><span class="nv">OBJECT_MODE</span><span class="o">=</span>64
</pre></div>
</div>
</li>
<li><p class="first">Make sure you&#8217;re in the top-level chapel/ directory:</p>
<div class="highlight-sh"><div class="highlight"><pre><span class="nb">cd</span> <span class="nv">$CHPL_HOME</span>
</pre></div>
</div>
<p>Make/re-make the compiler and runtime:</p>
<div class="highlight-sh"><div class="highlight"><pre>gmake
</pre></div>
</div>
</li>
<li><p class="first">Set your <tt class="docutils literal"><span class="pre">PATH</span></tt> to include the directory
<tt class="docutils literal"><span class="pre">$CHPL_HOME/bin/$CHPL_HOST_PLATFORM</span></tt> which is created when you
build the compiler.  For example:</p>
<div class="highlight-sh"><div class="highlight"><pre><span class="nb">export </span><span class="nv">PATH</span><span class="o">=</span><span class="s2">&quot;</span><span class="nv">$PATH</span><span class="s2">:</span><span class="nv">$CHPL_HOME</span><span class="s2">/bin/</span><span class="nv">$CHPL_HOST_PLATFORM</span><span class="s2">&quot;</span>
</pre></div>
</div>
</li>
<li><p class="first">Compile your Chapel program as usual.  See
<a class="reference internal" href="../usingchapel/compiling.html#readme-compiling"><em>Compiling Chapel Programs</em></a> for details.  For example:</p>
<div class="highlight-sh"><div class="highlight"><pre>chpl -o hello6-taskpar-dist <span class="nv">$CHPL_HOME</span>/examples/hello6-taskpar-dist.chpl
</pre></div>
</div>
</li>
<li><p class="first">When you compile a multi-locale program for, you will get a
single binary by default (e.g., <tt class="docutils literal"><span class="pre">hello6-taskpar-dist</span></tt>).  In
order to run this program properly, you will typically need to
write a loadleveler script that requests a number of compute
nodes equal to the number of locales that you will specify
through the <tt class="docutils literal"><span class="pre">-nl</span></tt> option, and launches a single copy of the
binary per node (either using poe, or on some systems by simply
invoking the binary directly, at the bottom of the script).  The
parallelism within the node will be generated within the binary
using pthreads in order to utilize all of the cores per node.  In
our experience, the details of required options for loadleveler
scripts vary greatly from one site to another so check with your
site&#8217;s documentation for details.</p>
<p>There is a prototype loadleveler launcher, which can be utilized
by setting the <tt class="docutils literal"><span class="pre">CHPL_LAUNCHER</span></tt> environment variable to
<tt class="docutils literal"><span class="pre">loadleveler</span></tt>. See <a class="reference internal" href="../usingchapel/launcher.html#readme-launcher"><em>Chapel Launchers</em></a> for a general
description of the role of launchers in Chapel.  This launcher is
not sufficiently portable, robust, configurable, or interactive
to warrant being made the default for Power5 or Power6 machines.
If you are an IBM enthusiast who would like to work with us to
improve the utility of this launcher we would greatly appreciate
the help.</p>
</li>
</ol>
</div>
<div class="section" id="additional-notes-for-power5-clusters">
<h2>Additional Notes for Power5 Clusters<a class="headerlink" href="#additional-notes-for-power5-clusters" title="Permalink to this headline">¶</a></h2>
<p>Our current technique for querying the amount of memory per node is
apparently not portable to the Power5 (which is to say, we get an
insanely large value back).  When running the hpcc benchmarks with
the default configuration constants, this will exhibit itself as a
halt indicating that we can&#8217;t take the <cite>log()</cite> of a non-positive
integer.  Set the problem size explicitly using the <tt class="docutils literal"><span class="pre">--m</span></tt> or
<tt class="docutils literal"><span class="pre">--n</span></tt> flags.  If anyone has a chance to debug this problem or
suggest a better way to query the amount of memory before we come up
with a solution, please let us know.</p>
</div>
<div class="section" id="blue-gene-l">
<h2>Blue Gene/L<a class="headerlink" href="#blue-gene-l" title="Permalink to this headline">¶</a></h2>
<p>Our current implementation of Chapel relies heavily on POSIX threads
(pthreads) to implement both intra- and inter-locale parallelism.
Since BG/L does not support pthreads, Chapel is not supported on
this platform.  If you are interested in running Chapel on BG/L,
please contact us and let us know.</p>
</div>
<div class="section" id="blue-gene-p">
<h2>Blue Gene/P<a class="headerlink" href="#blue-gene-p" title="Permalink to this headline">¶</a></h2>
<p>We have done some initial experimentation with the GASNet team to
try and run Chapel on BG/P with some limited success, however more
effort is required to make this a stable and supported platform.  If
running Chapel on BG/P would be of interest to you, please contact
us and let us know.</p>
</div>
</div>


          </div>
          <footer>
  
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
      
        <a href="knc.html" class="btn btn-neutral float-right" title="Using Chapel on Intel Xeon Phi">Next <span class="fa fa-arrow-circle-right"></span></a>
      
      
        <a href="cygwin.html" class="btn btn-neutral" title="Using Chapel on Cygwin"><span class="fa fa-arrow-circle-left"></span> Previous</a>
      
    </div>
  

  <hr/>

  <div role="contentinfo">
    <p>
        &copy; Copyright 2015, Cray Inc.
    </p>
  </div>

  Built with <a href="http://sphinx-doc.org/">Sphinx</a> using a <a href="https://github.com/snide/sphinx_rtd_theme">theme</a> provided by <a href="https://readthedocs.org">Read the Docs</a>.
  
</footer>
        </div>
      </div>

    </section>

  </div>
  


  

    <script type="text/javascript">
        var DOCUMENTATION_OPTIONS = {
            URL_ROOT:'../',
            VERSION:'1.12.0',
            COLLAPSE_INDEX:false,
            FILE_SUFFIX:'.html',
            HAS_SOURCE:  true
        };
    </script>
      <script type="text/javascript" src="../_static/jquery.js"></script>
      <script type="text/javascript" src="../_static/underscore.js"></script>
      <script type="text/javascript" src="../_static/doctools.js"></script>

  

  
  
    <script type="text/javascript" src="../_static/js/theme.js"></script>
  

  
  
  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.StickyNav.enable();
      });
  </script>
  
 

</body>
</html>
