

<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="en" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en" > <!--<![endif]-->
<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>Module: AdvancedIters &mdash; Chapel Documentation 1.12 1.12.0 documentation</title>
  

  
  

  
  <link href='https://fonts.googleapis.com/css?family=Lato:400,700,400italic,700italic|Roboto+Slab:400,700|Inconsolata:400,700&subset=latin,cyrillic' rel='stylesheet' type='text/css'>

  
  
    

  

  
  
    <link rel="stylesheet" href="../../_static/css/theme.css" type="text/css" />
  

  
    <link rel="stylesheet" href="../../_static/style.css" type="text/css" />
  

  
    <link rel="top" title="Chapel Documentation 1.12 1.12.0 documentation" href="../../index.html"/>
        <link rel="up" title="Modules" href="../modules.html"/>
        <link rel="next" title="Module: Assert" href="Assert.html"/>
        <link rel="prev" title="Modules" href="../modules.html"/> 

  
  <script src="https://cdnjs.cloudflare.com/ajax/libs/modernizr/2.6.2/modernizr.min.js"></script>

</head>

<body class="wy-body-for-nav" role="document">

  <div class="wy-grid-for-nav">

    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-nav-search">
        
          <a href="../../index.html" class="fa fa-home"> Chapel Documentation</a>
        
        
<?php   // Variables given by sphinx 
   $chplTitle = "1.12";   $pagename = "./modules/standard/AdvancedIters";   include "../../versionButton.php";   ?>
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>
      </div>

      <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
        
          
          
              <ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../../usingchapel/README.html">Quickstart Instructions</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../../usingchapel/README.html#quick-start-instructions">Quick Start Instructions</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../usingchapel/README.html#what-s-next">What&#8217;s next?</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../../usingchapel/index.html">Using Chapel</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../../usingchapel/prereqs.html">Chapel Prerequisites</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../usingchapel/chplenv.html">Setting up Your Environment for Chapel</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../usingchapel/building.html">Building Chapel</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../usingchapel/compiling.html">Compiling Chapel Programs</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../usingchapel/executing.html">Executing Chapel Programs</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../usingchapel/multilocale.html">Multilocale Chapel Execution</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../usingchapel/launcher.html">Chapel Launchers</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../usingchapel/tasks.html">Chapel Tasks</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../usingchapel/debugging.html">Debugging Chapel Programs</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../usingchapel/bugs.html">Reporting Chapel Bugs</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../../platforms/index.html">Platform-Specific Notes</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../../platforms/cray.html">Using Chapel on Cray Systems</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../platforms/cygwin.html">Using Chapel on Cygwin</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../platforms/ibm.html">Using Chapel on IBM Systems</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../platforms/knc.html">Using Chapel on Intel Xeon Phi</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../platforms/macosx.html">Using Chapel on Mac OS X</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../platforms/marenostrum.html">Using Chapel on MareNostrum</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../platforms/sgi.html">Using Chapel on SGI Altix</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../builtins.html">Built-in Types and Functions</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../internal/Atomics.html">Atomics</a></li>
<li class="toctree-l2"><a class="reference internal" href="../internal/ChapelArray.html">Domain and Array Operations</a></li>
<li class="toctree-l2"><a class="reference internal" href="../internal/ChapelComplex_forDocs.html">Complex</a></li>
<li class="toctree-l2"><a class="reference internal" href="../internal/ChapelIO.html">IO Support</a></li>
<li class="toctree-l2"><a class="reference internal" href="../internal/ChapelIteratorSupport.html">Vectorizing Iterator</a></li>
<li class="toctree-l2"><a class="reference internal" href="../internal/ChapelLocale.html">Locales</a></li>
<li class="toctree-l2"><a class="reference internal" href="../internal/ChapelRange.html">Ranges</a></li>
<li class="toctree-l2"><a class="reference internal" href="../internal/ChapelSyncvar.html">Synchronization Variables</a></li>
<li class="toctree-l2"><a class="reference internal" href="../internal/ChapelTuple.html">Tuples</a></li>
<li class="toctree-l2"><a class="reference internal" href="../internal/UtilMisc_forDocs.html">Misc Functions</a></li>
</ul>
</li>
<li class="toctree-l1 current"><a class="reference internal" href="../standardlibrary.html">Standard Library</a><ul class="current">
<li class="toctree-l2 current"><a class="reference internal" href="../modules.html">Modules</a></li>
<li class="toctree-l2"><a class="reference internal" href="../distributions.html">Distributions</a></li>
<li class="toctree-l2"><a class="reference internal" href="../layouts.html">Layouts</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../../technotes/index.html">Technical Notes</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../../technotes/allocators.html">Chapel&#8217;s Use of Allocators</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../technotes/atomics.html">Runtime Support for Atomics</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../technotes/auxIO.html">Auxiliary I/O Systems</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../technotes/chpl-ipe.html">Interactive Chapel</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../technotes/chpldoc.html">Documenting Chapel</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../technotes/dsi.html">Domain Map Standard Interface</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../technotes/extern.html">C Interoperability</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../technotes/firstClassFns.html">First-class Functions in Chapel</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../technotes/libraries.html">Exporting Chapel as a Library</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../technotes/llvm.html">LLVM Support</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../technotes/local.html">The &#8216;local&#8217; Statement</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../technotes/localeModels.html">Locale Models</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../technotes/main.html">Support for main() Functions</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../technotes/module_search.html">Module Search Paths</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../technotes/reduceIntents.html">Reduce Intents</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../technotes/sets.html">Associative Set Operations</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../technotes/subquery.html">Querying a Local Subdomain</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../../tools/index.html">Tools</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../../tools/chplvis/index.html">chplvis</a></li>
</ul>
</li>
</ul>

          
        
      </div>
      &nbsp;
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" role="navigation" aria-label="top navigation">
        <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
        <a href="../../index.html">Chapel Documentation 1.12</a>
      </nav>


      
      <div class="wy-nav-content">
        <div class="rst-content">
          <div role="navigation" aria-label="breadcrumbs navigation">
  <ul class="wy-breadcrumbs">
    <li><a href="../../index.html">Docs</a> &raquo;</li>
      
          <li><a href="../standardlibrary.html">Standard Library</a> &raquo;</li>
      
          <li><a href="../modules.html">Modules</a> &raquo;</li>
      
    <li>Module: AdvancedIters</li>
      <li class="wy-breadcrumbs-aside">
        
          <a href="../../_sources/modules/standard/AdvancedIters.txt" rel="nofollow"> View page source</a>
        
      </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document">
            
  <span class="target" id="module-AdvancedIters"></span><div class="section" id="module-advancediters">
<h1>Module: AdvancedIters<a class="headerlink" href="#module-advancediters" title="Permalink to this headline">¶</a></h1>
<p>This module contains several iterators that can be used to drive a <cite>forall</cite>
loop by performing dynamic and adaptive splitting of a range&#8217;s iterations.</p>
<p>For more information, see <em>User-Defined Parallel Zippered Iterators
in Chapel</em>. Bradford L. Chamberlain, Sung-Eun Choi, Steven J. Deitz,
Angeles Navarro. <em>PGAS 2011: Fifth Conference on Partitioned Global
Address Space Programming Models</em>, October 2011.</p>
<dl class="data">
<dt id="AdvancedIters.debugAdvancedIters">
<em class="property">config param </em><tt class="descname">debugAdvancedIters</tt>: bool = false<a class="headerlink" href="#AdvancedIters.debugAdvancedIters" title="Permalink to this definition">¶</a></dt>
<dd><p>Toggle debugging output.</p>
</dd></dl>

<dl class="iterfunction">
<dt id="AdvancedIters.dynamic">
<em class="property">iter </em><tt class="descname">dynamic</tt><big>(</big><em>c: range(?)</em>, <em>chunkSize: int</em>, <em>numTasks: int = 0</em><big>)</big><a class="headerlink" href="#AdvancedIters.dynamic" title="Permalink to this definition">¶</a></dt>
<dd><table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Arguments:</th><td class="field-body"><ul class="first simple">
<li><strong>c</strong> : <em>range(?)</em> &#8211; The range to iterate over. The length of the range must be greater
than zero.</li>
<li><strong>chunkSize</strong> : <em>int</em> &#8211; The size of chunks to be yielded to each thread. Must be
greater than zero.</li>
<li><strong>numTasks</strong> : <em>int</em> &#8211; The number of tasks to use. Must be &gt;= zero. If this argument
has the value 0, it will use the value indicated by
<tt class="docutils literal"><span class="pre">dataParTasksPerLocale</span></tt>.</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Yields:</th><td class="field-body"><p class="first last">Indices in the range <tt class="docutils literal"><span class="pre">c</span></tt>.</p>
</td>
</tr>
</tbody>
</table>
<p>This iterator is equivalent to the dynamic scheduling approach of OpenMP.</p>
<p>Given an input range <tt class="docutils literal"><span class="pre">c</span></tt>, each task is assigned chunks of size
<tt class="docutils literal"><span class="pre">chunkSize</span></tt> from <tt class="docutils literal"><span class="pre">c</span></tt> (or the remaining iterations if there are fewer
than <tt class="docutils literal"><span class="pre">chunkSize</span></tt>). This continues until there are no remaining iterations
in <tt class="docutils literal"><span class="pre">c</span></tt>.</p>
<p>This iterator can be called in serial and zippered contexts.</p>
</dd></dl>

<dl class="iterfunction">
<dt id="AdvancedIters.guided">
<em class="property">iter </em><tt class="descname">guided</tt><big>(</big><em>c: range(?)</em>, <em>numTasks: int = 0</em><big>)</big><a class="headerlink" href="#AdvancedIters.guided" title="Permalink to this definition">¶</a></dt>
<dd><table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Arguments:</th><td class="field-body"><ul class="first simple">
<li><strong>c</strong> : <em>range(?)</em> &#8211; The range to iterate over. Must have a length greater than zero.</li>
<li><strong>numTasks</strong> : <em>int</em> &#8211; The number of tasks to use. Must be &gt;= zero. If this argument
has the value 0, it will use the value indicated by
<tt class="docutils literal"><span class="pre">dataParTasksPerLocale</span></tt>.</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Yields:</th><td class="field-body"><p class="first last">Indices in the range <tt class="docutils literal"><span class="pre">c</span></tt>.</p>
</td>
</tr>
</tbody>
</table>
<p>This iterator is equivalent to the guided policy of OpenMP: Given an input
range <tt class="docutils literal"><span class="pre">c</span></tt>, each task is assigned chunks of variable size, until there are
no remaining iterations in <tt class="docutils literal"><span class="pre">c</span></tt>. The size of each chunk is the number of
unassigned iterations divided by the number of tasks, <tt class="docutils literal"><span class="pre">numTasks</span></tt>. The size
decreases approximately exponentially to 1. The splitting strategy is
therefore adaptive.</p>
<p>This iterator can be called in serial and zippered contexts.</p>
</dd></dl>

<dl class="iterfunction">
<dt id="AdvancedIters.adaptive">
<em class="property">iter </em><tt class="descname">adaptive</tt><big>(</big><em>c: range(?)</em>, <em>numTasks: int = 0</em><big>)</big><a class="headerlink" href="#AdvancedIters.adaptive" title="Permalink to this definition">¶</a></dt>
<dd><table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Arguments:</th><td class="field-body"><ul class="first simple">
<li><strong>c</strong> : <em>range(?)</em> &#8211; The range to iterate over. Must have a length greater than zero.</li>
<li><strong>numTasks</strong> : <em>int</em> &#8211; The number of tasks to use. Must be &gt;= zero. If this argument
has the value 0, it will use the value indicated by
<tt class="docutils literal"><span class="pre">dataParTasksPerLocale</span></tt>.</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Yields:</th><td class="field-body"><p class="first last">Indices in the range <tt class="docutils literal"><span class="pre">c</span></tt>.</p>
</td>
</tr>
</tbody>
</table>
<p>This iterator implements a naive adaptive binary splitting work-stealing
strategy: Initially the leader iterator distributes the range to split, <tt class="docutils literal"><span class="pre">c</span></tt>,
evenly among the <tt class="docutils literal"><span class="pre">numTasks</span></tt> tasks.</p>
<p>Then, each task performs adaptive splitting on its local sub-range&#8217;s iterations.
When a task exhausts its local iterations, it steals and splits from the
range of another task (the victim). The splitting method on the local range
and on the victim range is binary: i.e. the size of each chunk is computed as
the number of unassigned iterations divided by 2. There are three stealing
strategies that can be selected at compile time using the config param
<a class="reference internal" href="#AdvancedIters.methodStealing" title="AdvancedIters.methodStealing"><tt class="xref chpl chpl-param docutils literal"><span class="pre">methodStealing</span></tt></a>.</p>
<p>This iterator can be called in serial and zippered contexts.</p>
</dd></dl>

<dl class="enum">
<dt id="AdvancedIters.Method">
<em class="property">enum </em><tt class="descname">Method</tt> { Whole = 0, RoundRobin = 1, WholeTail = 2 }<a class="headerlink" href="#AdvancedIters.Method" title="Permalink to this definition">¶</a></dt>
<dd><p>The enum used to represent adaptive methods.</p>
<ul class="simple">
<li><tt class="docutils literal"><span class="pre">Whole</span></tt>
Each task without work tries to steal from its neighbor range
until it exhausts that range. Then the task continues with the next
neighbor range, and so on until there is no more work. This is the default
policy.</li>
<li><tt class="docutils literal"><span class="pre">RoundRobin</span></tt>
Each task without work tries to steal once from its neighbor range, next
from the following neighbor range and so on in a round-robin way until
there is no more work.</li>
<li><tt class="docutils literal"><span class="pre">WholeTail</span></tt>
Similar to the <tt class="docutils literal"><span class="pre">Whole</span></tt> method, but now the splitting in the victim
range is performed from its tail.</li>
</ul>
</dd></dl>

<dl class="data">
<dt id="AdvancedIters.methodStealing">
<em class="property">config param </em><tt class="descname">methodStealing</tt> = Method.Whole<a class="headerlink" href="#AdvancedIters.methodStealing" title="Permalink to this definition">¶</a></dt>
<dd><p>Used to select the adaptive stealing method. Defaults to <tt class="docutils literal"><span class="pre">Whole</span></tt>.
See <a class="reference internal" href="#AdvancedIters.Method" title="AdvancedIters.Method"><tt class="xref chpl chpl-data docutils literal"><span class="pre">Method</span></tt></a> for more information.</p>
</dd></dl>

</div>


          </div>
          <footer>
  
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
      
        <a href="Assert.html" class="btn btn-neutral float-right" title="Module: Assert">Next <span class="fa fa-arrow-circle-right"></span></a>
      
      
        <a href="../modules.html" class="btn btn-neutral" title="Modules"><span class="fa fa-arrow-circle-left"></span> Previous</a>
      
    </div>
  

  <hr/>

  <div role="contentinfo">
    <p>
        &copy; Copyright 2015, Cray Inc.
    </p>
  </div>

  Built with <a href="http://sphinx-doc.org/">Sphinx</a> using a <a href="https://github.com/snide/sphinx_rtd_theme">theme</a> provided by <a href="https://readthedocs.org">Read the Docs</a>.
  
</footer>
        </div>
      </div>

    </section>

  </div>
  


  

    <script type="text/javascript">
        var DOCUMENTATION_OPTIONS = {
            URL_ROOT:'../../',
            VERSION:'1.12.0',
            COLLAPSE_INDEX:false,
            FILE_SUFFIX:'.html',
            HAS_SOURCE:  true
        };
    </script>
      <script type="text/javascript" src="../../_static/jquery.js"></script>
      <script type="text/javascript" src="../../_static/underscore.js"></script>
      <script type="text/javascript" src="../../_static/doctools.js"></script>

  

  
  
    <script type="text/javascript" src="../../_static/js/theme.js"></script>
  

  
  
  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.StickyNav.enable();
      });
  </script>
  
 

</body>
</html>
