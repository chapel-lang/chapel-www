

<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="en" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en" > <!--<![endif]-->
<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>Module: Spawn &mdash; Chapel Documentation 1.12 1.12.0 documentation</title>
  

  
  

  
  <link href='https://fonts.googleapis.com/css?family=Lato:400,700,400italic,700italic|Roboto+Slab:400,700|Inconsolata:400,700&subset=latin,cyrillic' rel='stylesheet' type='text/css'>

  
  
    

  

  
  
    <link rel="stylesheet" href="../../_static/css/theme.css" type="text/css" />
  

  
    <link rel="stylesheet" href="../../_static/style.css" type="text/css" />
  

  
    <link rel="top" title="Chapel Documentation 1.12 1.12.0 documentation" href="../../index.html"/>
        <link rel="up" title="Modules" href="../modules.html"/>
        <link rel="next" title="Module: Sys" href="Sys.html"/>
        <link rel="prev" title="Module: Sort" href="Sort.html"/> 

  
  <script src="https://cdnjs.cloudflare.com/ajax/libs/modernizr/2.6.2/modernizr.min.js"></script>

</head>

<body class="wy-body-for-nav" role="document">

  <div class="wy-grid-for-nav">

    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-nav-search">
        
          <a href="../../index.html" class="fa fa-home"> Chapel Documentation</a>
        
        
<?php   // Variables given by sphinx 
   $chplTitle = "1.12";   $pagename = "./modules/standard/Spawn";   include "../../versionButton.php";   ?>
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>
      </div>

      <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
        
          
          
              <ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../../usingchapel/README.html">Quickstart Instructions</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../../usingchapel/README.html#quick-start-instructions">Quick Start Instructions</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../usingchapel/README.html#what-s-next">What&#8217;s next?</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../../usingchapel/index.html">Using Chapel</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../../usingchapel/prereqs.html">Chapel Prerequisites</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../usingchapel/chplenv.html">Setting up Your Environment for Chapel</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../usingchapel/building.html">Building Chapel</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../usingchapel/compiling.html">Compiling Chapel Programs</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../usingchapel/executing.html">Executing Chapel Programs</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../usingchapel/multilocale.html">Multilocale Chapel Execution</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../usingchapel/launcher.html">Chapel Launchers</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../usingchapel/tasks.html">Chapel Tasks</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../usingchapel/debugging.html">Debugging Chapel Programs</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../usingchapel/bugs.html">Reporting Chapel Bugs</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../../platforms/index.html">Platform-Specific Notes</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../../platforms/cray.html">Using Chapel on Cray Systems</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../platforms/cygwin.html">Using Chapel on Cygwin</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../platforms/ibm.html">Using Chapel on IBM Systems</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../platforms/knc.html">Using Chapel on Intel Xeon Phi</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../platforms/macosx.html">Using Chapel on Mac OS X</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../platforms/marenostrum.html">Using Chapel on MareNostrum</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../platforms/sgi.html">Using Chapel on SGI Altix</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../builtins.html">Built-in Types and Functions</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../internal/Atomics.html">Atomics</a></li>
<li class="toctree-l2"><a class="reference internal" href="../internal/ChapelArray.html">Domain and Array Operations</a></li>
<li class="toctree-l2"><a class="reference internal" href="../internal/ChapelComplex_forDocs.html">Complex</a></li>
<li class="toctree-l2"><a class="reference internal" href="../internal/ChapelIO.html">IO Support</a></li>
<li class="toctree-l2"><a class="reference internal" href="../internal/ChapelIteratorSupport.html">Vectorizing Iterator</a></li>
<li class="toctree-l2"><a class="reference internal" href="../internal/ChapelLocale.html">Locales</a></li>
<li class="toctree-l2"><a class="reference internal" href="../internal/ChapelRange.html">Ranges</a></li>
<li class="toctree-l2"><a class="reference internal" href="../internal/ChapelSyncvar.html">Synchronization Variables</a></li>
<li class="toctree-l2"><a class="reference internal" href="../internal/ChapelTuple.html">Tuples</a></li>
<li class="toctree-l2"><a class="reference internal" href="../internal/UtilMisc_forDocs.html">Misc Functions</a></li>
</ul>
</li>
<li class="toctree-l1 current"><a class="reference internal" href="../standardlibrary.html">Standard Library</a><ul class="current">
<li class="toctree-l2 current"><a class="reference internal" href="../modules.html">Modules</a></li>
<li class="toctree-l2"><a class="reference internal" href="../distributions.html">Distributions</a></li>
<li class="toctree-l2"><a class="reference internal" href="../layouts.html">Layouts</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../../technotes/index.html">Technical Notes</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../../technotes/allocators.html">Chapel&#8217;s Use of Allocators</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../technotes/atomics.html">Runtime Support for Atomics</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../technotes/auxIO.html">Auxiliary I/O Systems</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../technotes/chpl-ipe.html">Interactive Chapel</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../technotes/chpldoc.html">Documenting Chapel</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../technotes/dsi.html">Domain Map Standard Interface</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../technotes/extern.html">C Interoperability</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../technotes/firstClassFns.html">First-class Functions in Chapel</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../technotes/libraries.html">Exporting Chapel as a Library</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../technotes/llvm.html">LLVM Support</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../technotes/local.html">The &#8216;local&#8217; Statement</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../technotes/localeModels.html">Locale Models</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../technotes/main.html">Support for main() Functions</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../technotes/module_search.html">Module Search Paths</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../technotes/reduceIntents.html">Reduce Intents</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../technotes/sets.html">Associative Set Operations</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../technotes/subquery.html">Querying a Local Subdomain</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../../tools/index.html">Tools</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../../tools/chplvis/index.html">chplvis</a></li>
</ul>
</li>
</ul>

          
        
      </div>
      &nbsp;
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" role="navigation" aria-label="top navigation">
        <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
        <a href="../../index.html">Chapel Documentation 1.12</a>
      </nav>


      
      <div class="wy-nav-content">
        <div class="rst-content">
          <div role="navigation" aria-label="breadcrumbs navigation">
  <ul class="wy-breadcrumbs">
    <li><a href="../../index.html">Docs</a> &raquo;</li>
      
          <li><a href="../standardlibrary.html">Standard Library</a> &raquo;</li>
      
          <li><a href="../modules.html">Modules</a> &raquo;</li>
      
    <li>Module: Spawn</li>
      <li class="wy-breadcrumbs-aside">
        
          <a href="../../_sources/modules/standard/Spawn.txt" rel="nofollow"> View page source</a>
        
      </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document">
            
  <span class="target" id="module-Spawn"></span><div class="section" id="module-spawn">
<h1>Module: Spawn<a class="headerlink" href="#module-spawn" title="Permalink to this headline">¶</a></h1>
<div class="versionadded">
<p><span class="versionmodified">New in version 1.12: </span>Spawn module added.</p>
</div>
<p>Support launching and interacting with other programs.</p>
<p>Using functions in this module, one can create a subprocess
and possibly capture its output. It is also possible to provide
input to a subprocess.</p>
<p>To start a subprocess, use <a class="reference internal" href="#Spawn.spawn" title="Spawn.spawn"><tt class="xref chpl chpl-proc docutils literal"><span class="pre">spawn</span></tt></a> or <a class="reference internal" href="#Spawn.spawnshell" title="Spawn.spawnshell"><tt class="xref chpl chpl-proc docutils literal"><span class="pre">spawnshell</span></tt></a>.  To wait for
the subprocess process to finish, use the <a class="reference internal" href="#Spawn.subprocess.wait" title="Spawn.subprocess.wait"><tt class="xref chpl chpl-proc docutils literal"><span class="pre">subprocess.wait</span></tt></a> or
<a class="reference internal" href="#Spawn.subprocess.communicate" title="Spawn.subprocess.communicate"><tt class="xref chpl chpl-proc docutils literal"><span class="pre">subprocess.communicate</span></tt></a> functions.</p>
<p>This example program produces a listing of files in the current directory with
names that begin with <tt class="docutils literal"><span class="pre">test.</span></tt> by using the <tt class="docutils literal"><span class="pre">ls</span></tt> command. The
output will be mixed in with the Chapel program&#8217;s output.</p>
<div class="highlight-chapel"><div class="highlight"><pre><span class="k">use</span> <span class="nx">Spawn</span><span class="p">;</span>

<span class="kd">var</span> <span class="nx">sub</span> <span class="o">=</span> <span class="nx">spawn</span><span class="p">([</span><span class="s">&quot;ls&quot;</span><span class="p">,</span> <span class="s">&quot;test.*&quot;</span><span class="p">]);</span>
<span class="nx">sub</span><span class="p">.</span><span class="nx">wait</span><span class="p">();</span>
</pre></div>
</div>
<p>This version also runs the <tt class="docutils literal"><span class="pre">ls</span></tt> command but uses a pipe
to read the output from the <tt class="docutils literal"><span class="pre">ls</span></tt> command.</p>
<div class="highlight-chapel"><div class="highlight"><pre><span class="k">use</span> <span class="nx">Spawn</span><span class="p">;</span>

<span class="kd">var</span> <span class="nx">sub</span> <span class="o">=</span> <span class="nx">spawn</span><span class="p">([</span><span class="s">&quot;ls&quot;</span><span class="p">,</span> <span class="s">&quot;test.*&quot;</span><span class="p">],</span> <span class="nx">stdout</span><span class="o">=</span><span class="nx">PIPE</span><span class="p">);</span>

<span class="kd">var</span> <span class="nx">line</span><span class="p">:</span><span class="kt">string</span><span class="p">;</span>
<span class="k">while</span> <span class="nx">sub</span><span class="p">.</span><span class="nx">stdout</span><span class="p">.</span><span class="nx">readline</span><span class="p">(</span><span class="nx">line</span><span class="p">)</span> <span class="p">{</span>
  <span class="nx">write</span><span class="p">(</span><span class="s">&quot;ls returned: &quot;</span><span class="p">,</span> <span class="nx">line</span><span class="p">);</span>
<span class="p">}</span>

<span class="nx">sub</span><span class="p">.</span><span class="nx">wait</span><span class="p">();</span>
</pre></div>
</div>
<p>Finally, this version uses pipes to provide input to
a subprocess in addition to capturing its output. This
version uses the <tt class="docutils literal"><span class="pre">cat</span></tt> command, which just prints
back its input.</p>
<div class="highlight-chapel"><div class="highlight"><pre><span class="k">use</span> <span class="nx">Spawn</span><span class="p">;</span>

<span class="kd">var</span> <span class="nx">sub</span> <span class="o">=</span> <span class="nx">spawn</span><span class="p">([</span><span class="s">&quot;cat&quot;</span><span class="p">],</span> <span class="nx">stdin</span><span class="o">=</span><span class="nx">PIPE</span><span class="p">,</span> <span class="nx">stdout</span><span class="o">=</span><span class="nx">PIPE</span><span class="p">);</span>

<span class="nx">sub</span><span class="p">.</span><span class="nx">stdin</span><span class="p">.</span><span class="nx">writeln</span><span class="p">(</span><span class="s">&quot;Hello&quot;</span><span class="p">);</span>
<span class="nx">sub</span><span class="p">.</span><span class="nx">stdin</span><span class="p">.</span><span class="nx">writeln</span><span class="p">(</span><span class="s">&quot;World&quot;</span><span class="p">);</span>

<span class="nx">sub</span><span class="p">.</span><span class="nx">communicate</span><span class="p">();</span>

<span class="kd">var</span> <span class="nx">line</span><span class="p">:</span><span class="kt">string</span><span class="p">;</span>
<span class="k">while</span> <span class="nx">sub</span><span class="p">.</span><span class="nx">stdout</span><span class="p">.</span><span class="nx">readline</span><span class="p">(</span><span class="nx">line</span><span class="p">)</span> <span class="p">{</span>
  <span class="nx">write</span><span class="p">(</span><span class="s">&quot;Got line: &quot;</span><span class="p">,</span> <span class="nx">line</span><span class="p">);</span>
<span class="p">}</span>
<span class="c1">// prints out:</span>
<span class="c1">// Got line: Hello</span>
<span class="c1">// Got line: World</span>
</pre></div>
</div>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">As of Chapel v1.12, creating a subprocess that uses <a class="reference internal" href="#Spawn.PIPE" title="Spawn.PIPE"><tt class="xref chpl chpl-const docutils literal"><span class="pre">PIPE</span></tt></a> to provide
input or capture output does not work when using the ugni communications
layer and when using more than one locale. In this circumstance, the program
will halt with an error message. These scenarios do work when using GASNet
instead of the ugni layer.</p>
</div>
<dl class="record">
<dt id="Spawn.subprocess">
<em class="property">record </em><tt class="descname">subprocess</tt><a class="headerlink" href="#Spawn.subprocess" title="Permalink to this definition">¶</a></dt>
<dd><p>This record represents a subprocess.</p>
<dl class="attribute">
<dt id="Spawn.subprocess.kind">
<em class="property">param </em><tt class="descname">kind</tt>: iokind<a class="headerlink" href="#Spawn.subprocess.kind" title="Permalink to this definition">¶</a></dt>
<dd><p>The kind of a subprocess is used to create the types
for any channels that are necessary.</p>
</dd></dl>

<dl class="attribute">
<dt id="Spawn.subprocess.locking">
<em class="property">param </em><tt class="descname">locking</tt>: bool<a class="headerlink" href="#Spawn.subprocess.locking" title="Permalink to this definition">¶</a></dt>
<dd><p>As with kind, this value is used to create the types
for any channels that are necessary.</p>
</dd></dl>

<dl class="attribute">
<dt id="Spawn.subprocess.pid">
<em class="property">var </em><tt class="descname">pid</tt>: int(64)<a class="headerlink" href="#Spawn.subprocess.pid" title="Permalink to this definition">¶</a></dt>
<dd><p>The Process ID number of the spawned process</p>
</dd></dl>

<dl class="attribute">
<dt id="Spawn.subprocess.running">
<em class="property">var </em><tt class="descname">running</tt>: bool<a class="headerlink" href="#Spawn.subprocess.running" title="Permalink to this definition">¶</a></dt>
<dd><p><cite>false</cite> if this library knows that the subprocess is not running</p>
</dd></dl>

<dl class="attribute">
<dt id="Spawn.subprocess.exit_status">
<em class="property">var </em><tt class="descname">exit_status</tt>: int<a class="headerlink" href="#Spawn.subprocess.exit_status" title="Permalink to this definition">¶</a></dt>
<dd><p>The exit status from the subprocess, or possibly a value &gt;= 256
if there was en error when creating the subprocess</p>
</dd></dl>

</dd></dl>

<dl class="data">
<dt id="Spawn.FORWARD">
<em class="property">const </em><tt class="descname">FORWARD</tt> = QIO_FD_FORWARD<a class="headerlink" href="#Spawn.FORWARD" title="Permalink to this definition">¶</a></dt>
<dd><p>FORWARD indicates that the child process should inherit
the stdin/stdout/stderr of this process.</p>
</dd></dl>

<dl class="data">
<dt id="Spawn.CLOSE">
<em class="property">const </em><tt class="descname">CLOSE</tt> = QIO_FD_CLOSE<a class="headerlink" href="#Spawn.CLOSE" title="Permalink to this definition">¶</a></dt>
<dd><p>CLOSE indicates that the child process should close
its stdin/stdout/stderr.</p>
</dd></dl>

<dl class="data">
<dt id="Spawn.PIPE">
<em class="property">const </em><tt class="descname">PIPE</tt> = QIO_FD_PIPE<a class="headerlink" href="#Spawn.PIPE" title="Permalink to this definition">¶</a></dt>
<dd><p>PIPE indicates that the spawn operation should set up
a pipe between the parent process and the child process
so that the parent process can provide input to the
child process or capture its output.</p>
</dd></dl>

<dl class="data">
<dt id="Spawn.STDOUT">
<em class="property">const </em><tt class="descname">STDOUT</tt> = QIO_FD_TO_STDOUT<a class="headerlink" href="#Spawn.STDOUT" title="Permalink to this definition">¶</a></dt>
<dd><p>STDOUT indicates that the stderr stream of the child process
should be forwarded to its stdout stream.</p>
</dd></dl>

<dl class="function">
<dt id="Spawn.spawn">
<em class="property">proc </em><tt class="descname">spawn</tt><big>(</big><em>args: [] string</em>, <em>env: [] string = Spawn.empty_env</em>, <em>executable = &quot;&quot;</em>, <em>stdin: ?t = FORWARD</em>, <em>stdout: ?u = FORWARD</em>, <em>stderr: ?v = FORWARD</em>, <em>param kind = iokind.dynamic</em>, <em>param locking = true</em><big>)</big><a class="headerlink" href="#Spawn.spawn" title="Permalink to this definition">¶</a></dt>
<dd><p>Create a subprocess.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Arguments:</th><td class="field-body"><ul class="first simple">
<li><strong>args</strong> &#8211; An array of strings storing the command to run and
its arguments. The command to run is always the first argument.
The command could be found in the current PATH or
it could be a full path to a file to execute. If the
executable argument is set, the first argument will
be the name of the spawned program provided to that
program and typically shown in process listings.</li>
<li><strong>env</strong> &#8211; An array of strings storing the environment to use when
spawning the child process instead of forwarding the
current environment. By default, this argument
is an empty array. In that case,
the current environment will be forwarded to the child
process.</li>
<li><strong>executable</strong> &#8211; By default, the executable argument is &#8220;&#8221;. In that
case, the program to launch is the first element
of the args array. If the executable
argument is provided, it will be used instead of
the first element of the args array as the program
to launch. In either case, the program could be
found by searching the PATH.</li>
<li><strong>stdin</strong> &#8211; indicates how the standard input of the child process
should be handled. It could be <a class="reference internal" href="#Spawn.FORWARD" title="Spawn.FORWARD"><tt class="xref chpl chpl-const docutils literal"><span class="pre">FORWARD</span></tt></a>,
<a class="reference internal" href="#Spawn.CLOSE" title="Spawn.CLOSE"><tt class="xref chpl chpl-const docutils literal"><span class="pre">CLOSE</span></tt></a>, <a class="reference internal" href="#Spawn.PIPE" title="Spawn.PIPE"><tt class="xref chpl chpl-const docutils literal"><span class="pre">PIPE</span></tt></a>, or a file
descriptor number to use. Defaults to <a class="reference internal" href="#Spawn.FORWARD" title="Spawn.FORWARD"><tt class="xref chpl chpl-const docutils literal"><span class="pre">FORWARD</span></tt></a>.</li>
<li><strong>stdout</strong> &#8211; indicates how the standard output of the child process
should be handled. It could be <a class="reference internal" href="#Spawn.FORWARD" title="Spawn.FORWARD"><tt class="xref chpl chpl-const docutils literal"><span class="pre">FORWARD</span></tt></a>,
<a class="reference internal" href="#Spawn.CLOSE" title="Spawn.CLOSE"><tt class="xref chpl chpl-const docutils literal"><span class="pre">CLOSE</span></tt></a>, <a class="reference internal" href="#Spawn.PIPE" title="Spawn.PIPE"><tt class="xref chpl chpl-const docutils literal"><span class="pre">PIPE</span></tt></a>, or a file
descriptor number to use. Defaults to <a class="reference internal" href="#Spawn.FORWARD" title="Spawn.FORWARD"><tt class="xref chpl chpl-const docutils literal"><span class="pre">FORWARD</span></tt></a>.</li>
<li><strong>stderr</strong> &#8211; indicates how the standard error of the child process
should be handled. It could be <a class="reference internal" href="#Spawn.FORWARD" title="Spawn.FORWARD"><tt class="xref chpl chpl-const docutils literal"><span class="pre">FORWARD</span></tt></a>,
<a class="reference internal" href="#Spawn.CLOSE" title="Spawn.CLOSE"><tt class="xref chpl chpl-const docutils literal"><span class="pre">CLOSE</span></tt></a>, <a class="reference internal" href="#Spawn.PIPE" title="Spawn.PIPE"><tt class="xref chpl chpl-const docutils literal"><span class="pre">PIPE</span></tt></a>, <a class="reference internal" href="#Spawn.STDOUT" title="Spawn.STDOUT"><tt class="xref chpl chpl-const docutils literal"><span class="pre">STDOUT</span></tt></a>, or
a file descriptor number to use. Defaults to
<a class="reference internal" href="#Spawn.FORWARD" title="Spawn.FORWARD"><tt class="xref chpl chpl-const docutils literal"><span class="pre">FORWARD</span></tt></a>.</li>
<li><strong>kind</strong> &#8211; What kind of channels should be created when
<a class="reference internal" href="#Spawn.PIPE" title="Spawn.PIPE"><tt class="xref chpl chpl-const docutils literal"><span class="pre">PIPE</span></tt></a> is used. This argument is used to set
<a class="reference internal" href="#Spawn.subprocess.kind" title="Spawn.subprocess.kind"><tt class="xref chpl chpl-attr docutils literal"><span class="pre">subprocess.kind</span></tt></a> in the resulting subprocess.
Defaults to <tt class="xref chpl chpl-enum docutils literal"><span class="pre">IO.iokind.dynamic</span></tt>.</li>
<li><strong>locking</strong> &#8211; Should channels created use locking?
This argument is used to set <a class="reference internal" href="#Spawn.subprocess.locking" title="Spawn.subprocess.locking"><tt class="xref chpl chpl-attr docutils literal"><span class="pre">subprocess.locking</span></tt></a>
in the resulting subprocess. Defaults to <cite>true</cite>.</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first last">a <a class="reference internal" href="#Spawn.subprocess" title="Spawn.subprocess"><tt class="xref chpl chpl-record docutils literal"><span class="pre">subprocess</span></tt></a> with kind and locking set according
to the arguments.</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt id="Spawn.spawnshell">
<em class="property">proc </em><tt class="descname">spawnshell</tt><big>(</big><em>command: string</em>, <em>env: [] string = Spawn.empty_env</em>, <em>stdin: ?t = FORWARD</em>, <em>stdout: ?u = FORWARD</em>, <em>stderr: ?v = FORWARD</em>, <em>executable = &quot;/bin/sh&quot;</em>, <em>shellarg = &quot;-c&quot;</em>, <em>param kind = iokind.dynamic</em>, <em>param locking = true</em><big>)</big><a class="headerlink" href="#Spawn.spawnshell" title="Permalink to this definition">¶</a></dt>
<dd><p>Create a subprocess by invoking a shell.</p>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">Since the command string is passed to a shell, it is
very unsecure to pass user input to this command
without proper quoting.</p>
</div>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Arguments:</th><td class="field-body"><ul class="first simple">
<li><strong>command</strong> &#8211; A string representing the command to run.
This string will be interpreted by the shell.</li>
<li><strong>env</strong> &#8211; An array of strings storing the environment to use when
spawning the child process instead of forwarding the
current environment. By default, this argument
is an empty array. In that case,
the current environment will be forwarded to the child
process.</li>
<li><strong>stdin</strong> &#8211; indicates how the standard input of the child process
should be handled. It could be <a class="reference internal" href="#Spawn.FORWARD" title="Spawn.FORWARD"><tt class="xref chpl chpl-const docutils literal"><span class="pre">FORWARD</span></tt></a>,
<a class="reference internal" href="#Spawn.CLOSE" title="Spawn.CLOSE"><tt class="xref chpl chpl-const docutils literal"><span class="pre">CLOSE</span></tt></a>, <a class="reference internal" href="#Spawn.PIPE" title="Spawn.PIPE"><tt class="xref chpl chpl-const docutils literal"><span class="pre">PIPE</span></tt></a>, or a file
descriptor number to use. Defaults to <a class="reference internal" href="#Spawn.FORWARD" title="Spawn.FORWARD"><tt class="xref chpl chpl-const docutils literal"><span class="pre">FORWARD</span></tt></a>.</li>
<li><strong>stdout</strong> &#8211; indicates how the standard output of the child process
should be handled. It could be <a class="reference internal" href="#Spawn.FORWARD" title="Spawn.FORWARD"><tt class="xref chpl chpl-const docutils literal"><span class="pre">FORWARD</span></tt></a>,
<a class="reference internal" href="#Spawn.CLOSE" title="Spawn.CLOSE"><tt class="xref chpl chpl-const docutils literal"><span class="pre">CLOSE</span></tt></a>, <a class="reference internal" href="#Spawn.PIPE" title="Spawn.PIPE"><tt class="xref chpl chpl-const docutils literal"><span class="pre">PIPE</span></tt></a>, or a file
descriptor number to use. Defaults to <a class="reference internal" href="#Spawn.FORWARD" title="Spawn.FORWARD"><tt class="xref chpl chpl-const docutils literal"><span class="pre">FORWARD</span></tt></a>.</li>
<li><strong>stderr</strong> &#8211; indicates how the standard error of the child process
should be handled. It could be <a class="reference internal" href="#Spawn.FORWARD" title="Spawn.FORWARD"><tt class="xref chpl chpl-const docutils literal"><span class="pre">FORWARD</span></tt></a>,
<a class="reference internal" href="#Spawn.CLOSE" title="Spawn.CLOSE"><tt class="xref chpl chpl-const docutils literal"><span class="pre">CLOSE</span></tt></a>, <a class="reference internal" href="#Spawn.PIPE" title="Spawn.PIPE"><tt class="xref chpl chpl-const docutils literal"><span class="pre">PIPE</span></tt></a>, <a class="reference internal" href="#Spawn.STDOUT" title="Spawn.STDOUT"><tt class="xref chpl chpl-const docutils literal"><span class="pre">STDOUT</span></tt></a>, or
a file descriptor number to use. Defaults to
<a class="reference internal" href="#Spawn.FORWARD" title="Spawn.FORWARD"><tt class="xref chpl chpl-const docutils literal"><span class="pre">FORWARD</span></tt></a>.</li>
<li><strong>executable</strong> &#8211; By default, the executable argument is &#8220;/bin/sh&#8221;.
That directs the subprocess to run the /bin/sh shell
in order to interpret the command string.</li>
<li><strong>shellarg</strong> &#8211; An argument to pass to the shell before
the command string. By default this is &#8220;-c&#8221;.</li>
<li><strong>kind</strong> &#8211; What kind of channels should be created when
<a class="reference internal" href="#Spawn.PIPE" title="Spawn.PIPE"><tt class="xref chpl chpl-const docutils literal"><span class="pre">PIPE</span></tt></a> is used. This argument is used to set
<a class="reference internal" href="#Spawn.subprocess.kind" title="Spawn.subprocess.kind"><tt class="xref chpl chpl-attr docutils literal"><span class="pre">subprocess.kind</span></tt></a> in the resulting subprocess.
Defaults to <tt class="xref chpl chpl-enum docutils literal"><span class="pre">IO.iokind.dynamic</span></tt>.</li>
<li><strong>locking</strong> &#8211; Should channels created use locking?
This argument is used to set <a class="reference internal" href="#Spawn.subprocess.locking" title="Spawn.subprocess.locking"><tt class="xref chpl chpl-attr docutils literal"><span class="pre">subprocess.locking</span></tt></a>
in the resulting subprocess. Defaults to <cite>true</cite>.</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first last">a <a class="reference internal" href="#Spawn.subprocess" title="Spawn.subprocess"><tt class="xref chpl chpl-record docutils literal"><span class="pre">subprocess</span></tt></a> with kind and locking set according
to the arguments.</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="Spawn.subprocess.poll">
<em class="property">proc </em><tt class="descclassname">subprocess.</tt><tt class="descname">poll</tt><big>(</big><em>out error: syserr</em><big>)</big><a class="headerlink" href="#Spawn.subprocess.poll" title="Permalink to this definition">¶</a></dt>
<dd><p>Check to see if a child process has terminated.
If the child process has terminated, after this
call, <a class="reference internal" href="#Spawn.subprocess.running" title="Spawn.subprocess.running"><tt class="xref chpl chpl-attr docutils literal"><span class="pre">running</span></tt></a> will be <cite>false</cite>.</p>
</dd></dl>

<dl class="method">
<dt id="Spawn.subprocess.wait">
<em class="property">proc </em><tt class="descclassname">subprocess.</tt><tt class="descname">wait</tt><big>(</big><em>out error: syserr</em><big>)</big><a class="headerlink" href="#Spawn.subprocess.wait" title="Permalink to this definition">¶</a></dt>
<dd><p>Wait for a child process to complete. After this function
returns, <a class="reference internal" href="#Spawn.subprocess.running" title="Spawn.subprocess.running"><tt class="xref chpl chpl-attr docutils literal"><span class="pre">running</span></tt></a> is <cite>false</cite> and
<a class="reference internal" href="#Spawn.subprocess.exit_status" title="Spawn.subprocess.exit_status"><tt class="xref chpl chpl-attr docutils literal"><span class="pre">exit_status</span></tt></a> stores the exit code returned
by the subprocess.</p>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">Use <a class="reference internal" href="#Spawn.subprocess.communicate" title="Spawn.subprocess.communicate"><tt class="xref chpl chpl-proc docutils literal"><span class="pre">subprocess.communicate</span></tt></a> instead of this function when using
<a class="reference internal" href="#Spawn.PIPE" title="Spawn.PIPE"><tt class="xref chpl chpl-const docutils literal"><span class="pre">PIPE</span></tt></a> for stdin, stdout, or stderr.  This function does not try
to send any buffered input to the child process and so could result in
a hang if the child process is waiting for input to finish. Similarly,
this function does not consume the output from the child process and so
the child process could hang while waiting to write data to its output
while the parent process is waiting for it to complete (and not
consuming its output).</p>
</div>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Arguments:</th><td class="field-body"><strong>error</strong> &#8211; optional argument to capture any error encountered
when waiting for the child process.</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="Spawn.subprocess.communicate">
<em class="property">proc </em><tt class="descclassname">subprocess.</tt><tt class="descname">communicate</tt><big>(</big><em>out error: syserr</em><big>)</big><a class="headerlink" href="#Spawn.subprocess.communicate" title="Permalink to this definition">¶</a></dt>
<dd><p>Wait for a child process to complete. After this function
returns, <a class="reference internal" href="#Spawn.subprocess.running" title="Spawn.subprocess.running"><tt class="xref chpl chpl-attr docutils literal"><span class="pre">running</span></tt></a> is <cite>false</cite> and
<a class="reference internal" href="#Spawn.subprocess.exit_status" title="Spawn.subprocess.exit_status"><tt class="xref chpl chpl-attr docutils literal"><span class="pre">exit_status</span></tt></a> stores the exit code returned
by the subprocess.</p>
<p>This function handles cases in which stdin, stdout, or stderr
for the child process is <a class="reference internal" href="#Spawn.PIPE" title="Spawn.PIPE"><tt class="xref chpl chpl-const docutils literal"><span class="pre">PIPE</span></tt></a> by writing any
input to the child process and buffering up the output
of the child process as necessary while waiting for
it to terminate.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Arguments:</th><td class="field-body"><strong>error</strong> &#8211; optional argument to capture any error encountered
when waiting for the child process.</td>
</tr>
</tbody>
</table>
</dd></dl>

</div>


          </div>
          <footer>
  
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
      
        <a href="Sys.html" class="btn btn-neutral float-right" title="Module: Sys">Next <span class="fa fa-arrow-circle-right"></span></a>
      
      
        <a href="Sort.html" class="btn btn-neutral" title="Module: Sort"><span class="fa fa-arrow-circle-left"></span> Previous</a>
      
    </div>
  

  <hr/>

  <div role="contentinfo">
    <p>
        &copy; Copyright 2015, Cray Inc.
    </p>
  </div>

  Built with <a href="http://sphinx-doc.org/">Sphinx</a> using a <a href="https://github.com/snide/sphinx_rtd_theme">theme</a> provided by <a href="https://readthedocs.org">Read the Docs</a>.
  
</footer>
        </div>
      </div>

    </section>

  </div>
  


  

    <script type="text/javascript">
        var DOCUMENTATION_OPTIONS = {
            URL_ROOT:'../../',
            VERSION:'1.12.0',
            COLLAPSE_INDEX:false,
            FILE_SUFFIX:'.html',
            HAS_SOURCE:  true
        };
    </script>
      <script type="text/javascript" src="../../_static/jquery.js"></script>
      <script type="text/javascript" src="../../_static/underscore.js"></script>
      <script type="text/javascript" src="../../_static/doctools.js"></script>

  

  
  
    <script type="text/javascript" src="../../_static/js/theme.js"></script>
  

  
  
  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.StickyNav.enable();
      });
  </script>
  
 

</body>
</html>
