<!DOCTYPE html>
<html class="writer-html5" lang="en" data-content_root="../../">
<head>
  <meta charset="utf-8" /><meta name="viewport" content="width=device-width, initial-scale=1" />

  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Python &mdash; Chapel Documentation 2.4</title>
      <link rel="stylesheet" type="text/css" href="../../_static/pygments.css?v=80d5e7a1" />
      <link rel="stylesheet" type="text/css" href="../../_static/css/theme.css?v=19f00094" />
      <link rel="stylesheet" type="text/css" href="../../_static/style.css?v=70f659a1" />

  
    <link rel="shortcut icon" href="../../_static/favicon.ico"/>
  <!--[if lt IE 9]>
    <script src="../../_static/js/html5shiv.min.js"></script>
  <![endif]-->
  
        <script src="../../_static/jquery.js?v=5d32c60e"></script>
        <script src="../../_static/_sphinx_javascript_frameworks_compat.js?v=2cd50e6c"></script>
        <script src="../../_static/documentation_options.js?v=4d935f96"></script>
        <script src="../../_static/doctools.js?v=888ff710"></script>
        <script src="../../_static/sphinx_highlight.js?v=dc90522c"></script>
    <script src="../../_static/js/theme.js"></script>
    <link rel="index" title="Index" href="../../genindex.html" />
    <link rel="search" title="Search" href="../../search.html" />
    <link rel="next" title="BLAS" href="BLAS.html" />
    <link rel="prev" title="Zarr" href="Zarr.html" />
   
  

</head>

<body class="wy-body-for-nav"> 
  <div class="wy-grid-for-nav">
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >

<a href="../../index.html" class="icon icon-home"> Chapel Documentation

<!-- display version if button won't be rendered -->
<?php if (false) { ?>
<br>2.4
<?php } ?>

</a>

<?php
// Variables given by sphinx
$chplTitle = "2.4";
$pagename = "modules/packages/Python";
include "../..//versionButton.php";
?>


<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" aria-label="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>


        </div><div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="Navigation menu">
  
              <p class="caption" role="heading"><span class="caption-text">Compiling and Running Chapel</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../usingchapel/QUICKSTART.html">Quickstart Instructions</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../usingchapel/index.html">Using Chapel</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../platforms/index.html">Platform-Specific Notes</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../technotes/index.html">Technical Notes</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../tools/index.html">Tools</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../developer/index.html">Docs for Contributors</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Writing Chapel Programs</span></p>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../../language/reference.html">Quick Reference</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../examples/index.html">Hello World Variants</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../primers/index.html">Primers</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../language/spec/index.html">Language Specification</a></li>
<li class="toctree-l1"><a class="reference internal" href="../standard.html">Standard Modules</a></li>
<li class="toctree-l1 current"><a class="reference internal" href="../packages.html">Package Modules</a><ul class="current">
<li class="toctree-l2"><a class="reference internal" href="../packages.html#algorithms">Algorithms</a></li>
<li class="toctree-l2"><a class="reference internal" href="../packages.html#communication-inter-locale">Communication (Inter-Locale)</a></li>
<li class="toctree-l2"><a class="reference internal" href="../packages.html#data-structures">Data Structures</a></li>
<li class="toctree-l2"><a class="reference internal" href="../packages.html#file-formats-and-i-o">File Formats and I/O</a></li>
<li class="toctree-l2 current"><a class="reference internal" href="../packages.html#interoperability">Interoperability</a><ul class="current">
<li class="toctree-l3 current"><a class="current reference internal" href="#">Python</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#compiling-chapel-code">Compiling Chapel code</a></li>
<li class="toctree-l4"><a class="reference internal" href="#parallel-execution">Parallel Execution</a></li>
<li class="toctree-l4"><a class="reference internal" href="#using-python-modules-with-distributed-code">Using Python Modules With Distributed Code</a></li>
<li class="toctree-l4"><a class="reference internal" href="#defining-custom-types">Defining Custom Types</a></li>
<li class="toctree-l4"><a class="reference internal" href="#notes-on-python-chapel-i-o">Notes on Python + Chapel I/O</a></li>
<li class="toctree-l4"><a class="reference internal" href="#more-examples">More Examples:</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../packages.html#math-numerical-computing">Math / Numerical Computing</a></li>
<li class="toctree-l2"><a class="reference internal" href="../packages.html#memory-management">Memory Management</a></li>
<li class="toctree-l2"><a class="reference internal" href="../packages.html#networking-inter-process-communication">Networking / Inter-Process Communication</a></li>
<li class="toctree-l2"><a class="reference internal" href="../packages.html#parallel-computing">Parallel Computing</a></li>
<li class="toctree-l2"><a class="reference internal" href="../packages.html#tool-support">Tool Support</a></li>
<li class="toctree-l2"><a class="reference internal" href="../packages.html#utilities">Utilities</a></li>
<li class="toctree-l2"><a class="reference internal" href="../packages.html#miscellaneous">Miscellaneous</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../layoutdist.html">Standard Layouts and Distributions</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../mason-packages/index.html">Mason Packages</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../users-guide/index.html">Chapel Users Guide (WIP)</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Language History</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../language/evolution.html">Chapel Evolution</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../language/archivedSpecs.html">Documentation Archives</a></li>
</ul>

  <p class="caption" role="heading"><span class="caption-text">Indexes</span></p>
  <ul>
    <li class="toctree-11"><a class="reference internal" href="../../chpl-modindex.html">Chapel Module Index</a></li>
    <li class="toctree-11"><a class="reference internal" href="../../genindex.html">Complete Docs Index</a></li>
  </ul>

        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap"><nav class="wy-nav-top" aria-label="Mobile navigation menu" >
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../../index.html">Chapel Documentation</a>
      </nav>

      <div class="wy-nav-content">
        <div class="rst-content">
          <div role="navigation" aria-label="Page navigation">
  <ul class="wy-breadcrumbs">
      <li><a href="../../index.html" class="icon icon-home" aria-label="Home"></a></li>
          <li class="breadcrumb-item"><a href="../packages.html">Package Modules</a></li>
      <li class="breadcrumb-item active">Python</li>
      <li class="wy-breadcrumbs-aside">
            <a href="../../_sources/modules/packages/Python.rst.txt" rel="nofollow"> View page source</a>
      </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
             
  <section id="python">
<span id="module-Python"></span><h1>Python<a class="headerlink" href="#python" title="Link to this heading">¶</a></h1>
<p><strong>Usage</strong></p>
<div class="highlight-chapel notranslate"><div class="highlight"><pre><span></span><span class="k">use</span> <span class="nx">Python</span><span class="p">;</span>
</pre></div>
</div>
<p>or</p>
<div class="highlight-chapel notranslate"><div class="highlight"><pre><span></span><span class="k">import</span> <span class="nx">Python</span><span class="p">;</span>
</pre></div>
</div>
<div class="admonition warning">
<p class="admonition-title">Warning</p>
<p>The Python module’s interface is under active development and may change</p>
</div>
<p>Library for interfacing with Python from Chapel code.</p>
<p>This module provides a Chapel interface to a Python interpreter.
It allows manipulating native Python objects and libraries with minimal
wrapper code required.</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>This module is implemented using the Python C API, and as such, it is not
compatible with PyPy or other alternative Python implementations.</p>
</div>
<section id="compiling-chapel-code">
<h2>Compiling Chapel code<a class="headerlink" href="#compiling-chapel-code" title="Link to this heading">¶</a></h2>
<p>Compiling Chapel code that uses this module needs the <code class="docutils literal notranslate"><span class="pre">Python.h</span></code> header file
and requires linking with the Python library. If <code class="docutils literal notranslate"><span class="pre">python3</span></code> is installed,
this can be achieved with the following commands:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span><span class="nv">PYTHON_INCLUDE_DIR</span><span class="o">=</span><span class="k">$(</span>python3<span class="w"> </span>-c<span class="w"> </span><span class="s2">&quot;import sysconfig; print(sysconfig.get_paths()[&#39;include&#39;])&quot;</span><span class="k">)</span>
<span class="nv">PYTHON_LIB_DIR</span><span class="o">=</span><span class="k">$(</span>python3<span class="w"> </span>-c<span class="w"> </span><span class="s2">&quot;import sysconfig; print(sysconfig.get_config_var(&#39;LIBDIR&#39;))&quot;</span><span class="k">)</span>
<span class="nv">PYTHON_LDVERSION</span><span class="o">=</span><span class="k">$(</span>python3<span class="w"> </span>-c<span class="w"> </span><span class="s2">&quot;import sysconfig; print(sysconfig.get_config_var(&#39;LDVERSION&#39;))&quot;</span><span class="k">)</span>

chpl<span class="w"> </span>--ccflags<span class="w"> </span>-isystem<span class="nv">$PYTHON_INCLUDE_DIR</span><span class="w"> </span><span class="se">\</span>
<span class="w">     </span>-L<span class="nv">$PYTHON_LIB_DIR</span><span class="w"> </span>--ldflags<span class="w"> </span>-Wl,-rpath,<span class="nv">$PYTHON_LIB_DIR</span><span class="w"> </span><span class="se">\</span>
<span class="w">     </span>-lpython<span class="nv">$PYTHON_LDVERSION</span><span class="w"> </span>...Chapel<span class="w"> </span><span class="nb">source</span><span class="w"> </span>files...
</pre></div>
</div>
<div class="admonition warning">
<p class="admonition-title">Warning</p>
<p>Chapel programs compiled in this way are compiled for a specific Python
version. Attempting to run the compiled program with a different Python
version may have unexpected results.</p>
</div>
</section>
<section id="parallel-execution">
<h2>Parallel Execution<a class="headerlink" href="#parallel-execution" title="Link to this heading">¶</a></h2>
<p>Running any Python code in parallel from Chapel will likely be no faster than
serial execution due to the Global Interpreter Lock (GIL) in the Python
interpreter. This module automatically handles the GIL in the public API.</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>Newer Python versions offer a free-threading mode that allows multiple
threads concurrently. This currently requires a custom build of Python. If
you are using a Python interpreter like this, the GIL handling code in this
module will become a no-op.</p>
</div>
<p>The following demonstrates executing multiple Chapel tasks using a <cite>coforall</cite>
and a single Python interpreter:</p>
<div class="highlight-chapel notranslate"><div class="highlight"><pre><span></span><span class="k">use</span> <span class="nx">Python</span><span class="p">;</span>

<span class="kd">var</span> <span class="nx">Arr</span><span class="p">:</span> <span class="p">[</span><span class="mi">1</span><span class="o">..</span><span class="mi">10</span><span class="p">]</span> <span class="kt">int</span> <span class="o">=</span> <span class="mi">1</span><span class="o">..</span><span class="mi">10</span><span class="p">;</span>

<span class="kd">var</span> <span class="nx">interp</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">Interpreter</span><span class="p">();</span>
<span class="kd">var</span> <span class="nx">func</span> <span class="o">=</span> <span class="nx">interp</span><span class="p">.</span><span class="nx">compileLambda</span><span class="p">(</span><span class="s">&quot;lambda x,: x * x&quot;</span><span class="p">);</span>

<span class="k">coforall</span> <span class="nx">tid</span> <span class="kd">in</span> <span class="mi">1</span><span class="o">..</span><span class="mi">10</span> <span class="p">{</span>
  <span class="c1">// the call to &#39;func&#39; automatically acquires and releases the GIL</span>
  <span class="nx">Arr</span><span class="p">[</span><span class="nx">tid</span><span class="p">]</span> <span class="o">=</span> <span class="nx">func</span><span class="p">(</span><span class="kt">int</span><span class="p">,</span> <span class="nx">tid</span><span class="p">);</span>
<span class="p">}</span>
<span class="nx">writeln</span><span class="p">(</span><span class="nx">Arr</span><span class="p">);</span>
</pre></div>
</div>
<p>The code works similarly with a data-parallel <code class="docutils literal notranslate"><span class="pre">forall</span></code> loop:</p>
<div class="highlight-chapel notranslate"><div class="highlight"><pre><span></span><span class="k">use</span> <span class="nx">Python</span><span class="p">;</span>

<span class="kd">var</span> <span class="nx">Arr</span><span class="p">:</span> <span class="p">[</span><span class="mi">1</span><span class="o">..</span><span class="mi">10</span><span class="p">]</span> <span class="kt">int</span> <span class="o">=</span> <span class="mi">1</span><span class="o">..</span><span class="mi">10</span><span class="p">;</span>

<span class="kd">var</span> <span class="nx">interp</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">Interpreter</span><span class="p">();</span>
<span class="kd">var</span> <span class="nx">func</span> <span class="o">=</span> <span class="nx">interp</span><span class="p">.</span><span class="nx">compileLambda</span><span class="p">(</span><span class="s">&quot;lambda x,: x * x&quot;</span><span class="p">);</span>

<span class="k">forall</span> <span class="nx">tid</span> <span class="kd">in</span> <span class="mi">1</span><span class="o">..</span><span class="mi">10</span> <span class="p">{</span>
  <span class="c1">// the call to &#39;func&#39; automatically acquires and releases the GIL</span>
  <span class="nx">Arr</span><span class="p">[</span><span class="nx">tid</span><span class="p">]</span> <span class="o">=</span> <span class="nx">func</span><span class="p">(</span><span class="kt">int</span><span class="p">,</span> <span class="nx">tid</span><span class="p">);</span>
<span class="p">}</span>
<span class="nx">writeln</span><span class="p">(</span><span class="nx">Arr</span><span class="p">);</span>
</pre></div>
</div>
<p>Although these examples use Chapel’s task parallelism constructs,
they will be no faster than running the tasks serially due to the GIL.</p>
</section>
<section id="using-python-modules-with-distributed-code">
<h2>Using Python Modules With Distributed Code<a class="headerlink" href="#using-python-modules-with-distributed-code" title="Link to this heading">¶</a></h2>
<p>Python has no built-in support for distributed memory, so each locale must
create its own interpreter (and subsequent Python objects).</p>
<p>The following example demonstrates how to create a Python interpreter and run
a Python function on each locale:</p>
<div class="highlight-chapel notranslate"><div class="highlight"><pre><span></span><span class="k">use</span> <span class="nx">Python</span><span class="p">,</span> <span class="nx">BlockDist</span><span class="p">;</span>

<span class="kd">config</span> <span class="kd">const</span> <span class="nx">n</span> <span class="o">=</span> <span class="mi">100</span><span class="p">;</span>
<span class="kd">var</span> <span class="nx">Arr</span> <span class="o">=</span> <span class="nx">blockDist</span><span class="p">.</span><span class="nx">createArray</span><span class="p">({</span><span class="mi">1</span><span class="o">..</span><span class="nx">n</span><span class="p">},</span> <span class="kt">int</span><span class="p">);</span>
<span class="nx">Arr</span> <span class="o">=</span> <span class="mi">1</span><span class="o">..</span><span class="nx">n</span><span class="p">;</span>

<span class="k">coforall</span> <span class="nx">l</span> <span class="kd">in</span> <span class="nx">Arr</span><span class="p">.</span><span class="nx">targetLocales</span><span class="p">()</span> <span class="p">{</span>
  <span class="k">on</span> <span class="nx">l</span> <span class="p">{</span>
    <span class="c1">// each locale has its own interpreter</span>
    <span class="kd">const</span> <span class="nx">interp</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">Interpreter</span><span class="p">();</span>
    <span class="kd">const</span> <span class="nx">func</span> <span class="o">=</span> <span class="nx">interp</span><span class="p">.</span><span class="nx">compileLambda</span><span class="p">(</span><span class="s">&quot;lambda x,: x + 1&quot;</span><span class="p">);</span>

    <span class="k">forall</span> <span class="nx">i</span> <span class="kd">in</span> <span class="nx">Arr</span><span class="p">.</span><span class="nx">localSubdomain</span><span class="p">()</span> <span class="k">with</span> <span class="p">(</span><span class="kd">var</span> <span class="nx">gil</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">GIL</span><span class="p">())</span> <span class="p">{</span>
      <span class="nx">Arr</span><span class="p">[</span><span class="nx">i</span><span class="p">]</span> <span class="o">=</span> <span class="nx">func</span><span class="p">(</span><span class="nx">Arr</span><span class="p">.</span><span class="nx">eltType</span><span class="p">,</span> <span class="nx">Arr</span><span class="p">[</span><span class="nx">i</span><span class="p">]);</span>
    <span class="p">}</span>
  <span class="p">}</span>
<span class="p">}</span>
<span class="nx">writeln</span><span class="p">(</span><span class="nx">Arr</span><span class="p">);</span>
</pre></div>
</div>
<p>In this example, <code class="docutils literal notranslate"><span class="pre">interp</span></code> and <code class="docutils literal notranslate"><span class="pre">func</span></code> only exist for the body of the
<code class="docutils literal notranslate"><span class="pre">on</span></code> block, Python objects can be made to persist beyond the scope of a
given <code class="docutils literal notranslate"><span class="pre">on</span></code> block by creating a distributed array of Python objects.</p>
</section>
<section id="defining-custom-types">
<h2>Defining Custom Types<a class="headerlink" href="#defining-custom-types" title="Link to this heading">¶</a></h2>
<p>To translate custom Chapel types to Python objects, users should define and
register custom <a class="reference internal" href="#Python.TypeConverter" title="Python.TypeConverter"><code class="xref chpl chpl-type docutils literal notranslate"><span class="pre">TypeConverter</span></code></a> classes.</p>
</section>
<section id="notes-on-python-chapel-i-o">
<h2>Notes on Python + Chapel I/O<a class="headerlink" href="#notes-on-python-chapel-i-o" title="Link to this heading">¶</a></h2>
<p>When interspersing Python and Chapel I/O, it is important to flush the output
buffers to ensure that the output is displayed in the correct order. This is
needed at the point where the output changes from Python to Chapel or
vice-versa. For example:</p>
<div class="highlight-chapel notranslate"><div class="highlight"><pre><span></span><span class="k">use</span> <span class="nx">Python</span><span class="p">,</span> <span class="nx">IO</span><span class="p">;</span>

<span class="kd">var</span> <span class="nx">interp</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">Interpreter</span><span class="p">();</span>
<span class="kd">var</span> <span class="nx">func</span> <span class="o">=</span> <span class="nx">interp</span><span class="p">.</span><span class="nx">compileLambda</span><span class="p">(</span><span class="s">&quot;lambda x,: print(x)&quot;</span><span class="p">);</span>

<span class="nx">writeln</span><span class="p">(</span><span class="s">&quot;Hello from Chapel&quot;</span><span class="p">);</span>
<span class="nx">writeln</span><span class="p">(</span><span class="s">&quot;Let&#39;s call some Python!&quot;</span><span class="p">);</span>
<span class="nx">IO</span><span class="p">.</span><span class="nx">stdout</span><span class="p">.</span><span class="nx">flush</span><span class="p">();</span> <span class="c1">// flush the Chapel output buffer before calling Python</span>

<span class="nx">func</span><span class="p">(</span><span class="s">&quot;Hello, World!&quot;</span><span class="p">);</span>
<span class="nx">func</span><span class="p">(</span><span class="s">&quot;Goodbye, World!&quot;</span><span class="p">);</span>
<span class="nx">interp</span><span class="p">.</span><span class="nx">flush</span><span class="p">();</span> <span class="c1">// flush the Python output buffer before calling Chapel again</span>

<span class="nx">writeln</span><span class="p">(</span><span class="s">&quot;Back to Chapel&quot;</span><span class="p">);</span>
</pre></div>
</div>
</section>
<section id="more-examples">
<h2>More Examples:<a class="headerlink" href="#more-examples" title="Link to this heading">¶</a></h2>
<p>For more examples of using the Python module, see the test cases in
<a class="reference external" href="https://github.com/chapel-lang/chapel/tree/main/test/library/packages/Python/examples">$CHPL_HOME/test/library/packages/Python/examples</a>.</p>
<dl class="chpl data">
<dt class="sig sig-object chpl" id="Python.pyMemLeaks">
<em class="property"><span class="pre">config</span> <span class="pre">const</span> </em><span class="sig-name descname"><span class="pre">pyMemLeaks</span></span><span class="w"> </span><em class="property"> <span class="pre">=</span> <span class="pre">false</span></em><a class="headerlink" href="#Python.pyMemLeaks" title="Link to this definition">¶</a></dt>
<dd><p>Use ‘objgraph’ to detect memory leaks in the Python code. Care should be
taken when interpreting the output of this flag, not all memory leaks are
under Chapel’s control. For example, printing a Python list leaks memory
according to ‘objgraph’. Furthermore, some memory is still held until
the interpreter is closed, like the module import cache.</p>
</dd></dl>

<dl class="chpl data">
<dt class="sig sig-object chpl" id="Python.checkExceptions">
<em class="property"><span class="pre">config</span> <span class="pre">param</span> </em><span class="sig-name descname"><span class="pre">checkExceptions</span></span><span class="w"> </span><em class="property"> <span class="pre">=</span> <span class="pre">true</span></em><a class="headerlink" href="#Python.checkExceptions" title="Link to this definition">¶</a></dt>
<dd><p>Check for exceptions after each Python API call. This is important for
correctness, but may have a performance impact.</p>
<div class="admonition warning">
<p class="admonition-title">Warning</p>
<p>While turning this flag off may improve performance, it may also lead to
segmentation faults and other undefined behavior. This flag should only
be turned off if you are certain that no exceptions will be thrown by
the Python code, or if a hard crash is acceptable.</p>
</div>
</dd></dl>

<dl class="chpl record">
<dt class="sig sig-object chpl" id="Python.NoneType">
<em class="property"><span class="pre">record</span> </em><span class="sig-name descname"><span class="pre">NoneType</span></span><a class="headerlink" href="#Python.NoneType" title="Link to this definition">¶</a></dt>
<dd><p>Represents the python NoneType</p>
<dl class="chpl method">
<dt class="sig sig-object chpl" id="Python.NoneType.str">
<em class="property"><span class="pre">proc</span> </em><span class="sig-name descname"><span class="pre">str</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><em class="property"> <span class="pre">:</span> <span class="pre">string</span></em><a class="headerlink" href="#Python.NoneType.str" title="Link to this definition">¶</a></dt>
<dd><p>Returns the string representation of None.</p>
<p>Equivalent to calling <code class="docutils literal notranslate"><span class="pre">str(None)</span></code> in Python.</p>
</dd></dl>

</dd></dl>

<dl class="chpl data">
<dt class="sig sig-object chpl" id="Python.None">
<em class="property"><span class="pre">const</span> </em><span class="sig-name descname"><span class="pre">None</span></span><span class="w"> </span><em class="property"> <span class="pre">=</span> <span class="pre">new</span> <span class="pre">NoneType()</span></em><a class="headerlink" href="#Python.None" title="Link to this definition">¶</a></dt>
<dd><p>Represents the python value ‘None’</p>
</dd></dl>

<dl class="chpl class">
<dt class="sig sig-object chpl" id="Python.Interpreter">
<em class="property"><span class="pre">class</span> </em><span class="sig-name descname"><span class="pre">Interpreter</span></span><a class="headerlink" href="#Python.Interpreter" title="Link to this definition">¶</a></dt>
<dd><p>Represents the python interpreter. All code using the Python module should
create and maintain a single instance of this class.</p>
<div class="admonition warning">
<p class="admonition-title">Warning</p>
<p>Do not create more than one instance of this class per locale. Multiple
interpreters can be created by using <a class="reference internal" href="#Python.SubInterpreter" title="Python.SubInterpreter"><code class="xref chpl chpl-type docutils literal notranslate"><span class="pre">SubInterpreter</span></code></a> instances.</p>
</div>
<dl class="chpl method">
<dt class="sig sig-object chpl" id="Python.Interpreter.importModule">
<em class="property"><span class="pre">proc</span> </em><span class="sig-name descname"><span class="pre">importModule</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="pre">modName:</span> <span class="pre">string</span></em><span class="sig-paren">)</span><em class="property"> <span class="pre">:</span> <span class="pre">owned</span> <span class="pre">Module</span> <span class="pre">throws</span></em><a class="headerlink" href="#Python.Interpreter.importModule" title="Link to this definition">¶</a></dt>
<dd><p>Import a Python module. This is equivalent to calling <code class="docutils literal notranslate"><span class="pre">import</span> <span class="pre">modName</span></code>
in Python.</p>
<div class="admonition warning">
<p class="admonition-title">Warning</p>
<p>Importing a second module with the same name will overwrite the first.</p>
</div>
<dl class="field-list simple">
<dt class="field-odd">Arguments<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>modName</strong> – The name of the module that will be created. Note that if
the module name already exists, it will be replaced.</p>
</dd>
</dl>
</dd></dl>

<dl class="chpl method">
<dt class="sig sig-object chpl">
<em class="property"><span class="pre">proc</span> </em><span class="sig-name descname"><span class="pre">importModule</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="pre">modName:</span> <span class="pre">string</span></em>, <em class="sig-param"><span class="pre">moduleContents</span></em><span class="sig-paren">)</span><em class="property"> <span class="pre">:</span> <span class="pre">owned</span> <span class="pre">Module</span> <span class="pre">throws</span></em><em class="property">&#160; <span class="pre">where</span> <span class="pre">moduleContents.type</span> <span class="pre">==</span> <span class="pre">string</span> <span class="pre">||</span> <span class="pre">moduleContents.type</span> <span class="pre">==</span> <span class="pre">bytes</span></em></dt>
<dd><p>Import a Python module, using the provided <code class="docutils literal notranslate"><span class="pre">moduleContents</span></code>. This is
equivalent to putting the code in a file, and then importing the file
via the file/module name.</p>
<div class="admonition warning">
<p class="admonition-title">Warning</p>
<p>Importing a second module with the same name will overwrite the first.</p>
</div>
<dl class="field-list simple">
<dt class="field-odd">Arguments<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>modName</strong> – The name of the module that will be created. Note that if
the module name already exists, it will be replaced.</p></li>
<li><p><strong>moduleContents</strong> – The contents of the module. This can be a
<a class="reference internal" href="../../language/spec/strings.html#String.string" title="String.string"><code class="xref chpl chpl-type docutils literal notranslate"><span class="pre">string</span></code></a> of Python code or a
<a class="reference internal" href="../../language/spec/bytes.html#Bytes.bytes" title="Bytes.bytes"><code class="xref chpl chpl-type docutils literal notranslate"><span class="pre">bytes</span></code></a> object containing Python
bytecode (i.e. from a <code class="docutils literal notranslate"><span class="pre">*.pyc</span></code> file).</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="chpl method">
<dt class="sig sig-object chpl" id="Python.Interpreter.load">
<em class="property"><span class="pre">proc</span> </em><span class="sig-name descname"><span class="pre">load</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="pre">pickle:</span> <span class="pre">bytes</span></em><span class="sig-paren">)</span><em class="property"> <span class="pre">:</span> <span class="pre">owned</span> <span class="pre">Value</span> <span class="pre">throws</span></em><a class="headerlink" href="#Python.Interpreter.load" title="Link to this definition">¶</a></dt>
<dd><p>Load a <a class="reference external" href="https://docs.python.org/3/library/pickle.html">Python Pickle</a>
as a Python object.</p>
<dl class="field-list simple">
<dt class="field-odd">Arguments<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>pickle</strong> – The pickle data to load</p>
</dd>
</dl>
</dd></dl>

<dl class="chpl method">
<dt class="sig sig-object chpl" id="Python.Interpreter.compileLambda">
<em class="property"><span class="pre">proc</span> </em><span class="sig-name descname"><span class="pre">compileLambda</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="pre">code:</span> <span class="pre">string</span></em><span class="sig-paren">)</span><em class="property"> <span class="pre">:</span> <span class="pre">owned</span> <span class="pre">Function</span> <span class="pre">throws</span></em><a class="headerlink" href="#Python.Interpreter.compileLambda" title="Link to this definition">¶</a></dt>
<dd><p>Compile a lambda function like ‘lambda x,: x + 1’</p>
<p>Note: this only works with lambdas that accept a tuple of arguments,
like ‘x,’ or ‘*args’</p>
<p>For example:
.. code-block:: chapel</p>
<blockquote>
<div><p>interpreter.compileLambda(“lambda x, y,: x + y”);</p>
</div></blockquote>
</dd></dl>

<dl class="chpl method">
<dt class="sig sig-object chpl" id="Python.Interpreter.run">
<em class="property"><span class="pre">proc</span> </em><span class="sig-name descname"><span class="pre">run</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="pre">code:</span> <span class="pre">string</span></em><span class="sig-paren">)</span><span class="w"> </span><em class="property"> <span class="pre">throws</span></em><a class="headerlink" href="#Python.Interpreter.run" title="Link to this definition">¶</a></dt>
<dd><p>Run a string of python code.</p>
<p>This function will just run the code, it cannot be passed arguments or
return values.</p>
</dd></dl>

<dl class="chpl method">
<dt class="sig sig-object chpl" id="Python.Interpreter.registerConverter">
<em class="property"><span class="pre">proc</span> </em><span class="sig-name descname"><span class="pre">registerConverter</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="pre">in</span> <span class="pre">cvt:</span> <span class="pre">owned</span> <span class="pre">TypeConverter</span></em><span class="sig-paren">)</span><a class="headerlink" href="#Python.Interpreter.registerConverter" title="Link to this definition">¶</a></dt>
<dd><p>Register a custom <a class="reference internal" href="#Python.TypeConverter" title="Python.TypeConverter"><code class="xref chpl chpl-type docutils literal notranslate"><span class="pre">TypeConverter</span></code></a> with the interpreter. This allows
arbitrary Chapel types to be serialized/deserialized to and from Python
objects.</p>
<p>The registered converter will take precedence over the default converters,
allowing users to override the default behavior.</p>
</dd></dl>

<dl class="chpl method">
<dt class="sig sig-object chpl" id="Python.Interpreter.checkException">
<em class="property"><span class="pre">proc</span> </em><span class="sig-name descname"><span class="pre">checkException</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><span class="w"> </span><em class="property"> <span class="pre">throws</span></em><a class="headerlink" href="#Python.Interpreter.checkException" title="Link to this definition">¶</a></dt>
<dd><p>Query to see if an Python exception has occurred. If there is an
exception, the Python exception will be thrown as a <a class="reference internal" href="#Python.Exception" title="Python.Exception"><code class="xref chpl chpl-type docutils literal notranslate"><span class="pre">Exception</span></code></a>.</p>
<p>This method requires the GIL to be held, calling it without doing so will
result in undefined behavior. See <a class="reference internal" href="#Python.GIL" title="Python.GIL"><code class="xref chpl chpl-type docutils literal notranslate"><span class="pre">GIL</span></code></a>.</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>This method should be called after any Python API call that may fail.
The wrapping types in this module will call this method automatically,
most users should not need to call this method directly.</p>
</div>
</dd></dl>

<dl class="chpl method">
<dt class="sig sig-object chpl" id="Python.Interpreter.flush">
<em class="property"><span class="pre">proc</span> </em><span class="sig-name descname"><span class="pre">flush</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="pre">flushStderr:</span> <span class="pre">bool</span> <span class="pre">=</span> <span class="pre">false</span></em><span class="sig-paren">)</span><span class="w"> </span><em class="property"> <span class="pre">throws</span></em><a class="headerlink" href="#Python.Interpreter.flush" title="Link to this definition">¶</a></dt>
<dd><p>Flush the standard output buffers of the Python interpreter. This is
useful when mixing Python and Chapel I/O to ensure that the output is
displayed in the correct order.</p>
</dd></dl>

<dl class="chpl method">
<dt class="sig sig-object chpl" id="Python.Interpreter.toPython">
<em class="property"><span class="pre">proc</span> </em><span class="sig-name descname"><span class="pre">toPython</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="pre">const</span> <span class="pre">val</span></em><span class="sig-paren">)</span><em class="property"> <span class="pre">:</span> <span class="pre">PyObjectPtr</span> <span class="pre">throws</span></em><a class="headerlink" href="#Python.Interpreter.toPython" title="Link to this definition">¶</a></dt>
<dd><p>Convert a Chapel value to a python object. This clones the Chapel value.</p>
<p>This returns a new reference to a Python object.</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>Most users should not need to call this directly, except when writing
a <a class="reference internal" href="#Python.TypeConverter" title="Python.TypeConverter"><code class="xref chpl chpl-type docutils literal notranslate"><span class="pre">TypeConverter</span></code></a>.</p>
</div>
</dd></dl>

<dl class="chpl method">
<dt class="sig sig-object chpl" id="Python.Interpreter.fromPython">
<em class="property"><span class="pre">proc</span> </em><span class="sig-name descname"><span class="pre">fromPython</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="pre">type</span> <span class="pre">t</span></em>, <em class="sig-param"><span class="pre">obj:</span> <span class="pre">PyObjectPtr</span></em><span class="sig-paren">)</span><em class="property"> <span class="pre">:</span> <span class="pre">t</span> <span class="pre">throws</span></em><a class="headerlink" href="#Python.Interpreter.fromPython" title="Link to this definition">¶</a></dt>
<dd><p>Convert a Python object to a Chapel value. This clones the Python value.</p>
<p>This steals a reference to the Python object, so the Chapel object will
either own the Python object or it will decrement the reference count
when it is done with it.</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>Most users should not need to call this directly, except when writing
a <a class="reference internal" href="#Python.TypeConverter" title="Python.TypeConverter"><code class="xref chpl chpl-type docutils literal notranslate"><span class="pre">TypeConverter</span></code></a>.</p>
</div>
</dd></dl>

</dd></dl>

<dl class="chpl class">
<dt class="sig sig-object chpl" id="Python.SubInterpreter">
<em class="property"><span class="pre">class</span> </em><span class="sig-name descname"><span class="pre">SubInterpreter</span></span><em class="property"> <span class="pre">:</span> <span class="pre">Interpreter</span></em><a class="headerlink" href="#Python.SubInterpreter" title="Link to this definition">¶</a></dt>
<dd><p>Represents an isolated Python sub-interpreter. This is useful for running
truly parallel Python code, without the GIL interferring.</p>
<dl class="chpl method">
<dt class="sig sig-object chpl" id="Python.SubInterpreter.init">
<em class="property"><span class="pre">proc</span> </em><span class="sig-name descname"><span class="pre">init</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="pre">parent:</span> <span class="pre">borrowed</span> <span class="pre">Interpreter</span></em><span class="sig-paren">)</span><a class="headerlink" href="#Python.SubInterpreter.init" title="Link to this definition">¶</a></dt>
<dd><p>Creates a new sub-interpreter with the given parent interpreter, which
must not be a sub-interpreter.</p>
</dd></dl>

</dd></dl>

<dl class="chpl class">
<dt class="sig sig-object chpl" id="Python.Exception">
<em class="property"><span class="pre">class</span> </em><span class="sig-name descname"><span class="pre">Exception</span></span><em class="property"> <span class="pre">:</span> <span class="pre">Error</span></em><a class="headerlink" href="#Python.Exception" title="Link to this definition">¶</a></dt>
<dd><p>Represents a Python exception, either forwarded from Python
(i.e. <a class="reference internal" href="#Python.Interpreter.checkException" title="Python.Interpreter.checkException"><code class="xref chpl chpl-proc docutils literal notranslate"><span class="pre">Interpreter.checkException</span></code></a>) or thrown directly in Chapel code.</p>
<dl class="chpl method">
<dt class="sig sig-object chpl" id="Python.Exception.init">
<em class="property"><span class="pre">proc</span> </em><span class="sig-name descname"><span class="pre">init</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="pre">in</span> <span class="pre">message:</span> <span class="pre">string</span></em><span class="sig-paren">)</span><a class="headerlink" href="#Python.Exception.init" title="Link to this definition">¶</a></dt>
<dd><p>Creates a new exception with the given message.</p>
</dd></dl>

</dd></dl>

<dl class="chpl class">
<dt class="sig sig-object chpl" id="Python.PythonException">
<em class="property"><span class="pre">class</span> </em><span class="sig-name descname"><span class="pre">PythonException</span></span><em class="property"> <span class="pre">:</span> <span class="pre">Exception</span></em><a class="headerlink" href="#Python.PythonException" title="Link to this definition">¶</a></dt>
<dd><p>Represents an exception caused in the Python code, forwarded by Chapel code</p>
<dl class="chpl method">
<dt class="sig sig-object chpl" id="Python.PythonException.init">
<em class="property"><span class="pre">proc</span> </em><span class="sig-name descname"><span class="pre">init</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="pre">in</span> <span class="pre">message:</span> <span class="pre">string</span></em><span class="sig-paren">)</span><a class="headerlink" href="#Python.PythonException.init" title="Link to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="chpl class">
<dt class="sig sig-object chpl" id="Python.ImportError">
<em class="property"><span class="pre">class</span> </em><span class="sig-name descname"><span class="pre">ImportError</span></span><em class="property"> <span class="pre">:</span> <span class="pre">PythonException</span></em><a class="headerlink" href="#Python.ImportError" title="Link to this definition">¶</a></dt>
<dd><p>Represents an ImportError in the Python code</p>
<dl class="chpl method">
<dt class="sig sig-object chpl" id="Python.ImportError.init">
<em class="property"><span class="pre">proc</span> </em><span class="sig-name descname"><span class="pre">init</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="pre">in</span> <span class="pre">message:</span> <span class="pre">string</span></em><span class="sig-paren">)</span><a class="headerlink" href="#Python.ImportError.init" title="Link to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="chpl class">
<dt class="sig sig-object chpl" id="Python.BufferError">
<em class="property"><span class="pre">class</span> </em><span class="sig-name descname"><span class="pre">BufferError</span></span><em class="property"> <span class="pre">:</span> <span class="pre">PythonException</span></em><a class="headerlink" href="#Python.BufferError" title="Link to this definition">¶</a></dt>
<dd><p>Represents a BufferError in the Python code</p>
<dl class="chpl method">
<dt class="sig sig-object chpl" id="Python.BufferError.init">
<em class="property"><span class="pre">proc</span> </em><span class="sig-name descname"><span class="pre">init</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="pre">in</span> <span class="pre">message:</span> <span class="pre">string</span></em><span class="sig-paren">)</span><a class="headerlink" href="#Python.BufferError.init" title="Link to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="chpl class">
<dt class="sig sig-object chpl" id="Python.KeyError">
<em class="property"><span class="pre">class</span> </em><span class="sig-name descname"><span class="pre">KeyError</span></span><em class="property"> <span class="pre">:</span> <span class="pre">PythonException</span></em><a class="headerlink" href="#Python.KeyError" title="Link to this definition">¶</a></dt>
<dd><p>Represents a KeyError in the Python code</p>
<dl class="chpl method">
<dt class="sig sig-object chpl" id="Python.KeyError.init">
<em class="property"><span class="pre">proc</span> </em><span class="sig-name descname"><span class="pre">init</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="pre">in</span> <span class="pre">message:</span> <span class="pre">string</span></em><span class="sig-paren">)</span><a class="headerlink" href="#Python.KeyError.init" title="Link to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="chpl class">
<dt class="sig sig-object chpl" id="Python.ChapelException">
<em class="property"><span class="pre">class</span> </em><span class="sig-name descname"><span class="pre">ChapelException</span></span><em class="property"> <span class="pre">:</span> <span class="pre">Exception</span></em><a class="headerlink" href="#Python.ChapelException" title="Link to this definition">¶</a></dt>
<dd><p>Represents an exception caused by code in the Chapel module,
not forwarded from Python.</p>
<dl class="chpl method">
<dt class="sig sig-object chpl" id="Python.ChapelException.init">
<em class="property"><span class="pre">proc</span> </em><span class="sig-name descname"><span class="pre">init</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="pre">in</span> <span class="pre">message:</span> <span class="pre">string</span></em><span class="sig-paren">)</span><a class="headerlink" href="#Python.ChapelException.init" title="Link to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="chpl class">
<dt class="sig sig-object chpl" id="Python.TypeConverter">
<em class="property"><span class="pre">class</span> </em><span class="sig-name descname"><span class="pre">TypeConverter</span></span><a class="headerlink" href="#Python.TypeConverter" title="Link to this definition">¶</a></dt>
<dd><p>Base class for Chapel/Python type converters.</p>
<p>To create a custom type converter, subclass this class and implement the
<a class="reference internal" href="#Python.TypeConverter.handlesType" title="Python.TypeConverter.handlesType"><code class="xref chpl chpl-proc docutils literal notranslate"><span class="pre">handlesType</span></code></a>, <a class="reference internal" href="#Python.TypeConverter.toPython" title="Python.TypeConverter.toPython"><code class="xref chpl chpl-proc docutils literal notranslate"><span class="pre">toPython</span></code></a>, and
<a class="reference internal" href="#Python.TypeConverter.fromPython" title="Python.TypeConverter.fromPython"><code class="xref chpl chpl-proc docutils literal notranslate"><span class="pre">fromPython</span></code></a> methods. Then register an instance of this
class with the interpreter by calling
<a class="reference internal" href="#Python.Interpreter.registerConverter" title="Python.Interpreter.registerConverter"><code class="xref chpl chpl-proc docutils literal notranslate"><span class="pre">registerConverter</span></code></a>.</p>
<dl class="chpl method">
<dt class="sig sig-object chpl" id="Python.TypeConverter.handlesType">
<em class="property"><span class="pre">proc</span> </em><span class="sig-name descname"><span class="pre">handlesType</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="pre">type</span> <span class="pre">T</span></em><span class="sig-paren">)</span><em class="property"> <span class="pre">:</span> <span class="pre">bool</span></em><a class="headerlink" href="#Python.TypeConverter.handlesType" title="Link to this definition">¶</a></dt>
<dd><p>Check if the converter can handle the given Chapel type.</p>
<p>This method should return true if the converter can handle the given type,
and false otherwise.</p>
</dd></dl>

<dl class="chpl method">
<dt class="sig sig-object chpl" id="Python.TypeConverter.toPython">
<em class="property"><span class="pre">proc</span> </em><span class="sig-name descname"><span class="pre">toPython</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="pre">interpreter:</span> <span class="pre">borrowed</span> <span class="pre">Interpreter</span></em>, <em class="sig-param"><span class="pre">type</span> <span class="pre">T</span></em>, <em class="sig-param"><span class="pre">const</span> <span class="pre">value:</span> <span class="pre">T</span></em><span class="sig-paren">)</span><em class="property"> <span class="pre">:</span> <span class="pre">PyObjectPtr</span> <span class="pre">throws</span></em><a class="headerlink" href="#Python.TypeConverter.toPython" title="Link to this definition">¶</a></dt>
<dd><p>Convert a Chapel value to a Python object.</p>
<p>This method should convert the Chapel value to a Python object and return
the <a class="reference internal" href="../standard/CTypes.html#CTypes.c_ptr" title="CTypes.c_ptr"><code class="xref chpl chpl-type docutils literal notranslate"><span class="pre">c_ptr</span></code></a> to the underlying Python object.</p>
<p>The <a class="reference internal" href="#Python.Interpreter.toPython" title="Python.Interpreter.toPython"><code class="xref chpl chpl-proc docutils literal notranslate"><span class="pre">toPython</span></code></a> method will call this method.</p>
</dd></dl>

<dl class="chpl method">
<dt class="sig sig-object chpl" id="Python.TypeConverter.fromPython">
<em class="property"><span class="pre">proc</span> </em><span class="sig-name descname"><span class="pre">fromPython</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="pre">interpreter:</span> <span class="pre">borrowed</span> <span class="pre">Interpreter</span></em>, <em class="sig-param"><span class="pre">type</span> <span class="pre">T</span></em>, <em class="sig-param"><span class="pre">obj:</span> <span class="pre">PyObjectPtr</span></em><span class="sig-paren">)</span><em class="property"> <span class="pre">:</span> <span class="pre">T</span> <span class="pre">throws</span></em><a class="headerlink" href="#Python.TypeConverter.fromPython" title="Link to this definition">¶</a></dt>
<dd><p>Convert a Python object to a Chapel value.</p>
<p>This method should convert the Python object to a Chapel value and return
the Chapel value.</p>
<p>The <a class="reference internal" href="#Python.Interpreter.fromPython" title="Python.Interpreter.fromPython"><code class="xref chpl chpl-proc docutils literal notranslate"><span class="pre">fromPython</span></code></a> method will call this method.</p>
</dd></dl>

</dd></dl>

<dl class="chpl class">
<dt class="sig sig-object chpl" id="Python.Value">
<em class="property"><span class="pre">class</span> </em><span class="sig-name descname"><span class="pre">Value</span></span><a class="headerlink" href="#Python.Value" title="Link to this definition">¶</a></dt>
<dd><p>Represents a Python value, it handles reference counting and is owned by
default.</p>
<dl class="chpl attribute">
<dt class="sig sig-object chpl" id="Python.Value.interpreter">
<em class="property"><span class="pre">var</span> </em><span class="sig-name descname"><span class="pre">interpreter</span></span><em class="property"> <span class="pre">:</span> <span class="pre">borrowed</span> <span class="pre">Interpreter</span></em><a class="headerlink" href="#Python.Value.interpreter" title="Link to this definition">¶</a></dt>
<dd><p>The interpreter that this object is associated with.</p>
</dd></dl>

<dl class="chpl method">
<dt class="sig sig-object chpl" id="Python.Value.init">
<em class="property"><span class="pre">proc</span> </em><span class="sig-name descname"><span class="pre">init</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="pre">in</span> <span class="pre">interpreter:</span> <span class="pre">borrowed</span> <span class="pre">Interpreter</span></em>, <em class="sig-param"><span class="pre">obj:</span> <span class="pre">PyObjectPtr</span></em>, <em class="sig-param"><span class="pre">isOwned:</span> <span class="pre">bool</span> <span class="pre">=</span> <span class="pre">true</span></em><span class="sig-paren">)</span><a class="headerlink" href="#Python.Value.init" title="Link to this definition">¶</a></dt>
<dd><p>Takes ownership of an existing Python object, pointed to by <code class="docutils literal notranslate"><span class="pre">obj</span></code></p>
<dl class="field-list simple">
<dt class="field-odd">Arguments<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>interpreter</strong> – The interpreter that this object is associated with.</p></li>
<li><p><strong>obj</strong> – The <a class="reference internal" href="../standard/CTypes.html#CTypes.c_ptr" title="CTypes.c_ptr"><code class="xref chpl chpl-type docutils literal notranslate"><span class="pre">c_ptr</span></code></a> to the existing object.</p></li>
<li><p><strong>isOwned</strong> – Whether this object owns the Python object.
This is true by default.</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="chpl method">
<dt class="sig sig-object chpl">
<em class="property"><span class="pre">proc</span> </em><span class="sig-name descname"><span class="pre">init</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="pre">in</span> <span class="pre">interpreter:</span> <span class="pre">borrowed</span> <span class="pre">Interpreter</span></em>, <em class="sig-param"><span class="pre">pickleData:</span> <span class="pre">bytes</span></em><span class="sig-paren">)</span><span class="w"> </span><em class="property"> <span class="pre">throws</span></em></dt>
<dd><p>Creates a new Python object from a pickle.
See <a class="reference internal" href="#Python.Interpreter.load" title="Python.Interpreter.load"><code class="xref chpl chpl-proc docutils literal notranslate"><span class="pre">Interpreter.load</span></code></a>.</p>
<dl class="field-list simple">
<dt class="field-odd">Arguments<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>interpreter</strong> – The interpreter that this object is associated with.</p></li>
<li><p><strong>pickleData</strong> – The pickle data to load.</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="chpl method">
<dt class="sig sig-object chpl">
<em class="property"><span class="pre">proc</span> </em><span class="sig-name descname"><span class="pre">init</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="pre">in</span> <span class="pre">interpreter:</span> <span class="pre">borrowed</span> <span class="pre">Interpreter</span></em>, <em class="sig-param"><span class="pre">value:</span> <span class="pre">?</span></em><span class="sig-paren">)</span><span class="w"> </span><em class="property"> <span class="pre">throws</span></em></dt>
<dd><p>Creates a new Python object from a Chapel value.</p>
<dl class="field-list simple">
<dt class="field-odd">Arguments<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>interpreter</strong> – The interpreter that this object is associated with.</p></li>
<li><p><strong>value</strong> – The Chapel value to convert to a Python object.</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="chpl method">
<dt class="sig sig-object chpl" id="Python.Value.check">
<em class="property"><span class="pre">proc</span> </em><span class="sig-name descname"><span class="pre">check</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><span class="w"> </span><em class="property"> <span class="pre">throws</span></em><a class="headerlink" href="#Python.Value.check" title="Link to this definition">¶</a></dt>
<dd><p>Check if an exception has occurred in the interpreter.</p>
<p><code class="docutils literal notranslate"><span class="pre">val.check();</span></code> is equivalent to <code class="docutils literal notranslate"><span class="pre">val.interpreter.checkException();</span></code></p>
<p>See <a class="reference internal" href="#Python.Interpreter.checkException" title="Python.Interpreter.checkException"><code class="xref chpl chpl-proc docutils literal notranslate"><span class="pre">checkException</span></code></a> for more information.</p>
</dd></dl>

<dl class="chpl method">
<dt class="sig sig-object chpl" id="Python.Value.str">
<em class="property"><span class="pre">proc</span> </em><span class="sig-name descname"><span class="pre">str</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><em class="property"> <span class="pre">:</span> <span class="pre">string</span> <span class="pre">throws</span></em><a class="headerlink" href="#Python.Value.str" title="Link to this definition">¶</a></dt>
<dd><p>Returns the string representation of the object.
This is the same as casting to a string.</p>
<p>Equivalent to calling <code class="docutils literal notranslate"><span class="pre">str(obj)</span></code> in Python.</p>
</dd></dl>

<dl class="chpl method">
<dt class="sig sig-object chpl" id="Python.Value.this">
<em class="property"><span class="pre">proc</span> </em><span class="sig-name descname"><span class="pre">this</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="pre">type</span> <span class="pre">retType</span> <span class="pre">=</span> <span class="pre">owned</span> <span class="pre">Value</span></em>, <em class="sig-param"><span class="pre">const</span> <span class="pre">args</span> <span class="pre">...</span></em>, <em class="sig-param"><span class="pre">kwargs:</span> <span class="pre">?</span> <span class="pre">=</span> <span class="pre">none</span></em><span class="sig-paren">)</span><em class="property"> <span class="pre">:</span> <span class="pre">retType</span> <span class="pre">throws</span></em><em class="property">&#160; <span class="pre">where</span> <span class="pre">kwargs.isAssociative()</span></em><a class="headerlink" href="#Python.Value.this" title="Link to this definition">¶</a></dt>
<dd><p>Treat this value as a callable and call it with the given arguments.</p>
<p>This handles conversion from Chapel types to Python types and back, by
copying the Chapel types to Python types and back.</p>
<p>The keyword arguments should be passed as an associative Chapel array.
For example:</p>
<div class="highlight-chapel notranslate"><div class="highlight"><pre><span></span><span class="kd">var</span> <span class="nx">res</span> <span class="o">=</span> <span class="nx">myObj</span><span class="p">(</span><span class="kt">int</span><span class="p">,</span> <span class="nx">arg1</span><span class="p">,</span> <span class="nx">arg2</span><span class="p">,</span> <span class="nx">kwargs</span><span class="o">=</span><span class="p">[</span><span class="s">&quot;key1&quot;</span> <span class="o">=&gt;</span> <span class="mi">42</span><span class="p">,</span> <span class="s">&quot;key2&quot;</span> <span class="o">=&gt;</span> <span class="mi">17</span><span class="p">]);</span>
</pre></div>
</div>
<dl class="field-list simple">
<dt class="field-odd">Arguments<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>retType</strong> – The Chapel type of the return value. If the callable returns
nothing, use <a class="reference internal" href="#Python.NoneType" title="Python.NoneType"><code class="xref chpl chpl-type docutils literal notranslate"><span class="pre">NoneType</span></code></a>.</p></li>
<li><p><strong>args</strong> – The arguments to pass to the callable.</p></li>
<li><p><strong>kwargs</strong> – The keyword arguments to pass to the callable.</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="chpl method">
<dt class="sig sig-object chpl" id="Python.Value.get">
<em class="property"><span class="pre">proc</span> </em><span class="sig-name descname"><span class="pre">get</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="pre">type</span> <span class="pre">t</span> <span class="pre">=</span> <span class="pre">owned</span> <span class="pre">Value</span></em>, <em class="sig-param"><span class="pre">attr:</span> <span class="pre">string</span></em><span class="sig-paren">)</span><em class="property"> <span class="pre">:</span> <span class="pre">t</span> <span class="pre">throws</span></em><a class="headerlink" href="#Python.Value.get" title="Link to this definition">¶</a></dt>
<dd><p>Access an attribute/field of this Python object. This is equivalent to
calling <code class="docutils literal notranslate"><span class="pre">getattr(obj,</span> <span class="pre">attr)</span></code> or <code class="docutils literal notranslate"><span class="pre">obj[attr]</span></code> in Python.</p>
<p>This method can be used as a general accessor for Python objects.
For example:</p>
<div class="highlight-chapel notranslate"><div class="highlight"><pre><span></span><span class="k">use</span> <span class="nx">Python</span><span class="p">;</span>
<span class="kd">var</span> <span class="nx">interp</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">Interpreter</span><span class="p">();</span>
<span class="kd">var</span> <span class="nx">mod</span> <span class="o">=</span> <span class="nx">interp</span><span class="p">.</span><span class="nx">importModule</span><span class="p">(</span><span class="s">&quot;math&quot;</span><span class="p">);</span>

<span class="c1">// the following two lines are equivalent</span>
<span class="kd">var</span> <span class="nx">fac1</span><span class="p">:</span> <span class="nx">Value</span> <span class="o">=</span> <span class="nx">mod</span><span class="p">.</span><span class="nx">get</span><span class="p">(</span><span class="s">&quot;factorial&quot;</span><span class="p">);</span>
<span class="kd">var</span> <span class="nx">fac2</span><span class="p">:</span> <span class="nx">Value</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">Function</span><span class="p">(</span><span class="nx">mod</span><span class="p">,</span> <span class="s">&quot;factorial&quot;</span><span class="p">);</span>
</pre></div>
</div>
<dl class="field-list simple">
<dt class="field-odd">Arguments<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>t</strong> – The Chapel type of the value to return.</p></li>
<li><p><strong>attr</strong> – The name of the attribute/field to access.</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="chpl method">
<dt class="sig sig-object chpl" id="Python.Value.set">
<em class="property"><span class="pre">proc</span> </em><span class="sig-name descname"><span class="pre">set</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="pre">attr:</span> <span class="pre">string</span></em>, <em class="sig-param"><span class="pre">value</span></em><span class="sig-paren">)</span><span class="w"> </span><em class="property"> <span class="pre">throws</span></em><a class="headerlink" href="#Python.Value.set" title="Link to this definition">¶</a></dt>
<dd><p>Set an attribute/field of this Python object. This is equivalent to
calling <code class="docutils literal notranslate"><span class="pre">obj[attr]</span> <span class="pre">=</span> <span class="pre">value</span></code> or <code class="docutils literal notranslate"><span class="pre">setattr(obj,</span> <span class="pre">attr,</span> <span class="pre">value)</span></code> in Python.</p>
<dl class="field-list simple">
<dt class="field-odd">Arguments<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>attr</strong> – The name of the attribute/field to set.</p></li>
<li><p><strong>value</strong> – The value to set the attribute/field to.</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="chpl method">
<dt class="sig sig-object chpl" id="Python.Value.call">
<em class="property"><span class="pre">proc</span> </em><span class="sig-name descname"><span class="pre">call</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="pre">type</span> <span class="pre">retType</span> <span class="pre">=</span> <span class="pre">owned</span> <span class="pre">Value</span></em>, <em class="sig-param"><span class="pre">method:</span> <span class="pre">string</span></em>, <em class="sig-param"><span class="pre">const</span> <span class="pre">args</span> <span class="pre">...</span></em>, <em class="sig-param"><span class="pre">kwargs:</span> <span class="pre">?</span> <span class="pre">=</span> <span class="pre">none</span></em><span class="sig-paren">)</span><em class="property"> <span class="pre">:</span> <span class="pre">retType</span> <span class="pre">throws</span></em><em class="property">&#160; <span class="pre">where</span> <span class="pre">kwargs.isAssociative()</span></em><a class="headerlink" href="#Python.Value.call" title="Link to this definition">¶</a></dt>
<dd><p>Call a method of this Python object. This is equivalent to calling
<code class="docutils literal notranslate"><span class="pre">obj.method(args)</span></code> in Python.</p>
<dl class="field-list simple">
<dt class="field-odd">Arguments<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>retType</strong> – The Chapel type of the return value.</p></li>
<li><p><strong>method</strong> – The name of the method to call.</p></li>
<li><p><strong>args</strong> – The arguments to pass to the method.</p></li>
<li><p><strong>kwargs</strong> – The keyword arguments to pass to the callable.</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="chpl method">
<dt class="sig sig-object chpl" id="Python.Value.value">
<em class="property"><span class="pre">proc</span> </em><span class="sig-name descname"><span class="pre">value</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="pre">type</span> <span class="pre">value</span></em><span class="sig-paren">)</span><span class="w"> </span><em class="property"> <span class="pre">throws</span></em><a class="headerlink" href="#Python.Value.value" title="Link to this definition">¶</a></dt>
<dd><p>Returns the Chapel value of the object.</p>
<p>This is a shortcut for calling <a class="reference internal" href="#Python.Interpreter.fromPython" title="Python.Interpreter.fromPython"><code class="xref chpl chpl-proc docutils literal notranslate"><span class="pre">fromPython</span></code></a> on this
object, however it does not consume the object.</p>
</dd></dl>

<dl class="chpl method">
<dt class="sig sig-object chpl" id="Python.Value.release">
<em class="property"><span class="pre">proc</span> <span class="pre">type</span> </em><span class="sig-name descname"><span class="pre">release</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="pre">in</span> <span class="pre">val:</span> <span class="pre">owned</span> <span class="pre">Value</span></em><span class="sig-paren">)</span><em class="property"> <span class="pre">:</span> <span class="pre">PyObjectPtr</span></em><a class="headerlink" href="#Python.Value.release" title="Link to this definition">¶</a></dt>
<dd><p>Stop owning <code class="docutils literal notranslate"><span class="pre">val</span></code>, returns the underlying <code class="docutils literal notranslate"><span class="pre">c_ptr(PyObject)</span></code>.</p>
<p>The caller is responsible for decrementing the reference count of the
returned object.</p>
</dd></dl>

<dl class="chpl method">
<dt class="sig sig-object chpl" id="Python.Value.adopting">
<em class="property"><span class="pre">proc</span> <span class="pre">type</span> </em><span class="sig-name descname"><span class="pre">adopting</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="pre">in</span> <span class="pre">interpreter:</span> <span class="pre">borrowed</span> <span class="pre">Interpreter</span></em>, <em class="sig-param"><span class="pre">in</span> <span class="pre">object:</span> <span class="pre">PyObjectPtr</span></em><span class="sig-paren">)</span><em class="property"> <span class="pre">:</span> <span class="pre">owned</span> <span class="pre">Value</span> <span class="pre">throws</span></em><a class="headerlink" href="#Python.Value.adopting" title="Link to this definition">¶</a></dt>
<dd><p>Create a new <a class="reference internal" href="#Python.Value" title="Python.Value"><code class="xref chpl chpl-type docutils literal notranslate"><span class="pre">Value</span></code></a>, adopting the object.</p>
<p>When the new <a class="reference internal" href="#Python.Value" title="Python.Value"><code class="xref chpl chpl-type docutils literal notranslate"><span class="pre">Value</span></code></a> is deleted, the reference count of the object
will be decremented.</p>
</dd></dl>

<dl class="chpl method">
<dt class="sig sig-object chpl" id="Python.Value.borrowing">
<em class="property"><span class="pre">proc</span> <span class="pre">type</span> </em><span class="sig-name descname"><span class="pre">borrowing</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="pre">in</span> <span class="pre">interpreter:</span> <span class="pre">borrowed</span> <span class="pre">Interpreter</span></em>, <em class="sig-param"><span class="pre">in</span> <span class="pre">object:</span> <span class="pre">PyObjectPtr</span></em><span class="sig-paren">)</span><em class="property"> <span class="pre">:</span> <span class="pre">owned</span> <span class="pre">Value</span> <span class="pre">throws</span></em><a class="headerlink" href="#Python.Value.borrowing" title="Link to this definition">¶</a></dt>
<dd><p>Create a new <a class="reference internal" href="#Python.Value" title="Python.Value"><code class="xref chpl chpl-type docutils literal notranslate"><span class="pre">Value</span></code></a>, adopting the object.</p>
<p>When the new <a class="reference internal" href="#Python.Value" title="Python.Value"><code class="xref chpl chpl-type docutils literal notranslate"><span class="pre">Value</span></code></a> is deleted, the reference count of the object
will be untouched.</p>
</dd></dl>

<dl class="chpl method">
<dt class="sig sig-object chpl" id="Python.Value.getPyObject">
<em class="property"><span class="pre">proc</span> </em><span class="sig-name descname"><span class="pre">getPyObject</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#Python.Value.getPyObject" title="Link to this definition">¶</a></dt>
<dd><p>Returns the <a class="reference internal" href="../standard/CTypes.html#CTypes.c_ptr" title="CTypes.c_ptr"><code class="xref chpl chpl-type docutils literal notranslate"><span class="pre">c_ptr</span></code></a> to the underlying Python object.</p>
<p>Most users should not need to call this method directly, except when
calling low-level CPython functions.</p>
</dd></dl>

</dd></dl>

<dl class="chpl class">
<dt class="sig sig-object chpl" id="Python.Module">
<em class="property"><span class="pre">class</span> </em><span class="sig-name descname"><span class="pre">Module</span></span><em class="property"> <span class="pre">:</span> <span class="pre">Value</span></em><a class="headerlink" href="#Python.Module" title="Link to this definition">¶</a></dt>
<dd><p>Represents a Python module.</p>
<dl class="chpl method">
<dt class="sig sig-object chpl" id="Python.Module.init">
<em class="property"><span class="pre">proc</span> </em><span class="sig-name descname"><span class="pre">init</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="pre">interpreter:</span> <span class="pre">borrowed</span> <span class="pre">Interpreter</span></em>, <em class="sig-param"><span class="pre">in</span> <span class="pre">modName:</span> <span class="pre">string</span></em><span class="sig-paren">)</span><a class="headerlink" href="#Python.Module.init" title="Link to this definition">¶</a></dt>
<dd><p>Import a Python module by name. See <a class="reference internal" href="#Python.Interpreter.importModule" title="Python.Interpreter.importModule"><code class="xref chpl chpl-proc docutils literal notranslate"><span class="pre">Interpreter.importModule</span></code></a>.</p>
</dd></dl>

<dl class="chpl method">
<dt class="sig sig-object chpl">
<em class="property"><span class="pre">proc</span> </em><span class="sig-name descname"><span class="pre">init</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="pre">interpreter:</span> <span class="pre">borrowed</span> <span class="pre">Interpreter</span></em>, <em class="sig-param"><span class="pre">in</span> <span class="pre">modName:</span> <span class="pre">string</span></em>, <em class="sig-param"><span class="pre">in</span> <span class="pre">moduleContents:</span> <span class="pre">string</span></em><span class="sig-paren">)</span><span class="w"> </span><em class="property"> <span class="pre">throws</span></em></dt>
<dd><p>Import a Python module from a string using an arbitrary name.
See <a class="reference internal" href="#Python.Interpreter.importModule" title="Python.Interpreter.importModule"><code class="xref chpl chpl-proc docutils literal notranslate"><span class="pre">Interpreter.importModule</span></code></a>.</p>
</dd></dl>

<dl class="chpl method">
<dt class="sig sig-object chpl">
<em class="property"><span class="pre">proc</span> </em><span class="sig-name descname"><span class="pre">init</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="pre">interpreter:</span> <span class="pre">borrowed</span> <span class="pre">Interpreter</span></em>, <em class="sig-param"><span class="pre">in</span> <span class="pre">modName:</span> <span class="pre">string</span></em>, <em class="sig-param"><span class="pre">in</span> <span class="pre">moduleBytecode:</span> <span class="pre">bytes</span></em><span class="sig-paren">)</span><span class="w"> </span><em class="property"> <span class="pre">throws</span></em></dt>
<dd><p>Import a Python module from bytecode using an arbitrary name.
See <a class="reference internal" href="#Python.Interpreter.importModule" title="Python.Interpreter.importModule"><code class="xref chpl chpl-proc docutils literal notranslate"><span class="pre">Interpreter.importModule</span></code></a>.</p>
</dd></dl>

</dd></dl>

<dl class="chpl class">
<dt class="sig sig-object chpl" id="Python.Function">
<em class="property"><span class="pre">class</span> </em><span class="sig-name descname"><span class="pre">Function</span></span><em class="property"> <span class="pre">:</span> <span class="pre">Value</span></em><a class="headerlink" href="#Python.Function" title="Link to this definition">¶</a></dt>
<dd><p>Represents a Python function.</p>
<dl class="chpl method">
<dt class="sig sig-object chpl" id="Python.Function.init">
<em class="property"><span class="pre">proc</span> </em><span class="sig-name descname"><span class="pre">init</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="pre">mod:</span> <span class="pre">borrowed</span> <span class="pre">Value</span></em>, <em class="sig-param"><span class="pre">in</span> <span class="pre">fnName:</span> <span class="pre">string</span></em><span class="sig-paren">)</span><a class="headerlink" href="#Python.Function.init" title="Link to this definition">¶</a></dt>
<dd><p>Get a handle to a function in a <a class="reference internal" href="#Python.Value" title="Python.Value"><code class="xref chpl chpl-class docutils literal notranslate"><span class="pre">Value</span></code></a> by name.</p>
<p>This is equivalent to <code class="docutils literal notranslate"><span class="pre">mod.get(className)</span></code>. See <a class="reference internal" href="#Python.Value.get" title="Python.Value.get"><code class="xref chpl chpl-proc docutils literal notranslate"><span class="pre">Value.get</span></code></a>.</p>
</dd></dl>

<dl class="chpl method">
<dt class="sig sig-object chpl">
<em class="property"><span class="pre">proc</span> </em><span class="sig-name descname"><span class="pre">init</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="pre">interpreter:</span> <span class="pre">borrowed</span> <span class="pre">Interpreter</span></em>, <em class="sig-param"><span class="pre">in</span> <span class="pre">fnName:</span> <span class="pre">string</span></em>, <em class="sig-param"><span class="pre">in</span> <span class="pre">obj:</span> <span class="pre">PyObjectPtr</span></em>, <em class="sig-param"><span class="pre">isOwned:</span> <span class="pre">bool</span> <span class="pre">=</span> <span class="pre">true</span></em><span class="sig-paren">)</span></dt>
<dd><p>Takes ownership of an existing Python object, pointed to by <code class="docutils literal notranslate"><span class="pre">obj</span></code>.</p>
<dl class="field-list simple">
<dt class="field-odd">Arguments<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>interpreter</strong> – The interpreter that this object is associated with.</p></li>
<li><p><strong>fnName</strong> – The name of the function.</p></li>
<li><p><strong>obj</strong> – The <a class="reference internal" href="../standard/CTypes.html#CTypes.c_ptr" title="CTypes.c_ptr"><code class="xref chpl chpl-type docutils literal notranslate"><span class="pre">c_ptr</span></code></a> to the existing object.</p></li>
<li><p><strong>isOwned</strong> – Whether this object owns the Python object. This is true by default.</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="chpl method">
<dt class="sig sig-object chpl">
<em class="property"><span class="pre">proc</span> </em><span class="sig-name descname"><span class="pre">init</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="pre">interpreter:</span> <span class="pre">borrowed</span> <span class="pre">Interpreter</span></em>, <em class="sig-param"><span class="pre">in</span> <span class="pre">lambdaFn:</span> <span class="pre">string</span></em><span class="sig-paren">)</span><span class="w"> </span><em class="property"> <span class="pre">throws</span></em></dt>
<dd><p>Create a new Python lambda function from a string. The lambda arguments
must have a trailing comma.</p>
<p>For example, to create a lambda function that takes two arguments, use:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">new</span> <span class="n">Function</span><span class="p">(</span><span class="n">interpreter</span><span class="p">,</span> <span class="s2">&quot;lambda x, y,: x + y&quot;</span><span class="p">)</span>
</pre></div>
</div>
<p>See also <a class="reference internal" href="#Python.Interpreter.compileLambda" title="Python.Interpreter.compileLambda"><code class="xref chpl chpl-proc docutils literal notranslate"><span class="pre">Interpreter.compileLambda</span></code></a>.</p>
<dl class="field-list simple">
<dt class="field-odd">Arguments<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>interpreter</strong> – The interpreter that this object is associated with.</p></li>
<li><p><strong>lambdaFn</strong> – The lambda function to create.</p></li>
</ul>
</dd>
</dl>
</dd></dl>

</dd></dl>

<dl class="chpl class">
<dt class="sig sig-object chpl" id="Python.Class">
<em class="property"><span class="pre">class</span> </em><span class="sig-name descname"><span class="pre">Class</span></span><em class="property"> <span class="pre">:</span> <span class="pre">Value</span></em><a class="headerlink" href="#Python.Class" title="Link to this definition">¶</a></dt>
<dd><p>Represents a Python class.</p>
<dl class="chpl method">
<dt class="sig sig-object chpl" id="Python.Class.init">
<em class="property"><span class="pre">proc</span> </em><span class="sig-name descname"><span class="pre">init</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="pre">mod:</span> <span class="pre">borrowed</span> <span class="pre">Value</span></em>, <em class="sig-param"><span class="pre">in</span> <span class="pre">className:</span> <span class="pre">string</span></em><span class="sig-paren">)</span><a class="headerlink" href="#Python.Class.init" title="Link to this definition">¶</a></dt>
<dd><p>Get a handle to a class in a <a class="reference internal" href="#Python.Value" title="Python.Value"><code class="xref chpl chpl-class docutils literal notranslate"><span class="pre">Value</span></code></a> by name.</p>
<p>This is equivalent to <code class="docutils literal notranslate"><span class="pre">mod.get(className)</span></code>. See <a class="reference internal" href="#Python.Value.get" title="Python.Value.get"><code class="xref chpl chpl-proc docutils literal notranslate"><span class="pre">Value.get</span></code></a>.</p>
<dl class="field-list simple">
<dt class="field-odd">Arguments<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>mod</strong> – The module to get the class from.</p></li>
<li><p><strong>className</strong> – The name of the class.</p></li>
</ul>
</dd>
</dl>
</dd></dl>

</dd></dl>

<dl class="chpl class">
<dt class="sig sig-object chpl" id="Python.PyList">
<em class="property"><span class="pre">class</span> </em><span class="sig-name descname"><span class="pre">PyList</span></span><em class="property"> <span class="pre">:</span> <span class="pre">Value</span></em><a class="headerlink" href="#Python.PyList" title="Link to this definition">¶</a></dt>
<dd><p>Represents a Python list. This provides a Chapel interface to Python lists,
where the Python interpreter owns the list.</p>
<dl class="chpl method">
<dt class="sig sig-object chpl" id="Python.PyList.size">
<em class="property"><span class="pre">proc</span> </em><span class="sig-name descname"><span class="pre">size</span></span><em class="property"> <span class="pre">:</span> <span class="pre">int</span> <span class="pre">throws</span></em><a class="headerlink" href="#Python.PyList.size" title="Link to this definition">¶</a></dt>
<dd><p>Get the size of the list. Equivalent to calling <code class="docutils literal notranslate"><span class="pre">len(obj)</span></code> in Python.</p>
<dl class="field-list simple">
<dt class="field-odd">Returns<span class="colon">:</span></dt>
<dd class="field-odd"><p>The size of the list.</p>
</dd>
</dl>
</dd></dl>

<dl class="chpl method">
<dt class="sig sig-object chpl" id="Python.PyList.get">
<em class="property"><span class="pre">proc</span> </em><span class="sig-name descname"><span class="pre">get</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="pre">type</span> <span class="pre">T</span> <span class="pre">=</span> <span class="pre">owned</span> <span class="pre">Value</span></em>, <em class="sig-param"><span class="pre">idx:</span> <span class="pre">int</span></em><span class="sig-paren">)</span><em class="property"> <span class="pre">:</span> <span class="pre">T</span> <span class="pre">throws</span></em><a class="headerlink" href="#Python.PyList.get" title="Link to this definition">¶</a></dt>
<dd><p>Get an item from the list. Equivalent to calling <code class="docutils literal notranslate"><span class="pre">obj[idx]</span></code> in Python.</p>
<dl class="field-list simple">
<dt class="field-odd">Arguments<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>T</strong> – The Chapel type of the item to return.</p></li>
<li><p><strong>idx</strong> – The index of the item to get.</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>The item at the given index.</p>
</dd>
</dl>
</dd></dl>

<dl class="chpl method">
<dt class="sig sig-object chpl" id="Python.PyList.set">
<em class="property"><span class="pre">proc</span> </em><span class="sig-name descname"><span class="pre">set</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="pre">idx:</span> <span class="pre">int</span></em>, <em class="sig-param"><span class="pre">item:</span> <span class="pre">?</span></em><span class="sig-paren">)</span><span class="w"> </span><em class="property"> <span class="pre">throws</span></em><a class="headerlink" href="#Python.PyList.set" title="Link to this definition">¶</a></dt>
<dd><p>Set an item in the list. Equivalent to calling <code class="docutils literal notranslate"><span class="pre">obj[idx]</span> <span class="pre">=</span> <span class="pre">item</span></code> in
Python.</p>
<dl class="field-list simple">
<dt class="field-odd">Arguments<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>idx</strong> – The index of the item to set.</p></li>
<li><p><strong>item</strong> – The item to set.</p></li>
</ul>
</dd>
</dl>
</dd></dl>

</dd></dl>

<dl class="chpl class">
<dt class="sig sig-object chpl" id="Python.PyDict">
<em class="property"><span class="pre">class</span> </em><span class="sig-name descname"><span class="pre">PyDict</span></span><em class="property"> <span class="pre">:</span> <span class="pre">Value</span></em><a class="headerlink" href="#Python.PyDict" title="Link to this definition">¶</a></dt>
<dd><p>Represents a Python dict. This provides a Chapel interface to Python dicts,
where the Python interpreter owns the dict.</p>
<dl class="chpl method">
<dt class="sig sig-object chpl" id="Python.PyDict.size">
<em class="property"><span class="pre">proc</span> </em><span class="sig-name descname"><span class="pre">size</span></span><em class="property"> <span class="pre">:</span> <span class="pre">int</span> <span class="pre">throws</span></em><a class="headerlink" href="#Python.PyDict.size" title="Link to this definition">¶</a></dt>
<dd><p>Get the size of the dict. Equivalent to calling <code class="docutils literal notranslate"><span class="pre">len(obj)</span></code> in Python.</p>
<dl class="field-list simple">
<dt class="field-odd">Returns<span class="colon">:</span></dt>
<dd class="field-odd"><p>The size of the dict.</p>
</dd>
</dl>
</dd></dl>

<dl class="chpl method">
<dt class="sig sig-object chpl" id="Python.PyDict.get">
<em class="property"><span class="pre">proc</span> </em><span class="sig-name descname"><span class="pre">get</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="pre">type</span> <span class="pre">T</span> <span class="pre">=</span> <span class="pre">owned</span> <span class="pre">Value</span></em>, <em class="sig-param"><span class="pre">key:</span> <span class="pre">?</span></em><span class="sig-paren">)</span><em class="property"> <span class="pre">:</span> <span class="pre">T</span> <span class="pre">throws</span></em><a class="headerlink" href="#Python.PyDict.get" title="Link to this definition">¶</a></dt>
<dd><p>Get an item from the dict. Equivalent to calling <code class="docutils literal notranslate"><span class="pre">obj[key]</span></code> in Python.</p>
<dl class="field-list simple">
<dt class="field-odd">Arguments<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>T</strong> – The Chapel type of the item to return.</p></li>
<li><p><strong>key</strong> – The key of the item to get.</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>The item at the given key.</p>
</dd>
</dl>
</dd></dl>

<dl class="chpl method">
<dt class="sig sig-object chpl" id="Python.PyDict.set">
<em class="property"><span class="pre">proc</span> </em><span class="sig-name descname"><span class="pre">set</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="pre">key:</span> <span class="pre">?</span></em>, <em class="sig-param"><span class="pre">item:</span> <span class="pre">?</span></em><span class="sig-paren">)</span><span class="w"> </span><em class="property"> <span class="pre">throws</span></em><a class="headerlink" href="#Python.PyDict.set" title="Link to this definition">¶</a></dt>
<dd><p>Set an item in the dict. Equivalent to calling <code class="docutils literal notranslate"><span class="pre">obj[key]</span> <span class="pre">=</span> <span class="pre">item</span></code> in
Python.</p>
<dl class="field-list simple">
<dt class="field-odd">Arguments<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>key</strong> – The key of the item to set.</p></li>
<li><p><strong>item</strong> – The item to set.</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="chpl method">
<dt class="sig sig-object chpl" id="Python.PyDict.del">
<em class="property"><span class="pre">proc</span> </em><span class="sig-name descname"><span class="pre">del</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="pre">key:</span> <span class="pre">?</span></em><span class="sig-paren">)</span><span class="w"> </span><em class="property"> <span class="pre">throws</span></em><a class="headerlink" href="#Python.PyDict.del" title="Link to this definition">¶</a></dt>
<dd><p>Delete an item from the dict.  Equivalent to calling <code class="docutils literal notranslate"><span class="pre">del</span> <span class="pre">obj[key]</span></code> in
Python.</p>
<dl class="field-list simple">
<dt class="field-odd">Arguments<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>key</strong> – The key of the item to delete.</p>
</dd>
<dt class="field-even">Throws<span class="colon">:</span></dt>
<dd class="field-even"><p><strong>KeyError</strong> – If the key did not exist in the dict.</p>
</dd>
</dl>
</dd></dl>

<dl class="chpl method">
<dt class="sig sig-object chpl" id="Python.PyDict.clear">
<em class="property"><span class="pre">proc</span> </em><span class="sig-name descname"><span class="pre">clear</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><span class="w"> </span><em class="property"> <span class="pre">throws</span></em><a class="headerlink" href="#Python.PyDict.clear" title="Link to this definition">¶</a></dt>
<dd><p>Remove all elements from the dict.  Equivalent to calling <code class="docutils literal notranslate"><span class="pre">obj.clear()</span></code>
in Python.</p>
</dd></dl>

<dl class="chpl method">
<dt class="sig sig-object chpl" id="Python.PyDict.copy">
<em class="property"><span class="pre">proc</span> </em><span class="sig-name descname"><span class="pre">copy</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><em class="property"> <span class="pre">:</span> <span class="pre">PyDict</span> <span class="pre">throws</span></em><a class="headerlink" href="#Python.PyDict.copy" title="Link to this definition">¶</a></dt>
<dd><p>Perform a shallow copy into a new dict.  Equivalent to calling
<code class="docutils literal notranslate"><span class="pre">obj.copy()</span></code> in Python.</p>
</dd></dl>

<dl class="chpl method">
<dt class="sig sig-object chpl" id="Python.PyDict.contains">
<em class="property"><span class="pre">proc</span> </em><span class="sig-name descname"><span class="pre">contains</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="pre">key:</span> <span class="pre">?</span></em><span class="sig-paren">)</span><em class="property"> <span class="pre">:</span> <span class="pre">bool</span> <span class="pre">throws</span></em><a class="headerlink" href="#Python.PyDict.contains" title="Link to this definition">¶</a></dt>
<dd><p>Check if an item is in the dict.  Equivalent to calling <code class="docutils literal notranslate"><span class="pre">item</span> <span class="pre">in</span> <span class="pre">obj</span></code> in
Python.</p>
<dl class="field-list simple">
<dt class="field-odd">Arguments<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>key</strong> – The key to check for membership in the dict.</p>
</dd>
</dl>
</dd></dl>

</dd></dl>

<dl class="chpl class">
<dt class="sig sig-object chpl" id="Python.PySet">
<em class="property"><span class="pre">class</span> </em><span class="sig-name descname"><span class="pre">PySet</span></span><em class="property"> <span class="pre">:</span> <span class="pre">Value</span></em><a class="headerlink" href="#Python.PySet" title="Link to this definition">¶</a></dt>
<dd><p>Represents a Python set. This provides a Chapel interface to Python sets,
where the Python interpreter owns the set.</p>
<dl class="chpl method">
<dt class="sig sig-object chpl" id="Python.PySet.size">
<em class="property"><span class="pre">proc</span> </em><span class="sig-name descname"><span class="pre">size</span></span><em class="property"> <span class="pre">:</span> <span class="pre">int</span> <span class="pre">throws</span></em><a class="headerlink" href="#Python.PySet.size" title="Link to this definition">¶</a></dt>
<dd><p>Get the size of the set. Equivalent to calling <code class="docutils literal notranslate"><span class="pre">len(obj)</span></code> in Python.</p>
<dl class="field-list simple">
<dt class="field-odd">Returns<span class="colon">:</span></dt>
<dd class="field-odd"><p>The size of the set.</p>
</dd>
</dl>
</dd></dl>

<dl class="chpl method">
<dt class="sig sig-object chpl" id="Python.PySet.add">
<em class="property"><span class="pre">proc</span> </em><span class="sig-name descname"><span class="pre">add</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="pre">item:</span> <span class="pre">?</span></em><span class="sig-paren">)</span><span class="w"> </span><em class="property"> <span class="pre">throws</span></em><a class="headerlink" href="#Python.PySet.add" title="Link to this definition">¶</a></dt>
<dd><p>Add an item to the set.  Equivalent to calling <code class="docutils literal notranslate"><span class="pre">obj.add(item)</span></code> in
Python.</p>
<dl class="field-list simple">
<dt class="field-odd">Arguments<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>item</strong> – The item to add to the set.</p>
</dd>
</dl>
</dd></dl>

<dl class="chpl method">
<dt class="sig sig-object chpl" id="Python.PySet.contains">
<em class="property"><span class="pre">proc</span> </em><span class="sig-name descname"><span class="pre">contains</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="pre">item:</span> <span class="pre">?</span></em><span class="sig-paren">)</span><em class="property"> <span class="pre">:</span> <span class="pre">bool</span> <span class="pre">throws</span></em><a class="headerlink" href="#Python.PySet.contains" title="Link to this definition">¶</a></dt>
<dd><p>Check if an item is in the set.  Equivalent to calling <code class="docutils literal notranslate"><span class="pre">item</span> <span class="pre">in</span> <span class="pre">obj</span></code> in
Python.</p>
<dl class="field-list simple">
<dt class="field-odd">Arguments<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>item</strong> – The item to check for membership in the set.</p>
</dd>
</dl>
</dd></dl>

<dl class="chpl method">
<dt class="sig sig-object chpl" id="Python.PySet.discard">
<em class="property"><span class="pre">proc</span> </em><span class="sig-name descname"><span class="pre">discard</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="pre">item:</span> <span class="pre">?</span></em><span class="sig-paren">)</span><span class="w"> </span><em class="property"> <span class="pre">throws</span></em><a class="headerlink" href="#Python.PySet.discard" title="Link to this definition">¶</a></dt>
<dd><p>Discard a specific item from the set.  Equivalent to calling
<code class="docutils literal notranslate"><span class="pre">obj.discard(item)</span></code> in Python.</p>
<dl class="field-list simple">
<dt class="field-odd">Arguments<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>item</strong> – The item to discard from the set.</p>
</dd>
</dl>
</dd></dl>

<dl class="chpl method">
<dt class="sig sig-object chpl" id="Python.PySet.pop">
<em class="property"><span class="pre">proc</span> </em><span class="sig-name descname"><span class="pre">pop</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="pre">type</span> <span class="pre">T</span> <span class="pre">=</span> <span class="pre">owned</span> <span class="pre">Value</span></em><span class="sig-paren">)</span><em class="property"> <span class="pre">:</span> <span class="pre">T</span> <span class="pre">throws</span></em><a class="headerlink" href="#Python.PySet.pop" title="Link to this definition">¶</a></dt>
<dd><p>Pop an arbitrary element from the set and return it.  Equivalent to
calling <code class="docutils literal notranslate"><span class="pre">obj.pop()</span></code> in Python.</p>
<dl class="field-list simple">
<dt class="field-odd">Arguments<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>T</strong> – The expected type of the element popped.  Defaults to
<a class="reference internal" href="#Python.Value" title="Python.Value"><code class="xref chpl chpl-type docutils literal notranslate"><span class="pre">Value</span></code></a>.  If the Python set contains only elements of a
single type, that type can be specified using this argument.
Otherwise, <cite>Value</cite> is the most appropriate type, as we do not
control which element <cite>pop</cite> will return.</p>
</dd>
</dl>
</dd></dl>

<dl class="chpl method">
<dt class="sig sig-object chpl" id="Python.PySet.clear">
<em class="property"><span class="pre">proc</span> </em><span class="sig-name descname"><span class="pre">clear</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><span class="w"> </span><em class="property"> <span class="pre">throws</span></em><a class="headerlink" href="#Python.PySet.clear" title="Link to this definition">¶</a></dt>
<dd><p>Remove all elements from the set.  Equivalent to calling <code class="docutils literal notranslate"><span class="pre">obj.clear()</span></code>
in Python</p>
</dd></dl>

</dd></dl>

<dl class="chpl class">
<dt class="sig sig-object chpl" id="Python.PyArray">
<em class="property"><span class="pre">class</span> </em><span class="sig-name descname"><span class="pre">PyArray</span></span><em class="property"> <span class="pre">:</span> <span class="pre">Value</span></em><a class="headerlink" href="#Python.PyArray" title="Link to this definition">¶</a></dt>
<dd><p>Represents a Python array. This provides a Chapel interface to Python types
that are array-like. This includes
<a class="reference external" href="https://docs.python.org/3/library/array.html">array.array</a> and
<a class="reference external" href="https://numpy.org/doc/stable/reference/generated/numpy.ndarray.html">numpy.ndarray</a>.</p>
<dl class="chpl attribute">
<dt class="sig sig-object chpl" id="Python.PyArray.eltType">
<em class="property"><span class="pre">type</span> </em><span class="sig-name descname"><span class="pre">eltType</span></span><a class="headerlink" href="#Python.PyArray.eltType" title="Link to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="chpl method">
<dt class="sig sig-object chpl" id="Python.PyArray.deinit">
<em class="property"><span class="pre">proc</span> </em><span class="sig-name descname"><span class="pre">deinit</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#Python.PyArray.deinit" title="Link to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="chpl method">
<dt class="sig sig-object chpl" id="Python.PyArray.array">
<em class="property"><span class="pre">proc</span> </em><span class="sig-name descname"><span class="pre">array</span></span><em class="property"> <span class="pre">:</span> <span class="pre">[]</span></em><a class="headerlink" href="#Python.PyArray.array" title="Link to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="chpl class">
<dt class="sig sig-object chpl" id="Python.Array">
<em class="property"><span class="pre">class</span> </em><span class="sig-name descname"><span class="pre">Array</span></span><em class="property"> <span class="pre">:</span> <span class="pre">Value</span></em><a class="headerlink" href="#Python.Array" title="Link to this definition">¶</a></dt>
<dd><p>Represents a handle to a Chapel array that is usable by Python code. This
allows code to pass Chapel arrays to Python without copying the data. This
only works for 1D local rectangular arrays.</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>While Chapel arrays can be indexed arbitrarily by specifying a domain
(e.g. <code class="docutils literal notranslate"><span class="pre">var</span> <span class="pre">myArr:</span> <span class="pre">[2..by</span> <span class="pre">4</span> <span class="pre">#2]</span></code>), the equivalent Python array will
also by indexed starting at 0 with a stride of 1. Methods like
<a class="reference internal" href="#Python.Array.get" title="Python.Array.get"><code class="xref chpl chpl-proc docutils literal notranslate"><span class="pre">get</span></code></a> do no translation of the domain and should be
called with the Python interpretation of the index.</p>
</div>
<p>To pass a Chapel array to a Python function, you would normally
just use the Chapel array directly, resulting in the data being copied in.
To avoid this copy, first create an <a class="reference internal" href="#Python.Array" title="Python.Array"><code class="xref chpl chpl-type docutils literal notranslate"><span class="pre">Array</span></code></a> object, then pass that to
the Python function.</p>
<p>For example,</p>
<div class="highlight-chapel notranslate"><div class="highlight"><pre><span></span><span class="nx">myPythonFunction</span><span class="p">(</span><span class="nx">NoneType</span><span class="p">,</span> <span class="nx">myChapelArray</span><span class="p">);</span> <span class="c1">// copies the data</span>

<span class="kd">var</span> <span class="nx">arr</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">Array</span><span class="p">(</span><span class="nx">interpreter</span><span class="p">,</span> <span class="nx">myChapelArray</span><span class="p">);</span>
<span class="nx">myPythonFunction</span><span class="p">(</span><span class="nx">NoneType</span><span class="p">,</span> <span class="nx">arr</span><span class="p">);</span> <span class="c1">// no copy is done</span>
</pre></div>
</div>
<div class="admonition warning">
<p class="admonition-title">Warning</p>
<p>If the array is invalidated or deallocated in Chapel, the Python code
will crash when it tries to access the array.</p>
</div>
<dl class="chpl method">
<dt class="sig sig-object chpl" id="Python.Array.init">
<em class="property"><span class="pre">proc</span> </em><span class="sig-name descname"><span class="pre">init</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="pre">in</span> <span class="pre">interpreter:</span> <span class="pre">borrowed</span> <span class="pre">Interpreter</span></em>, <em class="sig-param"><span class="pre">ref</span> <span class="pre">arr:</span> <span class="pre">[]</span></em><span class="sig-paren">)</span><span class="w"> </span><em class="property"> <span class="pre">throws</span></em><em class="property">&#160; <span class="pre">where</span> <span class="pre">isSupportedArrayType(arr)</span></em><a class="headerlink" href="#Python.Array.init" title="Link to this definition">¶</a></dt>
<dd><p>Create a new <a class="reference internal" href="#Python.Array" title="Python.Array"><code class="xref chpl chpl-type docutils literal notranslate"><span class="pre">Array</span></code></a> object from a Chapel array.</p>
<dl class="field-list simple">
<dt class="field-odd">Arguments<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>interpreter</strong> – The interpreter that this object is associated with.</p></li>
<li><p><strong>arr</strong> – The Chapel array to create the object from.</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="chpl method">
<dt class="sig sig-object chpl" id="Python.Array.size">
<em class="property"><span class="pre">proc</span> </em><span class="sig-name descname"><span class="pre">size</span></span><em class="property"> <span class="pre">:</span> <span class="pre">int</span> <span class="pre">throws</span></em><a class="headerlink" href="#Python.Array.size" title="Link to this definition">¶</a></dt>
<dd><p>Get the size of the array. Equivalent to calling <code class="docutils literal notranslate"><span class="pre">len(obj)</span></code> in Python or
<code class="docutils literal notranslate"><span class="pre">originalArray.size</span></code> in Chapel.</p>
<dl class="field-list simple">
<dt class="field-odd">Returns<span class="colon">:</span></dt>
<dd class="field-odd"><p>The size of the array.</p>
</dd>
</dl>
</dd></dl>

<dl class="chpl method">
<dt class="sig sig-object chpl" id="Python.Array.get">
<em class="property"><span class="pre">proc</span> </em><span class="sig-name descname"><span class="pre">get</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="pre">idx:</span> <span class="pre">int</span></em><span class="sig-paren">)</span><em class="property"> <span class="pre">:</span> <span class="pre">eltType</span> <span class="pre">throws</span></em><a class="headerlink" href="#Python.Array.get" title="Link to this definition">¶</a></dt>
<dd><p>Get an item from the array. Equivalent to calling <code class="docutils literal notranslate"><span class="pre">obj[idx]</span></code> in Python
or <code class="docutils literal notranslate"><span class="pre">originalArray[idx]</span></code> in Chapel.</p>
<dl class="field-list simple">
<dt class="field-odd">Arguments<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>idx</strong> – The index of the item to get.</p>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>The item at the given index.</p>
</dd>
</dl>
</dd></dl>

<dl class="chpl method">
<dt class="sig sig-object chpl" id="Python.Array.set">
<em class="property"><span class="pre">proc</span> </em><span class="sig-name descname"><span class="pre">set</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="pre">idx:</span> <span class="pre">int</span></em>, <em class="sig-param"><span class="pre">item:</span> <span class="pre">eltType</span></em><span class="sig-paren">)</span><span class="w"> </span><em class="property"> <span class="pre">throws</span></em><a class="headerlink" href="#Python.Array.set" title="Link to this definition">¶</a></dt>
<dd><p>Set an item in the array. Equivalent to calling <code class="docutils literal notranslate"><span class="pre">obj[idx]</span> <span class="pre">=</span> <span class="pre">item</span></code> in
Python or <code class="docutils literal notranslate"><span class="pre">originalArray[idx]</span> <span class="pre">=</span> <span class="pre">item</span></code> in Chapel.</p>
<dl class="field-list simple">
<dt class="field-odd">Arguments<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>idx</strong> – The index of the item to set.</p></li>
<li><p><strong>item</strong> – The item to set.</p></li>
</ul>
</dd>
</dl>
</dd></dl>

</dd></dl>

<dl class="chpl record">
<dt class="sig sig-object chpl" id="Python.GIL">
<em class="property"><span class="pre">record</span> </em><span class="sig-name descname"><span class="pre">GIL</span></span><a class="headerlink" href="#Python.GIL" title="Link to this definition">¶</a></dt>
<dd><p>Represents the Global Interpreter Lock, this is used to ensure that only one
thread is executing python code at a time. Each thread should have its own
<a class="reference internal" href="#Python.GIL" title="Python.GIL"><code class="xref chpl chpl-type docutils literal notranslate"><span class="pre">GIL</span></code></a> instance.</p>
<div class="admonition warning">
<p class="admonition-title">Warning</p>
<p>This is not thread safe, do not attempt to use the same instance from
multiple threads. This may cause a segfault or deadlock.</p>
</div>
<dl class="chpl method">
<dt class="sig sig-object chpl" id="Python.GIL.init">
<em class="property"><span class="pre">proc</span> </em><span class="sig-name descname"><span class="pre">init</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="pre">param</span> <span class="pre">acquire:</span> <span class="pre">bool</span> <span class="pre">=</span> <span class="pre">true</span></em><span class="sig-paren">)</span><a class="headerlink" href="#Python.GIL.init" title="Link to this definition">¶</a></dt>
<dd><p>Acquires the GIL on record creation by default.
Set <code class="docutils literal notranslate"><span class="pre">acquire</span></code> to false to delay acquisition.</p>
</dd></dl>

<dl class="chpl method">
<dt class="sig sig-object chpl" id="Python.GIL.acquire">
<em class="property"><span class="pre">proc</span> <span class="pre">ref</span> </em><span class="sig-name descname"><span class="pre">acquire</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#Python.GIL.acquire" title="Link to this definition">¶</a></dt>
<dd><p>Acquire the GIL. If the GIL is already acquired, this is a no-op.</p>
</dd></dl>

<dl class="chpl method">
<dt class="sig sig-object chpl" id="Python.GIL.release">
<em class="property"><span class="pre">proc</span> <span class="pre">ref</span> </em><span class="sig-name descname"><span class="pre">release</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#Python.GIL.release" title="Link to this definition">¶</a></dt>
<dd><p>Release the GIL. If the GIL is not acquired, this is a no-op.</p>
<p>This method is called automatically when the record is destroyed.</p>
</dd></dl>

</dd></dl>

<dl class="chpl record">
<dt class="sig sig-object chpl" id="Python.threadState">
<em class="property"><span class="pre">record</span> </em><span class="sig-name descname"><span class="pre">threadState</span></span><a class="headerlink" href="#Python.threadState" title="Link to this definition">¶</a></dt>
<dd><p>Represents the current thread state. This saves and restores the current
thread state.</p>
<div class="admonition warning">
<p class="admonition-title">Warning</p>
<p>This is not thread safe, do not attempt to use the same instance from
multiple threads. This may cause a segfault or deadlock.</p>
</div>
<dl class="chpl method">
<dt class="sig sig-object chpl" id="Python.threadState.init">
<em class="property"><span class="pre">proc</span> </em><span class="sig-name descname"><span class="pre">init</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="pre">param</span> <span class="pre">save:</span> <span class="pre">bool</span> <span class="pre">=</span> <span class="pre">false</span></em><span class="sig-paren">)</span><a class="headerlink" href="#Python.threadState.init" title="Link to this definition">¶</a></dt>
<dd><p>Saves the current thread state on record creation by default.
Set <code class="docutils literal notranslate"><span class="pre">save</span></code> to true to save the thread state on object creation.</p>
</dd></dl>

<dl class="chpl method">
<dt class="sig sig-object chpl" id="Python.threadState.save">
<em class="property"><span class="pre">proc</span> <span class="pre">ref</span> </em><span class="sig-name descname"><span class="pre">save</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#Python.threadState.save" title="Link to this definition">¶</a></dt>
<dd><p>Saves the current thread state. If the state is already saved, this
is a no-op.</p>
</dd></dl>

<dl class="chpl method">
<dt class="sig sig-object chpl" id="Python.threadState.restore">
<em class="property"><span class="pre">proc</span> <span class="pre">ref</span> </em><span class="sig-name descname"><span class="pre">restore</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#Python.threadState.restore" title="Link to this definition">¶</a></dt>
<dd><p>Restores the thread state. If the state is not saved, this is a no-op.</p>
<p>This method is called automatically when the record is destroyed.</p>
</dd></dl>

</dd></dl>

</section>
</section>


           </div>
          </div>
          <footer><div class="rst-footer-buttons" role="navigation" aria-label="Footer">
        <a href="Zarr.html" class="btn btn-neutral float-left" title="Zarr" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left" aria-hidden="true"></span> Previous</a>
        <a href="BLAS.html" class="btn btn-neutral float-right" title="BLAS" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right" aria-hidden="true"></span></a>
    </div>

  <hr/>

  <div role="contentinfo">
    <p>&#169; Copyright 2025, Hewlett Packard Enterprise Development LP.</p>
  </div>

   

</footer>
        </div>
      </div>
    </section>
  </div>
  <script>
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script>
 



</body>
</html>