<!DOCTYPE html>
<html class="writer-html5" lang="en" >
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>CTypes &mdash; Chapel Documentation 1.33</title>
      <link rel="stylesheet" href="../../_static/pygments.css" type="text/css" />
      <link rel="stylesheet" href="../../_static/css/theme.css" type="text/css" />
      <link rel="stylesheet" href="../../_static/style.css" type="text/css" />
    <link rel="shortcut icon" href="../../_static/favicon.ico"/>
  <!--[if lt IE 9]>
    <script src="../../_static/js/html5shiv.min.js"></script>
  <![endif]-->
  
        <script data-url_root="../../" id="documentation_options" src="../../_static/documentation_options.js"></script>
        <script src="../../_static/jquery.js"></script>
        <script src="../../_static/underscore.js"></script>
        <script src="../../_static/doctools.js"></script>
    <script src="../../_static/js/theme.js"></script>
    <link rel="index" title="Index" href="../../genindex.html" />
    <link rel="search" title="Search" href="../../search.html" />
    <link rel="next" title="OS" href="OS.html" />
    <link rel="prev" title="VectorizingIterator" href="VectorizingIterator.html" /> 
</head>

<body class="wy-body-for-nav"> 
  <div class="wy-grid-for-nav">
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >

<a href="../../index.html" class="icon icon-home"> Chapel Documentation

<!-- display version if button won't be rendered -->
<?php if (false) { ?>
<br>1.33
<?php } ?>

</a>

<?php
// Variables given by sphinx
$chplTitle = "1.33";
$pagename = "modules/standard/CTypes";
include "../..//versionButton.php";
?>


<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>


        </div><div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="Navigation menu">
  
              <p class="caption" role="heading"><span class="caption-text">Compiling and Running Chapel</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../usingchapel/QUICKSTART.html">Quickstart Instructions</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../usingchapel/index.html">Using Chapel</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../platforms/index.html">Platform-Specific Notes</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../technotes/index.html">Technical Notes</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../tools/index.html">Tools</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../developer/index.html">Docs for Contributors</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Writing Chapel Programs</span></p>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../../language/reference.html">Quick Reference</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../examples/index.html">Hello World Variants</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../primers/index.html">Primers</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../language/spec/index.html">Language Specification</a></li>
<li class="toctree-l1 current"><a class="reference internal" href="../standard.html">Standard Modules</a><ul class="current">
<li class="toctree-l2"><a class="reference internal" href="../standard.html#automatic-modules">Automatic Modules</a></li>
<li class="toctree-l2"><a class="reference internal" href="../standard.html#data-structures">Data Structures</a></li>
<li class="toctree-l2"><a class="reference internal" href="../standard.html#diagnostics">Diagnostics</a></li>
<li class="toctree-l2"><a class="reference internal" href="../standard.html#files-io">Files/IO</a></li>
<li class="toctree-l2"><a class="reference internal" href="../standard.html#language-support">Language Support</a></li>
<li class="toctree-l2"><a class="reference internal" href="../standard.html#math-numerical">Math/Numerical</a></li>
<li class="toctree-l2"><a class="reference internal" href="../standard.html#parallelism-distributed-computing">Parallelism/Distributed Computing</a></li>
<li class="toctree-l2 current"><a class="reference internal" href="../standard.html#system-interoperability">System/Interoperability</a><ul class="current">
<li class="toctree-l3 current"><a class="current reference internal" href="#">CTypes</a></li>
<li class="toctree-l3"><a class="reference internal" href="OS.html">OS</a></li>
<li class="toctree-l3"><a class="reference internal" href="Subprocess.html">Subprocess</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../standard.html#utilities">Utilities</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../packages.html">Package Modules</a></li>
<li class="toctree-l1"><a class="reference internal" href="../layoutdist.html">Standard Layouts and Distributions</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../mason-packages/index.html">Mason Packages</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../users-guide/index.html">Chapel Users Guide (WIP)</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Language History</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../language/evolution.html">Chapel Evolution</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../language/archivedSpecs.html">Documentation Archives</a></li>
</ul>

  <p class="caption" role="heading"><span class="caption-text">Indexes</span></p>
  <ul>
    <li class="toctree-11"><a class="reference internal" href="../../chpl-modindex.html">Chapel Module Index</a></li>
    <li class="toctree-11"><a class="reference internal" href="../../genindex.html">Complete Docs Index</a></li>
  </ul>

        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap"><nav class="wy-nav-top" aria-label="Mobile navigation menu" >
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../../index.html">Chapel Documentation</a>
      </nav>

      <div class="wy-nav-content">
        <div class="rst-content">
          <div role="navigation" aria-label="Page navigation">
  <ul class="wy-breadcrumbs">
      <li><a href="../../index.html" class="icon icon-home"></a> &raquo;</li>
          <li><a href="../standard.html">Standard Modules</a> &raquo;</li>
      <li>CTypes</li>
      <li class="wy-breadcrumbs-aside">
            <a href="../../_sources/modules/standard/CTypes.rst.txt" rel="nofollow"> View page source</a>
      </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
             
  <span class="target" id="module-CTypes"></span><div class="section" id="ctypes">
<h1>CTypes<a class="headerlink" href="#ctypes" title="Permalink to this headline">¶</a></h1>
<p><strong>Usage</strong></p>
<div class="highlight-chapel notranslate"><div class="highlight"><pre><span></span><span class="k">use</span> <span class="nx">CTypes</span><span class="p">;</span>
</pre></div>
</div>
<p>or</p>
<div class="highlight-chapel notranslate"><div class="highlight"><pre><span></span><span class="k">import</span> <span class="nx">CTypes</span><span class="p">;</span>
</pre></div>
</div>
<p>Defines C types and related routines to support interoperability.</p>
<p>This module provides access to common C types for the purpose of
calling between Chapel and C, declaring variables using C’s types,
etc.  It also contains routines in support of working with C types.</p>
<p>See <a class="reference internal" href="../../technotes/extern.html#readme-extern"><span class="std std-ref">C Interoperability</span></a>, and <a class="reference internal" href="../../language/spec/interoperability.html#chapter-interoperability"><span class="std std-ref">Interoperability</span></a> for
additional information about interoperating between Chapel and C (or
other languages).</p>
<dl class="chpl type">
<dt class="sig sig-object chpl" id="CTypes.c_int">
<em class="property"><span class="pre">type</span> </em><span class="sig-name descname"><span class="pre">c_int</span></span> <span class="pre">=</span> <span class="pre">integral</span><a class="headerlink" href="#CTypes.c_int" title="Permalink to this definition">¶</a></dt>
<dd><p>The Chapel type corresponding to the C ‘int’ type</p>
</dd></dl>

<dl class="chpl type">
<dt class="sig sig-object chpl" id="CTypes.c_uint">
<em class="property"><span class="pre">type</span> </em><span class="sig-name descname"><span class="pre">c_uint</span></span> <span class="pre">=</span> <span class="pre">integral</span><a class="headerlink" href="#CTypes.c_uint" title="Permalink to this definition">¶</a></dt>
<dd><p>The Chapel type corresponding to the C ‘uint’ type</p>
</dd></dl>

<dl class="chpl type">
<dt class="sig sig-object chpl" id="CTypes.c_long">
<em class="property"><span class="pre">type</span> </em><span class="sig-name descname"><span class="pre">c_long</span></span> <span class="pre">=</span> <span class="pre">integral</span><a class="headerlink" href="#CTypes.c_long" title="Permalink to this definition">¶</a></dt>
<dd><p>The Chapel type corresponding to the C ‘long’ type</p>
</dd></dl>

<dl class="chpl type">
<dt class="sig sig-object chpl" id="CTypes.c_ulong">
<em class="property"><span class="pre">type</span> </em><span class="sig-name descname"><span class="pre">c_ulong</span></span> <span class="pre">=</span> <span class="pre">integral</span><a class="headerlink" href="#CTypes.c_ulong" title="Permalink to this definition">¶</a></dt>
<dd><p>The Chapel type corresponding to the C ‘unsigned long’ type</p>
</dd></dl>

<dl class="chpl type">
<dt class="sig sig-object chpl" id="CTypes.c_longlong">
<em class="property"><span class="pre">type</span> </em><span class="sig-name descname"><span class="pre">c_longlong</span></span> <span class="pre">=</span> <span class="pre">integral</span><a class="headerlink" href="#CTypes.c_longlong" title="Permalink to this definition">¶</a></dt>
<dd><p>The Chapel type corresponding to the C ‘long long’ type</p>
</dd></dl>

<dl class="chpl type">
<dt class="sig sig-object chpl" id="CTypes.c_ulonglong">
<em class="property"><span class="pre">type</span> </em><span class="sig-name descname"><span class="pre">c_ulonglong</span></span> <span class="pre">=</span> <span class="pre">integral</span><a class="headerlink" href="#CTypes.c_ulonglong" title="Permalink to this definition">¶</a></dt>
<dd><p>The Chapel type corresponding to the C ‘unsigned long long’ type</p>
</dd></dl>

<dl class="chpl type">
<dt class="sig sig-object chpl" id="CTypes.c_char">
<em class="property"><span class="pre">type</span> </em><span class="sig-name descname"><span class="pre">c_char</span></span> <span class="pre">=</span> <span class="pre">integral</span><a class="headerlink" href="#CTypes.c_char" title="Permalink to this definition">¶</a></dt>
<dd><p>The Chapel type corresponding to the C ‘char’ type</p>
</dd></dl>

<dl class="chpl type">
<dt class="sig sig-object chpl" id="CTypes.c_schar">
<em class="property"><span class="pre">type</span> </em><span class="sig-name descname"><span class="pre">c_schar</span></span> <span class="pre">=</span> <span class="pre">integral</span><a class="headerlink" href="#CTypes.c_schar" title="Permalink to this definition">¶</a></dt>
<dd><p>The Chapel type corresponding to the C ‘signed char’ type</p>
</dd></dl>

<dl class="chpl type">
<dt class="sig sig-object chpl" id="CTypes.c_uchar">
<em class="property"><span class="pre">type</span> </em><span class="sig-name descname"><span class="pre">c_uchar</span></span> <span class="pre">=</span> <span class="pre">integral</span><a class="headerlink" href="#CTypes.c_uchar" title="Permalink to this definition">¶</a></dt>
<dd><p>The Chapel type corresponding to the C ‘unsigned char’ type</p>
</dd></dl>

<dl class="chpl type">
<dt class="sig sig-object chpl" id="CTypes.c_short">
<em class="property"><span class="pre">type</span> </em><span class="sig-name descname"><span class="pre">c_short</span></span> <span class="pre">=</span> <span class="pre">integral</span><a class="headerlink" href="#CTypes.c_short" title="Permalink to this definition">¶</a></dt>
<dd><p>The Chapel type corresponding to the C ‘short’ type</p>
</dd></dl>

<dl class="chpl type">
<dt class="sig sig-object chpl" id="CTypes.c_ushort">
<em class="property"><span class="pre">type</span> </em><span class="sig-name descname"><span class="pre">c_ushort</span></span> <span class="pre">=</span> <span class="pre">integral</span><a class="headerlink" href="#CTypes.c_ushort" title="Permalink to this definition">¶</a></dt>
<dd><p>The Chapel type corresponding to the C ‘unsigned short’ type</p>
</dd></dl>

<dl class="chpl type">
<dt class="sig sig-object chpl" id="CTypes.c_intptr">
<em class="property"><span class="pre">type</span> </em><span class="sig-name descname"><span class="pre">c_intptr</span></span> <span class="pre">=</span> <span class="pre">integral</span><a class="headerlink" href="#CTypes.c_intptr" title="Permalink to this definition">¶</a></dt>
<dd><p>The Chapel type corresponding to the C ‘intptr_t’ type</p>
</dd></dl>

<dl class="chpl type">
<dt class="sig sig-object chpl" id="CTypes.c_uintptr">
<em class="property"><span class="pre">type</span> </em><span class="sig-name descname"><span class="pre">c_uintptr</span></span> <span class="pre">=</span> <span class="pre">integral</span><a class="headerlink" href="#CTypes.c_uintptr" title="Permalink to this definition">¶</a></dt>
<dd><p>The Chapel type corresponding to the C ‘uintptr_t’ type</p>
</dd></dl>

<dl class="chpl type">
<dt class="sig sig-object chpl" id="CTypes.c_ptrdiff">
<em class="property"><span class="pre">type</span> </em><span class="sig-name descname"><span class="pre">c_ptrdiff</span></span> <span class="pre">=</span> <span class="pre">integral</span><a class="headerlink" href="#CTypes.c_ptrdiff" title="Permalink to this definition">¶</a></dt>
<dd><p>The Chapel type corresponding to the C ‘ptrdiff_t’ type</p>
</dd></dl>

<dl class="chpl type">
<dt class="sig sig-object chpl" id="CTypes.c_size_t">
<em class="property"><span class="pre">type</span> </em><span class="sig-name descname"><span class="pre">c_size_t</span></span> <span class="pre">=</span> <span class="pre">integral</span><a class="headerlink" href="#CTypes.c_size_t" title="Permalink to this definition">¶</a></dt>
<dd><p>The Chapel type corresponding to the C ‘size_t’ type</p>
</dd></dl>

<dl class="chpl type">
<dt class="sig sig-object chpl" id="CTypes.c_ssize_t">
<em class="property"><span class="pre">type</span> </em><span class="sig-name descname"><span class="pre">c_ssize_t</span></span> <span class="pre">=</span> <span class="pre">integral</span><a class="headerlink" href="#CTypes.c_ssize_t" title="Permalink to this definition">¶</a></dt>
<dd><p>The Chapel type corresponding to the C ‘ssize_t’ type</p>
</dd></dl>

<dl class="chpl type">
<dt class="sig sig-object chpl" id="CTypes.c_float">
<em class="property"><span class="pre">type</span> </em><span class="sig-name descname"><span class="pre">c_float</span></span> <span class="pre">=</span> <span class="pre">real(32)</span><a class="headerlink" href="#CTypes.c_float" title="Permalink to this definition">¶</a></dt>
<dd><p>The Chapel type corresponding to the C ‘float’ type</p>
</dd></dl>

<dl class="chpl type">
<dt class="sig sig-object chpl" id="CTypes.c_double">
<em class="property"><span class="pre">type</span> </em><span class="sig-name descname"><span class="pre">c_double</span></span> <span class="pre">=</span> <span class="pre">real(64)</span><a class="headerlink" href="#CTypes.c_double" title="Permalink to this definition">¶</a></dt>
<dd><p>The Chapel type corresponding to the C ‘double’ type</p>
</dd></dl>

<dl class="chpl type">
<dt class="sig sig-object chpl" id="CTypes.c_FILE">
<em class="property"><span class="pre">type</span> </em><span class="sig-name descname"><span class="pre">c_FILE</span></span><a class="headerlink" href="#CTypes.c_FILE" title="Permalink to this definition">¶</a></dt>
<dd><p>Chapel type alias for a C <code class="docutils literal notranslate"><span class="pre">FILE</span></code></p>
<p>A <code class="docutils literal notranslate"><span class="pre">FILE*</span></code> can be represented with <code class="docutils literal notranslate"><span class="pre">c_ptr(c_FILE)</span></code></p>
</dd></dl>

<dl class="chpl type">
<dt class="sig sig-object chpl" id="CTypes.c_void_ptr">
<em class="property"><span class="pre">type</span> </em><span class="sig-name descname"><span class="pre">c_void_ptr</span></span> <span class="pre">=</span> <span class="pre">c_ptr(void)</span><a class="headerlink" href="#CTypes.c_void_ptr" title="Permalink to this definition">¶</a></dt>
<dd><div class="admonition warning">
<p class="admonition-title">Warning</p>
<p>c_void_ptr is deprecated, use ‘c_ptr(void)’ instead.</p>
</div>
<p>A Chapel type alias for <code class="docutils literal notranslate"><span class="pre">void*</span></code> in C. Casts from integral types to
<code class="docutils literal notranslate"><span class="pre">c_void_ptr</span></code> as well as casts from <code class="docutils literal notranslate"><span class="pre">c_void_ptr</span></code> to integral types are
supported and behave similarly to those operations in C.</p>
</dd></dl>

<dl class="chpl type">
<dt class="sig sig-object chpl" id="CTypes.c_ptr">
<em class="property"><span class="pre">type</span> </em><span class="sig-name descname"><span class="pre">c_ptr</span></span> <span class="pre">:</span> <span class="pre">writeSerializable</span><a class="headerlink" href="#CTypes.c_ptr" title="Permalink to this definition">¶</a></dt>
<dd><p>Represents a local C pointer for the purpose of C integration. This type
represents the equivalent to a C language pointer <code class="docutils literal notranslate"><span class="pre">eltType*</span></code>. Instances of
this type support assignment to other instances or <code class="docutils literal notranslate"><span class="pre">nil</span></code>, <code class="docutils literal notranslate"><span class="pre">==</span></code> or <code class="docutils literal notranslate"><span class="pre">!=</span></code>
comparison with <code class="docutils literal notranslate"><span class="pre">nil</span></code>, and casting to another <code class="docutils literal notranslate"><span class="pre">c_ptr</span></code> type.</p>
<p><code class="docutils literal notranslate"><span class="pre">c_ptr(void)</span></code> represents an opaque pointer with special functionality,
corresponding to <code class="docutils literal notranslate"><span class="pre">void*</span></code> in C. Casts from integral types to
<code class="docutils literal notranslate"><span class="pre">c_ptr(void)</span></code> as well as casts from <code class="docutils literal notranslate"><span class="pre">c_ptr(void)</span></code> to integral types are
supported and behave similarly to those operations in C. Casting a
<code class="docutils literal notranslate"><span class="pre">c_ptr(void)</span></code> to or from a <code class="docutils literal notranslate"><span class="pre">c_ptr(t)</span></code> of any pointee type is allowed.</p>
<p>Casting directly to a <code class="docutils literal notranslate"><span class="pre">c_ptr</span></code> of another pointee type is supported, but
will emit a safety warning for casts that can lead to violation of C’s
strict aliasing rule. Casting to a char pointee type or across signedness,
or through an intermediate cast to <code class="docutils literal notranslate"><span class="pre">c_ptr(void)</span></code>, will not generate a
warning.</p>
<p>As with a Chapel class, a <code class="docutils literal notranslate"><span class="pre">c_ptr</span></code> can be tested non-nil simply
by including it in an if statement conditional, like so:</p>
<div class="highlight-chapel notranslate"><div class="highlight"><pre><span></span><span class="kd">var</span> <span class="nx">x</span><span class="p">:</span> <span class="nx">c_ptr</span> <span class="o">=</span> <span class="nx">c_ptrTo</span><span class="p">(</span><span class="o">..</span><span class="p">.);</span>
<span class="k">if</span> <span class="nx">x</span> <span class="k">then</span> <span class="k">do</span> <span class="nx">writeln</span><span class="p">(</span><span class="s">&quot;x is not nil&quot;</span><span class="p">);</span>
<span class="k">if</span> <span class="o">!</span><span class="nx">x</span> <span class="k">then</span> <span class="k">do</span> <span class="nx">writeln</span><span class="p">(</span><span class="s">&quot;x is nil&quot;</span><span class="p">);</span>
</pre></div>
</div>
<p>Additionally, a <code class="docutils literal notranslate"><span class="pre">c_ptr</span></code> can be output like so:</p>
<div class="highlight-chapel notranslate"><div class="highlight"><pre><span></span><span class="kd">var</span> <span class="nx">x</span><span class="p">:</span> <span class="nx">c_ptr</span> <span class="o">=</span> <span class="nx">c_ptrTo</span><span class="p">(</span><span class="o">..</span><span class="p">.);</span>
<span class="nx">writeln</span><span class="p">(</span><span class="nx">x</span><span class="p">);</span> <span class="c1">// outputs nil or e.g. 0xabc123000000</span>
</pre></div>
</div>
<dl class="chpl attribute">
<dt class="sig sig-object chpl" id="CTypes.eltType">
<em class="property"><span class="pre">type</span> </em><span class="sig-name descname"><span class="pre">eltType</span></span><a class="headerlink" href="#CTypes.eltType" title="Permalink to this definition">¶</a></dt>
<dd><p>The type that this pointer points to, which can be queried like so:</p>
<div class="highlight-chapel notranslate"><div class="highlight"><pre><span></span><span class="kd">var</span> <span class="nx">x</span><span class="p">:</span> <span class="nx">c_ptr</span> <span class="o">=</span> <span class="nx">c_ptrTo</span><span class="p">(</span><span class="o">..</span><span class="p">.);</span>
<span class="k">if</span> <span class="nx">x</span><span class="p">.</span><span class="nx">eltType</span> <span class="o">==</span> <span class="nx">c_int</span> <span class="k">then</span> <span class="k">do</span> <span class="nx">writeln</span><span class="p">(</span><span class="s">&quot;x is an int pointer&quot;</span><span class="p">);</span>
</pre></div>
</div>
</dd></dl>

<dl class="chpl method">
<dt class="sig sig-object chpl" id="CTypes.this">
<em class="property"><span class="pre">proc</span> </em><span class="sig-name descname"><span class="pre">this</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="pre">i:</span> <span class="pre">integral</span></em><span class="sig-paren">)</span> <span class="pre">ref</span><a class="headerlink" href="#CTypes.this" title="Permalink to this definition">¶</a></dt>
<dd><p>Retrieve the i’th element (zero based) from a pointer to an array.
Does the equivalent of ptr[i] in C.</p>
</dd></dl>

<dl class="chpl method">
<dt class="sig sig-object chpl" id="CTypes.deref">
<em class="property"><span class="pre">proc</span> </em><span class="sig-name descname"><span class="pre">deref</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span> <span class="pre">ref</span><a class="headerlink" href="#CTypes.deref" title="Permalink to this definition">¶</a></dt>
<dd><p>Get element pointed to directly by this pointer. If the pointer
refers to an array, this will return ptr[0].</p>
</dd></dl>

<dl class="chpl method">
<dt class="sig sig-object chpl" id="CTypes.serialize">
<em class="property"><span class="pre">proc</span> </em><span class="sig-name descname"><span class="pre">serialize</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="pre">writer</span></em>, <em class="sig-param"><span class="pre">ref</span> <span class="pre">serializer</span></em><span class="sig-paren">)</span> <span class="pre">throws</span><a class="headerlink" href="#CTypes.serialize" title="Permalink to this definition">¶</a></dt>
<dd><p>Print this pointer</p>
</dd></dl>

</dd></dl>

<dl class="chpl type">
<dt class="sig sig-object chpl" id="CTypes.c_ptrConst">
<em class="property"><span class="pre">type</span> </em><span class="sig-name descname"><span class="pre">c_ptrConst</span></span> <span class="pre">:</span> <span class="pre">writeSerializable</span><a class="headerlink" href="#CTypes.c_ptrConst" title="Permalink to this definition">¶</a></dt>
<dd><p>Like <a class="reference internal" href="#CTypes.c_ptr" title="CTypes.c_ptr"><code class="xref chpl chpl-type docutils literal notranslate"><span class="pre">c_ptr</span></code></a>, but for a pointer to const data. In C, this is
equivalent to the type <cite>const eltType*</cite>.</p>
<dl class="chpl attribute">
<dt class="sig sig-object chpl">
<em class="property"><span class="pre">type</span> </em><span class="sig-name descname"><span class="pre">eltType</span></span></dt>
<dd><p>The type that this pointer points to, which can be queried like so:</p>
<div class="highlight-chapel notranslate"><div class="highlight"><pre><span></span><span class="kd">var</span> <span class="nx">x</span><span class="p">:</span> <span class="nx">c_ptrConst</span> <span class="o">=</span> <span class="nx">c_ptrToConst</span><span class="p">(</span><span class="o">..</span><span class="p">.);</span>
<span class="k">if</span> <span class="nx">x</span><span class="p">.</span><span class="nx">eltType</span> <span class="o">==</span> <span class="nx">c_int</span> <span class="k">then</span> <span class="k">do</span> <span class="nx">writeln</span><span class="p">(</span><span class="s">&quot;x is a const int pointer&quot;</span><span class="p">);</span>
</pre></div>
</div>
</dd></dl>

<dl class="chpl method">
<dt class="sig sig-object chpl">
<em class="property"><span class="pre">proc</span> </em><span class="sig-name descname"><span class="pre">this</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="pre">i:</span> <span class="pre">integral</span></em><span class="sig-paren">)</span> <span class="pre">const</span> <span class="pre">ref</span></dt>
<dd><p>Retrieve the i’th element (zero based) from a pointer to an array.
Does the equivalent of ptr[i] in C.
Provides a <code class="docutils literal notranslate"><span class="pre">const</span> <span class="pre">ref</span></code> which cannot be used to modify the element.</p>
</dd></dl>

<dl class="chpl method">
<dt class="sig sig-object chpl">
<em class="property"><span class="pre">proc</span> </em><span class="sig-name descname"><span class="pre">deref</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span> <span class="pre">const</span> <span class="pre">ref</span></dt>
<dd><p>Get element pointed to directly by this pointer. If the pointer
refers to an array, this will return ptr[0].
Provides a <code class="docutils literal notranslate"><span class="pre">const</span> <span class="pre">ref</span></code> which cannot be used to modify the element.</p>
</dd></dl>

<dl class="chpl method">
<dt class="sig sig-object chpl">
<em class="property"><span class="pre">proc</span> </em><span class="sig-name descname"><span class="pre">serialize</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="pre">writer</span></em>, <em class="sig-param"><span class="pre">ref</span> <span class="pre">serializer</span></em><span class="sig-paren">)</span> <span class="pre">throws</span></dt>
<dd><p>Print this pointer</p>
</dd></dl>

</dd></dl>

<dl class="chpl type">
<dt class="sig sig-object chpl" id="CTypes.c_array">
<em class="property"><span class="pre">type</span> </em><span class="sig-name descname"><span class="pre">c_array</span></span> <span class="pre">:</span> <span class="pre">writeSerializable</span><a class="headerlink" href="#CTypes.c_array" title="Permalink to this definition">¶</a></dt>
<dd><p>This type represents a C array with fixed size.  A variable of type
<code class="docutils literal notranslate"><span class="pre">c_array</span></code> can coerce to a <code class="docutils literal notranslate"><span class="pre">c_ptr</span></code> with the same element type.  In that
event, the pointer will be equivalent to <code class="docutils literal notranslate"><span class="pre">c_ptrTo(array[0])</span></code>.  A <code class="docutils literal notranslate"><span class="pre">c_array</span></code>
behaves similarly to a homogeneous tuple except that its indices start at 0
and it is guaranteed to be stored in contiguous memory.  A <code class="docutils literal notranslate"><span class="pre">c_array</span></code>
variable has value semantics. Declaring one as a function-local variable will
create the array elements in the function’s stack. Assigning or copy
initializing will result in copying the elements (vs resulting in two pointers
that refer to the same elements).  A <code class="docutils literal notranslate"><span class="pre">nil</span></code> <code class="docutils literal notranslate"><span class="pre">c_array</span></code> is not representable
in Chapel.</p>
<dl class="chpl attribute">
<dt class="sig sig-object chpl">
<em class="property"><span class="pre">type</span> </em><span class="sig-name descname"><span class="pre">eltType</span></span></dt>
<dd><p>The array element type, which can be queried like so:</p>
<div class="highlight-chapel notranslate"><div class="highlight"><pre><span></span><span class="kd">var</span> <span class="nx">x</span><span class="p">:</span> <span class="nx">c_array</span> <span class="o">=</span> <span class="nx">c_ptrToConst</span><span class="p">(</span><span class="o">..</span><span class="p">.);</span>
<span class="k">if</span> <span class="nx">x</span><span class="p">.</span><span class="nx">eltType</span> <span class="o">==</span> <span class="nx">c_int</span> <span class="k">then</span> <span class="k">do</span> <span class="nx">writeln</span><span class="p">(</span><span class="s">&quot;x is an array of ints&quot;</span><span class="p">);</span>
</pre></div>
</div>
</dd></dl>

<dl class="chpl attribute">
<dt class="sig sig-object chpl" id="CTypes.size">
<em class="property"><span class="pre">param</span> </em><span class="sig-name descname"><span class="pre">size</span></span><a class="headerlink" href="#CTypes.size" title="Permalink to this definition">¶</a></dt>
<dd><p>The fixed number of elements, which can be queried like so:</p>
<div class="highlight-chapel notranslate"><div class="highlight"><pre><span></span><span class="kd">var</span> <span class="nx">x</span><span class="p">:</span> <span class="nx">c_array</span> <span class="o">=</span> <span class="nx">c_ptrToConst</span><span class="p">(</span><span class="o">..</span><span class="p">.);</span>
<span class="nx">writeln</span><span class="p">(</span><span class="s">&quot;x has &quot;</span><span class="p">,</span> <span class="nx">x</span><span class="p">.</span><span class="nx">size</span><span class="p">,</span> <span class="s">&quot; elements.&quot;</span><span class="p">);</span>
</pre></div>
</div>
</dd></dl>

<dl class="chpl method">
<dt class="sig sig-object chpl" id="CTypes.init">
<em class="property"><span class="pre">proc</span> </em><span class="sig-name descname"><span class="pre">init</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="pre">type</span> <span class="pre">eltType</span></em>, <em class="sig-param"><span class="pre">param</span> <span class="pre">size</span></em><span class="sig-paren">)</span><a class="headerlink" href="#CTypes.init" title="Permalink to this definition">¶</a></dt>
<dd><p>Default-initializes a <a class="reference internal" href="#CTypes.c_array" title="CTypes.c_array"><code class="xref chpl chpl-type docutils literal notranslate"><span class="pre">c_array</span></code></a>, where each element gets the default value of <code class="docutils literal notranslate"><span class="pre">eltType</span></code>.</p>
</dd></dl>

<dl class="chpl method">
<dt class="sig sig-object chpl">
<em class="property"><span class="pre">proc</span> <span class="pre">ref</span> </em><span class="sig-name descname"><span class="pre">this</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="pre">i:</span> <span class="pre">integral</span></em><span class="sig-paren">)</span> <span class="pre">ref:</span> <span class="pre">eltType</span></dt>
<dd><p>Retrieve the i’th element (zero based) from the array.
Does the equivalent of arr[i] in C.
Includes bounds checking when such checks are enabled.</p>
</dd></dl>

<dl class="chpl method">
<dt class="sig sig-object chpl">
<em class="property"><span class="pre">proc</span> <span class="pre">ref</span> </em><span class="sig-name descname"><span class="pre">this</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="pre">param</span> <span class="pre">i:</span> <span class="pre">integral</span></em><span class="sig-paren">)</span> <span class="pre">ref:</span> <span class="pre">eltType</span></dt>
<dd><p>As with the previous function, returns the i’th element (zero based)
from the array. This one emits a compilation error if i is out of bounds.</p>
</dd></dl>

<dl class="chpl method">
<dt class="sig sig-object chpl">
<em class="property"><span class="pre">proc</span> </em><span class="sig-name descname"><span class="pre">serialize</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="pre">writer</span></em>, <em class="sig-param"><span class="pre">ref</span> <span class="pre">serializer</span></em><span class="sig-paren">)</span> <span class="pre">throws</span></dt>
<dd><p>Print the elements</p>
</dd></dl>

<dl class="chpl method">
<dt class="sig sig-object chpl" id="CTypes.init=">
<em class="property"><span class="pre">proc</span> </em><span class="sig-name descname"><span class="pre">init=</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="pre">other:</span> <span class="pre">c_array</span></em><span class="sig-paren">)</span><a class="headerlink" href="#CTypes.init=" title="Permalink to this definition">¶</a></dt>
<dd><p>Moves the elements from <code class="docutils literal notranslate"><span class="pre">other</span></code> to <code class="docutils literal notranslate"><span class="pre">this</span></code>.</p>
</dd></dl>

</dd></dl>

<dl class="chpl method">
<dt class="sig sig-object chpl" id="CTypes.c_array.=">
<em class="property"><span class="pre">operator</span> </em><span class="sig-prename descclassname"><span class="pre">c_array.</span></span><span class="sig-name descname"><span class="pre">=</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="pre">ref</span> <span class="pre">lhs:</span> <span class="pre">c_array</span></em>, <em class="sig-param"><span class="pre">rhs:</span> <span class="pre">c_array</span></em><span class="sig-paren">)</span><a class="headerlink" href="#CTypes.c_array.=" title="Permalink to this definition">¶</a></dt>
<dd><p>Copy the elements from one <a class="reference internal" href="#CTypes.c_array" title="CTypes.c_array"><code class="xref chpl chpl-type docutils literal notranslate"><span class="pre">c_array</span></code></a> to another.
Raises an error at compile time if the array sizes or
element types do not match.</p>
</dd></dl>

<dl class="chpl function">
<dt class="sig sig-object chpl" id="CTypes.=">
<em class="property"><span class="pre">operator</span> </em><span class="sig-name descname"><span class="pre">=</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="pre">ref</span> <span class="pre">lhs:</span> <span class="pre">c_ptr</span></em>, <em class="sig-param"><span class="pre">ref</span> <span class="pre">rhs:</span> <span class="pre">c_array</span></em><span class="sig-paren">)</span><a class="headerlink" href="#CTypes.=" title="Permalink to this definition">¶</a></dt>
<dd><p>Get a pointer to the first element in <code class="docutils literal notranslate"><span class="pre">rhs</span></code>, essentially decaying the <a class="reference internal" href="#CTypes.c_array" title="CTypes.c_array"><code class="xref chpl chpl-type docutils literal notranslate"><span class="pre">c_array</span></code></a> to a <a class="reference internal" href="#CTypes.c_ptr" title="CTypes.c_ptr"><code class="xref chpl chpl-type docutils literal notranslate"><span class="pre">c_ptr</span></code></a>.</p>
</dd></dl>

<dl class="chpl function">
<dt class="sig sig-object chpl" id="CTypes.c_ptrTo">
<em class="property"><span class="pre">proc</span> </em><span class="sig-name descname"><span class="pre">c_ptrTo</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="pre">ref</span> <span class="pre">x:</span> <span class="pre">?t</span></em><span class="sig-paren">)</span><a class="headerlink" href="#CTypes.c_ptrTo" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns a <a class="reference internal" href="#CTypes.c_ptr" title="CTypes.c_ptr"><code class="xref chpl chpl-type docutils literal notranslate"><span class="pre">c_ptr</span></code></a> to any Chapel object.</p>
<p>For most types, the returned <a class="reference internal" href="#CTypes.c_ptr" title="CTypes.c_ptr"><code class="xref chpl chpl-type docutils literal notranslate"><span class="pre">c_ptr</span></code></a> will simply point to the memory
address of the Chapel variable, and have element type matching the type of
the passed-in variable. However, this procedure has special behavior for
variables of the following types, and will return a pointer that is
potentially more useful:</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">array</span></code> types: Returns a pointer to the first element of the array, with
pointer element type matching the array’s element type.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">class</span></code> types: Returns a <code class="docutils literal notranslate"><span class="pre">c_ptr(void)</span></code> to the heap instance of the
class variable.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">string</span></code> type: Returns a <code class="docutils literal notranslate"><span class="pre">c_ptr(c_uchar)</span></code> to the underlying buffer of
the <code class="docutils literal notranslate"><span class="pre">string</span></code>.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">bytes</span></code> type: Returns a <code class="docutils literal notranslate"><span class="pre">c_ptr(c_uchar)</span></code> to the underlying buffer of
the <code class="docutils literal notranslate"><span class="pre">bytes</span></code>.</p></li>
</ul>
<p>To avoid this special behavior and just get the variable address naively
regardless of type, use <a class="reference internal" href="#CTypes.c_addrOf" title="CTypes.c_addrOf"><code class="xref chpl chpl-proc docutils literal notranslate"><span class="pre">c_addrOf</span></code></a> instead. <code class="docutils literal notranslate"><span class="pre">c_ptrTo</span></code> has identical
behavior to <code class="docutils literal notranslate"><span class="pre">c_addrOf</span></code> on types other than those with special behavior
listed above.</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>The existence of the <code class="docutils literal notranslate"><span class="pre">c_ptr</span></code> has no impact on the lifetime
of the object it points to. In many cases the object will be stack
allocated and could go out of scope even if this <code class="docutils literal notranslate"><span class="pre">c_ptr</span></code> remains.</p>
</div>
<dl class="field-list simple">
<dt class="field-odd">Arguments</dt>
<dd class="field-odd"><p><strong>x</strong> – The by-reference argument to get a pointer to. Domains are not
supported, and will cause a compiler error.</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>A <a class="reference internal" href="#CTypes.c_ptr" title="CTypes.c_ptr"><code class="xref chpl chpl-type docutils literal notranslate"><span class="pre">c_ptr</span></code></a> to the argument passed by reference, with address
and element type potentially depending on special behavior for the
the type as described above.</p>
</dd>
</dl>
</dd></dl>

<dl class="chpl function">
<dt class="sig sig-object chpl" id="CTypes.c_ptrToConst">
<em class="property"><span class="pre">proc</span> </em><span class="sig-name descname"><span class="pre">c_ptrToConst</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="pre">const</span> <span class="pre">ref</span> <span class="pre">x:</span> <span class="pre">?t</span></em><span class="sig-paren">)</span><span class="pre">:</span> <span class="pre">c_ptrConst(t)</span><a class="headerlink" href="#CTypes.c_ptrToConst" title="Permalink to this definition">¶</a></dt>
<dd><p>Like <a class="reference internal" href="#CTypes.c_ptrTo" title="CTypes.c_ptrTo"><code class="xref chpl chpl-proc docutils literal notranslate"><span class="pre">c_ptrTo</span></code></a>, but returns a <a class="reference internal" href="#CTypes.c_ptrConst" title="CTypes.c_ptrConst"><code class="xref chpl chpl-type docutils literal notranslate"><span class="pre">c_ptrConst</span></code></a> which disallows direct
modification of the pointee.</p>
</dd></dl>

<dl class="chpl function">
<dt class="sig sig-object chpl" id="CTypes.c_addrOf">
<em class="property"><span class="pre">proc</span> </em><span class="sig-name descname"><span class="pre">c_addrOf</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="pre">ref</span> <span class="pre">x:</span> <span class="pre">?t</span></em><span class="sig-paren">)</span><span class="pre">:</span> <span class="pre">c_ptr(t)</span><a class="headerlink" href="#CTypes.c_addrOf" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns a <a class="reference internal" href="#CTypes.c_ptr" title="CTypes.c_ptr"><code class="xref chpl chpl-type docutils literal notranslate"><span class="pre">c_ptr</span></code></a> to the address of any Chapel object.</p>
<p>Note that the behavior of this procedure is identical to <a class="reference internal" href="#CTypes.c_ptrTo" title="CTypes.c_ptrTo"><code class="xref chpl chpl-proc docutils literal notranslate"><span class="pre">c_ptrTo</span></code></a>
for scalar types and records. It only differs for arrays, strings, bytes,
and class variables; see documentation of <a class="reference internal" href="#CTypes.c_ptrTo" title="CTypes.c_ptrTo"><code class="xref chpl chpl-proc docutils literal notranslate"><span class="pre">c_ptrTo</span></code></a> for special
behavior on those types.</p>
</dd></dl>

<dl class="chpl function">
<dt class="sig sig-object chpl" id="CTypes.c_addrOfConst">
<em class="property"><span class="pre">proc</span> </em><span class="sig-name descname"><span class="pre">c_addrOfConst</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="pre">const</span> <span class="pre">ref</span> <span class="pre">x:</span> <span class="pre">?t</span></em><span class="sig-paren">)</span><span class="pre">:</span> <span class="pre">c_ptrConst(t)</span><a class="headerlink" href="#CTypes.c_addrOfConst" title="Permalink to this definition">¶</a></dt>
<dd><p>Like <a class="reference internal" href="#CTypes.c_addrOf" title="CTypes.c_addrOf"><code class="xref chpl chpl-proc docutils literal notranslate"><span class="pre">c_addrOf</span></code></a>, but returns a <a class="reference internal" href="#CTypes.c_ptrConst" title="CTypes.c_ptrConst"><code class="xref chpl chpl-type docutils literal notranslate"><span class="pre">c_ptrConst</span></code></a> which disallows
direct modification of the pointee.</p>
</dd></dl>

<dl class="chpl function">
<dt class="sig sig-object chpl" id="CTypes.c_sizeof">
<em class="property"><span class="pre">proc</span> </em><span class="sig-name descname"><span class="pre">c_sizeof</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="pre">type</span> <span class="pre">t</span></em><span class="sig-paren">)</span><span class="pre">:</span> <span class="pre">c_size_t</span><a class="headerlink" href="#CTypes.c_sizeof" title="Permalink to this definition">¶</a></dt>
<dd><p>Return the size in bytes of a type, as with the C <code class="docutils literal notranslate"><span class="pre">sizeof</span></code> built-in.</p>
<div class="admonition warning">
<p class="admonition-title">Warning</p>
<p>This method is intended for C interoperability. To enhance
flexibility, it is possible to request the sizes of Chapel types.
However, be aware:</p>
<blockquote>
<div><ul class="simple">
<li><p>Chapel types are not necessarily stored in contiguous memory</p></li>
<li><p>Behavior of <code class="docutils literal notranslate"><span class="pre">c_sizeof</span></code> with Chapel types may change</p></li>
<li><p>Behavior given a Chapel class type is not well-defined</p></li>
</ul>
</div></blockquote>
</div>
</dd></dl>

<dl class="chpl function">
<dt class="sig sig-object chpl" id="CTypes.c_offsetof">
<em class="property"><span class="pre">proc</span> </em><span class="sig-name descname"><span class="pre">c_offsetof</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="pre">type</span> <span class="pre">t</span></em>, <em class="sig-param"><span class="pre">param</span> <span class="pre">fieldname:</span> <span class="pre">string</span></em><span class="sig-paren">)</span><span class="pre">:</span> <span class="pre">c_size_t</span><em class="property">&#160; <span class="pre">where</span> <span class="pre">isRecordType(t)</span></em><a class="headerlink" href="#CTypes.c_offsetof" title="Permalink to this definition">¶</a></dt>
<dd><p>Return the offset of a field in a record.</p>
<div class="admonition warning">
<p class="admonition-title">Warning</p>
<p>This method is intended for C interoperability.  To enhance flexibility,
it is possible to request the offset of elements within a Chapel record.
However, be aware:</p>
<ul class="simple">
<li><p>Chapel types are not necessary stored in contiguous memory</p></li>
<li><p>Behavior of <code class="docutils literal notranslate"><span class="pre">c_offsetof</span></code> may change</p></li>
<li><p>Behavior given a Chapel class type field is not well-defined</p></li>
</ul>
</div>
</dd></dl>

<dl class="chpl function">
<dt class="sig sig-object chpl" id="CTypes.allocate">
<em class="property"><span class="pre">proc</span> </em><span class="sig-name descname"><span class="pre">allocate</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="pre">type</span> <span class="pre">eltType</span></em>, <em class="sig-param"><span class="pre">size:</span> <span class="pre">c_size_t</span></em>, <em class="sig-param"><span class="pre">clear:</span> <span class="pre">bool</span> <span class="pre">=</span> <span class="pre">false</span></em>, <em class="sig-param"><span class="pre">alignment:</span> <span class="pre">c_size_t</span> <span class="pre">=</span> <span class="pre">0</span></em><span class="sig-paren">)</span><span class="pre">:</span> <span class="pre">c_ptr(eltType)</span><a class="headerlink" href="#CTypes.allocate" title="Permalink to this definition">¶</a></dt>
<dd><div class="admonition warning">
<p class="admonition-title">Warning</p>
<p>‘allocate’ is unstable, and may be renamed or moved</p>
</div>
<p>Allocate memory.</p>
<blockquote>
<div><p>This uses the Chapel allocator. Memory allocated with this function should
eventually be freed with <a class="reference internal" href="#CTypes.deallocate" title="CTypes.deallocate"><code class="xref chpl chpl-proc docutils literal notranslate"><span class="pre">deallocate</span></code></a>.</p>
</div></blockquote>
<dl class="field-list simple">
<dt class="field-odd">Arguments</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>eltType</strong> – the type of the elements to allocate</p></li>
<li><p><strong>size</strong> – the number of elements to allocate space for</p></li>
<li><p><strong>clear</strong> – whether to initialize all bits of allocated memory to 0</p></li>
<li><p><strong>alignment</strong> – Memory alignment of the allocation, which must be a power of
two and a multiple of <cite>c_sizeof(c_ptr(void))</cite>. Alignment of 0
is invalid and taken to mean default alignment.</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>a c_ptr(eltType) to allocated memory</p>
</dd>
</dl>
</dd></dl>

<dl class="chpl function">
<dt class="sig sig-object chpl" id="CTypes.deallocate">
<em class="property"><span class="pre">proc</span> </em><span class="sig-name descname"><span class="pre">deallocate</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="pre">data:</span> <span class="pre">c_ptr(void)</span></em><span class="sig-paren">)</span><a class="headerlink" href="#CTypes.deallocate" title="Permalink to this definition">¶</a></dt>
<dd><div class="admonition warning">
<p class="admonition-title">Warning</p>
<p>‘deallocate’ is unstable, and may be renamed or moved</p>
</div>
<p>Free memory that was allocated with <a class="reference internal" href="#CTypes.allocate" title="CTypes.allocate"><code class="xref chpl chpl-proc docutils literal notranslate"><span class="pre">allocate</span></code></a>.</p>
<dl class="field-list simple">
<dt class="field-odd">Arguments</dt>
<dd class="field-odd"><p><strong>data</strong> – the c_ptr to memory that was allocated. Note that both
<cite>c_ptr(t)</cite> and <cite>c_ptr(void)</cite> can be passed to this argument.</p>
</dd>
</dl>
</dd></dl>

<dl class="chpl function">
<dt class="sig sig-object chpl" id="CTypes.strLen">
<em class="property"><span class="pre">proc</span> </em><span class="sig-name descname"><span class="pre">strLen</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="pre">x:</span> <span class="pre">c_ptr(?t)</span></em><span class="sig-paren">)</span><span class="pre">:</span> <span class="pre">int</span><a class="headerlink" href="#CTypes.strLen" title="Permalink to this definition">¶</a></dt>
<dd><div class="admonition warning">
<p class="admonition-title">Warning</p>
<p>the strLen function is unstable and may change or go away in a future release</p>
</div>
<p>Get the number of bytes in a c_ptr(int(8)) or c_ptr(uint(8)), excluding the
terminating null.</p>
<dl class="field-list simple">
<dt class="field-odd">Arguments</dt>
<dd class="field-odd"><p><strong>x</strong> – c_ptr(int(8)) or c_ptr(uint(8)) to get length of</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>the number of bytes in x, excluding the terminating null</p>
</dd>
</dl>
</dd></dl>

<dl class="chpl function">
<dt class="sig sig-object chpl">
<em class="property"><span class="pre">proc</span> </em><span class="sig-name descname"><span class="pre">strLen</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="pre">x:</span> <span class="pre">c_ptrConst(?t)</span></em><span class="sig-paren">)</span><span class="pre">:</span> <span class="pre">int</span></dt>
<dd><div class="admonition warning">
<p class="admonition-title">Warning</p>
<p>the strLen function is unstable and may change or go away in a future release</p>
</div>
<p>Get the number of bytes in a c_ptrConst(int(8)) or c_ptrConst(uint(8)),
excluding the terminating NULL.</p>
<dl class="field-list simple">
<dt class="field-odd">Arguments</dt>
<dd class="field-odd"><p><strong>x</strong> – c_ptrConst(int(8)) or c_ptrConst(uint(8)) to get length of</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>the number of bytes in x, excluding the terminating NULL</p>
</dd>
</dl>
</dd></dl>

<dl class="chpl method">
<dt class="sig sig-object chpl" id="CTypes.string.c_str">
<em class="property"><span class="pre">proc</span> </em><span class="sig-prename descclassname"><span class="pre">string.</span></span><span class="sig-name descname"><span class="pre">c_str</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><span class="pre">:</span> <span class="pre">c_ptrConst(c_char)</span><a class="headerlink" href="#CTypes.string.c_str" title="Permalink to this definition">¶</a></dt>
<dd><div class="admonition warning">
<p class="admonition-title">Warning</p>
<p>‘string.c_str()’ is unstable and may change in a future release</p>
</div>
<p>Get a <cite>c_ptrConst(c_char)</cite> from a <a class="reference internal" href="../../language/spec/strings.html#String.string" title="String.string"><code class="xref chpl chpl-type docutils literal notranslate"><span class="pre">string</span></code></a>. The returned
<cite>c_ptrConst(c_char)</cite> shares the buffer with the <a class="reference internal" href="../../language/spec/strings.html#String.string" title="String.string"><code class="xref chpl chpl-type docutils literal notranslate"><span class="pre">string</span></code></a>.</p>
<div class="admonition warning">
<p class="admonition-title">Warning</p>
<p>This can only be called safely on a <a class="reference internal" href="../../language/spec/strings.html#String.string" title="String.string"><code class="xref chpl chpl-type docutils literal notranslate"><span class="pre">string</span></code></a> whose home is
the current locale.  This property can be enforced by calling
<a class="reference internal" href="../../language/spec/strings.html#String.string.localize" title="String.string.localize"><code class="xref chpl chpl-proc docutils literal notranslate"><span class="pre">localize()</span></code></a> before <a class="reference internal" href="#CTypes.string.c_str" title="CTypes.string.c_str"><code class="xref chpl chpl-proc docutils literal notranslate"><span class="pre">string.c_str()</span></code></a>.
If the string is remote, the program will halt.</p>
</div>
<p>For example:</p>
<div class="highlight-chapel notranslate"><div class="highlight"><pre><span></span><span class="kd">var</span> <span class="nx">myString</span> <span class="o">=</span> <span class="s">&quot;Hello!&quot;</span><span class="p">;</span>
<span class="k">on</span> <span class="nx">differentLocale</span> <span class="p">{</span>
  <span class="nx">writef</span><span class="p">(</span><span class="s">&quot;%s&quot;</span><span class="p">,</span> <span class="nx">myString</span><span class="p">.</span><span class="nx">localize</span><span class="p">().</span><span class="nx">c_str</span><span class="p">());</span>
<span class="p">}</span>
</pre></div>
</div>
<div class="admonition warning">
<p class="admonition-title">Warning</p>
<p>A Chapel <a class="reference internal" href="../../language/spec/strings.html#String.string" title="String.string"><code class="xref chpl chpl-type docutils literal notranslate"><span class="pre">string</span></code></a> is capable of containing NULL characters
and any C routines relying on NULL terminated buffers may incorrectly
process the mid-string NULL as the terminating NULL.</p>
</div>
<dl class="field-list simple">
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p>A <cite>c_ptrConst(c_char)</cite> that points to the underlying buffer used by this
<a class="reference internal" href="../../language/spec/strings.html#String.string" title="String.string"><code class="xref chpl chpl-type docutils literal notranslate"><span class="pre">string</span></code></a>. The returned <cite>c_ptrConst(c_char)</cite> is only valid
when used on the same locale as the string.</p>
</dd>
</dl>
</dd></dl>

<dl class="chpl method">
<dt class="sig sig-object chpl" id="CTypes.bytes.c_str">
<em class="property"><span class="pre">proc</span> </em><span class="sig-prename descclassname"><span class="pre">bytes.</span></span><span class="sig-name descname"><span class="pre">c_str</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><span class="pre">:</span> <span class="pre">c_ptrConst(c_char)</span><a class="headerlink" href="#CTypes.bytes.c_str" title="Permalink to this definition">¶</a></dt>
<dd><div class="admonition warning">
<p class="admonition-title">Warning</p>
<p>‘bytes.c_str()’ is unstable and may change in a future release</p>
</div>
<p>Gets a <cite>c_ptrConst(c_char)</cite> from a <a class="reference internal" href="../../language/spec/bytes.html#Bytes.bytes" title="Bytes.bytes"><code class="xref chpl chpl-type docutils literal notranslate"><span class="pre">bytes</span></code></a>. The returned
<cite>c_ptrConst(c_char)</cite> shares the buffer with the <a class="reference internal" href="../../language/spec/bytes.html#Bytes.bytes" title="Bytes.bytes"><code class="xref chpl chpl-type docutils literal notranslate"><span class="pre">bytes</span></code></a>.</p>
<div class="admonition warning">
<p class="admonition-title">Warning</p>
<p>This can only be called safely on a <a class="reference internal" href="../../language/spec/bytes.html#Bytes.bytes" title="Bytes.bytes"><code class="xref chpl chpl-type docutils literal notranslate"><span class="pre">bytes</span></code></a> whose home is
the current locale.  This property can be enforced by calling
<a class="reference internal" href="../../language/spec/bytes.html#Bytes.bytes.localize" title="Bytes.bytes.localize"><code class="xref chpl chpl-proc docutils literal notranslate"><span class="pre">localize()</span></code></a> before <a class="reference internal" href="#CTypes.bytes.c_str" title="CTypes.bytes.c_str"><code class="xref chpl chpl-proc docutils literal notranslate"><span class="pre">bytes.c_str()</span></code></a>.
If the bytes is remote, the program will halt.</p>
</div>
<p>For example:</p>
<div class="highlight-chapel notranslate"><div class="highlight"><pre><span></span><span class="kd">var</span> <span class="nx">myBytes</span> <span class="o">=</span> <span class="nx">b</span><span class="s">&quot;Hello!&quot;</span><span class="p">;</span>
<span class="k">on</span> <span class="nx">differentLocale</span> <span class="p">{</span>
  <span class="nx">writef</span><span class="p">(</span><span class="s">&quot;%s&quot;</span><span class="p">,</span> <span class="nx">myBytes</span><span class="p">.</span><span class="nx">localize</span><span class="p">().</span><span class="nx">c_str</span><span class="p">());</span>
<span class="p">}</span>
</pre></div>
</div>
<div class="admonition warning">
<p class="admonition-title">Warning</p>
<p>Chapel <a class="reference internal" href="../../language/spec/bytes.html#Bytes.bytes" title="Bytes.bytes"><code class="xref chpl chpl-type docutils literal notranslate"><span class="pre">bytes</span></code></a> are capable of containing NULL bytes and
any C routines relying on NULL terminated buffers may incorrectly
process the mid-buffer NULL as the terminating NULL.</p>
</div>
<dl class="field-list simple">
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p>A <cite>c_ptrConst(c_char)</cite> that points to the underlying buffer used
by this <a class="reference internal" href="../../language/spec/bytes.html#Bytes.bytes" title="Bytes.bytes"><code class="xref chpl chpl-type docutils literal notranslate"><span class="pre">bytes</span></code></a>. The returned <cite>c_ptrConst(c_char)</cite>
is only valid when used on the same locale as the bytes.</p>
</dd>
</dl>
</dd></dl>

</div>


           </div>
          </div>
          <footer><div class="rst-footer-buttons" role="navigation" aria-label="Footer">
        <a href="VectorizingIterator.html" class="btn btn-neutral float-left" title="VectorizingIterator" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left" aria-hidden="true"></span> Previous</a>
        <a href="OS.html" class="btn btn-neutral float-right" title="OS" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right" aria-hidden="true"></span></a>
    </div>

  <hr/>

  <div role="contentinfo">
    <p>&#169; Copyright 2023, Hewlett Packard Enterprise Development LP.</p>
  </div>

   

</footer>
        </div>
      </div>
    </section>
  </div>
  <script>
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script>
 



</body>
</html>