<!DOCTYPE html>
<html class="writer-html5" lang="en" >
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Ranges &mdash; Chapel Documentation 1.33</title>
      <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />
      <link rel="stylesheet" href="../_static/css/theme.css" type="text/css" />
      <link rel="stylesheet" href="../_static/style.css" type="text/css" />
    <link rel="shortcut icon" href="../_static/favicon.ico"/>
  <!--[if lt IE 9]>
    <script src="../_static/js/html5shiv.min.js"></script>
  <![endif]-->
  
        <script data-url_root="../" id="documentation_options" src="../_static/documentation_options.js"></script>
        <script src="../_static/jquery.js"></script>
        <script src="../_static/underscore.js"></script>
        <script src="../_static/doctools.js"></script>
    <script src="../_static/js/theme.js"></script>
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" />
    <link rel="next" title="Domains" href="domains.html" />
    <link rel="prev" title="Locales" href="locales.html" /> 
</head>

<body class="wy-body-for-nav"> 
  <div class="wy-grid-for-nav">
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >

<a href="../index.html" class="icon icon-home"> Chapel Documentation

<!-- display version if button won't be rendered -->
<?php if (false) { ?>
<br>1.33
<?php } ?>

</a>

<?php
// Variables given by sphinx
$chplTitle = "1.33";
$pagename = "primers/ranges";
include "..//versionButton.php";
?>


<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>


        </div><div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="Navigation menu">
  
              <p class="caption" role="heading"><span class="caption-text">Compiling and Running Chapel</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../usingchapel/QUICKSTART.html">Quickstart Instructions</a></li>
<li class="toctree-l1"><a class="reference internal" href="../usingchapel/index.html">Using Chapel</a></li>
<li class="toctree-l1"><a class="reference internal" href="../platforms/index.html">Platform-Specific Notes</a></li>
<li class="toctree-l1"><a class="reference internal" href="../technotes/index.html">Technical Notes</a></li>
<li class="toctree-l1"><a class="reference internal" href="../tools/index.html">Tools</a></li>
<li class="toctree-l1"><a class="reference internal" href="../developer/index.html">Docs for Contributors</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Writing Chapel Programs</span></p>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../language/reference.html">Quick Reference</a></li>
<li class="toctree-l1"><a class="reference internal" href="../examples/index.html">Hello World Variants</a></li>
<li class="toctree-l1 current"><a class="reference internal" href="index.html">Primers</a><ul class="current">
<li class="toctree-l2"><a class="reference internal" href="index.html#language-basics">Language Basics</a></li>
<li class="toctree-l2"><a class="reference internal" href="index.html#iterators">Iterators</a></li>
<li class="toctree-l2"><a class="reference internal" href="index.html#task-parallelism">Task Parallelism</a></li>
<li class="toctree-l2"><a class="reference internal" href="index.html#locality">Locality</a></li>
<li class="toctree-l2 current"><a class="reference internal" href="index.html#data-parallelism">Data Parallelism</a><ul class="current">
<li class="toctree-l3 current"><a class="current reference internal" href="#">Ranges</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#range-basics">Range Basics</a></li>
<li class="toctree-l4"><a class="reference internal" href="#uses-of-ranges">Uses of Ranges</a></li>
<li class="toctree-l4"><a class="reference internal" href="#variations-on-basic-ranges">Variations on Basic Ranges</a></li>
<li class="toctree-l4"><a class="reference internal" href="#range-operators">Range Operators</a></li>
<li class="toctree-l4"><a class="reference internal" href="#range-slicing-intersection">Range Slicing (Intersection)</a></li>
<li class="toctree-l4"><a class="reference internal" href="#range-types">Range Types</a></li>
<li class="toctree-l4"><a class="reference internal" href="#helper-function-for-this-primer-writerange">Helper function for this primer: writeRange()</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="domains.html">Domains</a></li>
<li class="toctree-l3"><a class="reference internal" href="arrays.html">Arrays</a></li>
<li class="toctree-l3"><a class="reference internal" href="slices.html">Slices</a></li>
<li class="toctree-l3"><a class="reference internal" href="distributions.html">Distributions</a></li>
<li class="toctree-l3"><a class="reference internal" href="forallLoops.html">Forall Loops</a></li>
<li class="toctree-l3"><a class="reference internal" href="sparse.html">Sparse Domains and Arrays</a></li>
<li class="toctree-l3"><a class="reference internal" href="associative.html">Associative Domains and Arrays</a></li>
<li class="toctree-l3"><a class="reference internal" href="reductions.html">Reductions</a></li>
<li class="toctree-l3"><a class="reference internal" href="replicated.html">Replicated Distribution</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="index.html#interoperability">Interoperability</a></li>
<li class="toctree-l2"><a class="reference internal" href="index.html#library-utilities">Library Utilities</a></li>
<li class="toctree-l2"><a class="reference internal" href="index.html#numerical-libraries">Numerical Libraries</a></li>
<li class="toctree-l2"><a class="reference internal" href="index.html#tools">Tools</a></li>
<li class="toctree-l2"><a class="reference internal" href="index.html#language-overview">Language Overview</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../language/spec/index.html">Language Specification</a></li>
<li class="toctree-l1"><a class="reference internal" href="../modules/standard.html">Standard Modules</a></li>
<li class="toctree-l1"><a class="reference internal" href="../modules/packages.html">Package Modules</a></li>
<li class="toctree-l1"><a class="reference internal" href="../modules/layoutdist.html">Standard Layouts and Distributions</a></li>
<li class="toctree-l1"><a class="reference internal" href="../mason-packages/index.html">Mason Packages</a></li>
<li class="toctree-l1"><a class="reference internal" href="../users-guide/index.html">Chapel Users Guide (WIP)</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Language History</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../language/evolution.html">Chapel Evolution</a></li>
<li class="toctree-l1"><a class="reference internal" href="../language/archivedSpecs.html">Documentation Archives</a></li>
</ul>

  <p class="caption" role="heading"><span class="caption-text">Indexes</span></p>
  <ul>
    <li class="toctree-11"><a class="reference internal" href="../chpl-modindex.html">Chapel Module Index</a></li>
    <li class="toctree-11"><a class="reference internal" href="../genindex.html">Complete Docs Index</a></li>
  </ul>

        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap"><nav class="wy-nav-top" aria-label="Mobile navigation menu" >
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../index.html">Chapel Documentation</a>
      </nav>

      <div class="wy-nav-content">
        <div class="rst-content">
          <div role="navigation" aria-label="Page navigation">
  <ul class="wy-breadcrumbs">
      <li><a href="../index.html" class="icon icon-home"></a> &raquo;</li>
          <li><a href="index.html">Primers</a> &raquo;</li>
      <li>Ranges</li>
      <li class="wy-breadcrumbs-aside">
            <a href="../_sources/primers/ranges.rst.txt" rel="nofollow"> View page source</a>
      </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
             
  <div class="section" id="ranges">
<span id="primers-ranges"></span><h1>Ranges<a class="headerlink" href="#ranges" title="Permalink to this headline">¶</a></h1>
<p><a class="reference external" href="https://github.com/chapel-lang/chapel/blob/main/test/release/examples/primers/ranges.chpl">View ranges.chpl on GitHub</a></p>
<p>This primer illustrates Chapel ranges and range operations.</p>
<div class="section" id="range-basics">
<span id="primers-ranges-general"></span><h2>Range Basics<a class="headerlink" href="#range-basics" title="Permalink to this headline">¶</a></h2>
<p>Ranges represent regular sequences of values, such as integers, and
are typically defined in terms of a low and high bound.  Range
values can be specified using the <code class="docutils literal notranslate"><span class="pre">..</span></code> operator, where the low
bound is specified on the left side of the <code class="docutils literal notranslate"><span class="pre">..</span></code> and the high
bound is on the right.  These bounds are inclusive for ranges
created with <code class="docutils literal notranslate"><span class="pre">..</span></code>.</p>
<div class="highlight-chapel notranslate"><div class="highlight"><pre><span></span><span class="kd">const</span> <span class="nx">n</span> <span class="o">=</span> <span class="mi">5</span><span class="p">,</span>
      <span class="nx">lo</span> <span class="o">=</span> <span class="o">-</span><span class="mi">3</span><span class="p">,</span>
      <span class="nx">hi</span> <span class="o">=</span> <span class="mi">3</span><span class="p">;</span>
<span class="nx">writeln</span><span class="p">(</span><span class="s">&quot;Basic ranges&quot;</span><span class="p">);</span>
<span class="kd">const</span> <span class="nx">r</span> <span class="o">=</span> <span class="mi">1</span><span class="o">..</span><span class="mi">10</span><span class="p">,</span>    <span class="c1">// 1, 2, 3, ..., 10</span>
      <span class="nx">r2</span> <span class="o">=</span> <span class="mi">0</span><span class="o">..</span><span class="nx">n</span><span class="p">,</span>    <span class="c1">// 0, 1, 2, ..., n</span>
      <span class="nx">r3</span> <span class="o">=</span> <span class="nx">lo</span><span class="o">..</span><span class="nx">hi</span><span class="p">;</span>  <span class="c1">// -3, -2, -1, ..., 3</span>
<span class="nx">writeRange</span><span class="p">(</span><span class="nx">r</span><span class="p">);</span>
<span class="nx">writeRange</span><span class="p">(</span><span class="nx">r2</span><span class="p">);</span>
<span class="nx">writeRange</span><span class="p">(</span><span class="nx">r3</span><span class="p">);</span>
<span class="nx">writeln</span><span class="p">();</span>
</pre></div>
</div>
<p>Ranges can also be defined using an <cite>open-interval</cite> form using the
<code class="docutils literal notranslate"><span class="pre">..&lt;</span></code> operator, causing the upper bound to be excluded from the
values represented by this range.  For example, the range
<code class="docutils literal notranslate"><span class="pre">3..&lt;10</span></code> is equivalent to <code class="docutils literal notranslate"><span class="pre">3..9</span></code>.  This form is particularly
useful for 0-based indexing, to avoid bounds like <code class="docutils literal notranslate"><span class="pre">n-1</span></code>.</p>
<div class="highlight-chapel notranslate"><div class="highlight"><pre><span></span><span class="nx">writeln</span><span class="p">(</span><span class="s">&quot;Open interval ranges&quot;</span><span class="p">);</span>
<span class="kd">const</span> <span class="nx">rOpen</span> <span class="o">=</span> <span class="mi">1</span><span class="o">..&lt;</span><span class="mi">10</span><span class="p">,</span>  <span class="c1">// 1, 2, 3, ..., 9</span>
      <span class="nx">rOpen2</span> <span class="o">=</span> <span class="mi">0</span><span class="o">..&lt;</span><span class="nx">n</span><span class="p">;</span>  <span class="c1">// 0, 1, 2, ..., n-1</span>
<span class="nx">writeRange</span><span class="p">(</span><span class="nx">rOpen</span><span class="p">);</span>
<span class="nx">writeRange</span><span class="p">(</span><span class="nx">rOpen2</span><span class="p">);</span>
<span class="nx">writeln</span><span class="p">();</span>
</pre></div>
</div>
<p>Note that whenever a range’s low bound exceeds its high bound, the
range is considered to be empty.</p>
<div class="highlight-chapel notranslate"><div class="highlight"><pre><span></span><span class="nx">writeln</span><span class="p">(</span><span class="s">&quot;Empty ranges&quot;</span><span class="p">);</span>
<span class="kd">const</span> <span class="nx">empty1</span> <span class="o">=</span> <span class="mi">1</span><span class="o">..</span><span class="mi">0</span><span class="p">,</span>
      <span class="nx">empty2</span> <span class="o">=</span> <span class="mi">0</span><span class="o">..-</span><span class="mi">1</span><span class="p">,</span>
      <span class="nx">empty3</span> <span class="o">=</span> <span class="mi">10</span><span class="o">..</span><span class="mi">1</span><span class="p">;</span>
<span class="nx">writeRange</span><span class="p">(</span><span class="nx">empty1</span><span class="p">);</span>
<span class="nx">writeRange</span><span class="p">(</span><span class="nx">empty2</span><span class="p">);</span>
<span class="nx">writeRange</span><span class="p">(</span><span class="nx">empty3</span><span class="p">);</span>
<span class="nx">writeln</span><span class="p">();</span>
</pre></div>
</div>
<p>To create a range representing a decreasing series of values, the
<code class="docutils literal notranslate"><span class="pre">by</span></code> operator can be used with a negative stride.  As a simple
example, the following range represents the integers counting from
10 down to 1.</p>
<div class="highlight-chapel notranslate"><div class="highlight"><pre><span></span><span class="nx">writeln</span><span class="p">(</span><span class="s">&quot;Decreasing range&quot;</span><span class="p">);</span>
<span class="kd">const</span> <span class="nx">countDown</span> <span class="o">=</span> <span class="mi">1</span><span class="o">..</span><span class="mi">10</span> <span class="k">by</span> <span class="o">-</span><span class="mi">1</span><span class="p">;</span>  <span class="c1">// 10, 9, 8, ..., 1</span>
<span class="nx">writeRange</span><span class="p">(</span><span class="nx">countDown</span><span class="p">);</span>
<span class="nx">writeln</span><span class="p">();</span>
</pre></div>
</div>
<p>See the <cite>Range Operators</cite> section below for more information about
strided ranges and the <code class="docutils literal notranslate"><span class="pre">by</span></code> operator.</p>
</div>
<div class="section" id="uses-of-ranges">
<h2>Uses of Ranges<a class="headerlink" href="#uses-of-ranges" title="Permalink to this headline">¶</a></h2>
<p>Ranges are a basic building block for iteration.  The following
for-loop iterates over the sequence represented by <code class="docutils literal notranslate"><span class="pre">r</span></code>, computing
the sum of the values in the sequence.</p>
<div class="highlight-chapel notranslate"><div class="highlight"><pre><span></span><span class="kd">var</span> <span class="nx">sum</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span>
<span class="k">for</span> <span class="nx">i</span> <span class="kd">in</span> <span class="mi">1</span><span class="o">..</span><span class="mi">10</span> <span class="k">do</span>       <span class="c1">// compute 1 + 2 + 3 + ... + 10</span>
  <span class="nx">sum</span> <span class="o">+=</span> <span class="nx">i</span><span class="p">;</span>
<span class="nx">writeln</span><span class="p">(</span><span class="s">&quot;The sum of the values in &#39;1..10&#39; is &quot;</span><span class="p">,</span> <span class="nx">sum</span><span class="p">);</span>
<span class="nx">writeln</span><span class="p">();</span>
</pre></div>
</div>
<p>Ranges can also drive parallel loop forms such as
<a class="reference internal" href="forallLoops.html#primers-forallloops"><span class="std std-ref">forall</span></a> and
<a class="reference internal" href="taskParallel.html#primers-taskparallel-coforall"><span class="std std-ref">coforall</span></a> loops.</p>
<p>Ranges also serve as the building block for rectangular
<a class="reference internal" href="domains.html#primers-domains"><span class="std std-ref">domains</span></a> and <a class="reference internal" href="arrays.html#primers-arrays"><span class="std std-ref">arrays</span></a>.  Here we use ranges to declare a 2D
10x10 domain and an array over it.</p>
<div class="highlight-chapel notranslate"><div class="highlight"><pre><span></span><span class="nx">writeln</span><span class="p">(</span><span class="s">&quot;Domains and arrays&quot;</span><span class="p">);</span>
<span class="kd">const</span> <span class="nx">D</span> <span class="o">=</span> <span class="p">{</span><span class="mi">1</span><span class="o">..</span><span class="mi">10</span><span class="p">,</span> <span class="mi">1</span><span class="o">..</span><span class="mi">10</span><span class="p">};</span>  <span class="c1">// could also use &#39;= {r, r};&#39;</span>
<span class="kd">var</span> <span class="nx">A</span><span class="p">:</span> <span class="p">[</span><span class="nx">D</span><span class="p">]</span> <span class="kt">real</span><span class="p">;</span>           <span class="c1">// a 10x10 array of real floating point values</span>
<span class="nx">writeln</span><span class="p">(</span><span class="s">&quot;D = &quot;</span><span class="p">,</span> <span class="nx">D</span><span class="p">);</span>
<span class="nx">writeln</span><span class="p">(</span><span class="s">&quot;Array A&quot;</span><span class="p">);</span>
<span class="nx">writeln</span><span class="p">(</span><span class="nx">A</span><span class="p">);</span>
<span class="nx">writeln</span><span class="p">();</span>
</pre></div>
</div>
<p>Arrays can also be declared using ranges directly, which
effectively creates an anonymous domain for the array:</p>
<div class="highlight-chapel notranslate"><div class="highlight"><pre><span></span><span class="kd">var</span> <span class="nx">A1</span><span class="p">:</span> <span class="p">[</span><span class="mi">1</span><span class="o">..</span><span class="nx">n</span><span class="p">]</span> <span class="kt">int</span><span class="p">,</span>
    <span class="nx">A2</span><span class="p">:</span> <span class="p">[</span><span class="mi">1</span><span class="o">..</span><span class="nx">n</span><span class="p">,</span> <span class="mi">1</span><span class="o">..</span><span class="nx">n</span><span class="p">]</span> <span class="kt">string</span><span class="p">;</span>
</pre></div>
</div>
<p>Ranges can be used in general contexts that expect an iterable
collection of values, such as reductions:</p>
<div class="highlight-chapel notranslate"><div class="highlight"><pre><span></span><span class="nx">sum</span> <span class="o">=</span> <span class="o">+</span> <span class="k">reduce</span> <span class="nx">r</span><span class="p">;</span>  <span class="c1">// compute 1 + 2 + 3 + ... + 10</span>
<span class="nx">writeln</span><span class="p">(</span><span class="s">&quot;The sum of the values in &quot;</span><span class="p">,</span> <span class="nx">r</span><span class="p">,</span> <span class="s">&quot;, computed by reduce, is also &quot;</span><span class="p">,</span> <span class="nx">sum</span><span class="p">);</span>
</pre></div>
</div>
<p>Or whole-array operations:</p>
<div class="highlight-chapel notranslate"><div class="highlight"><pre><span></span><span class="nx">A1</span> <span class="o">=</span> <span class="nx">r</span><span class="p">;</span>      <span class="c1">// assign the elements of A1 their corresponding values of r</span>
<span class="nx">writeln</span><span class="p">(</span><span class="nx">A1</span><span class="p">);</span>
<span class="nx">writeln</span><span class="p">();</span>
</pre></div>
</div>
</div>
<div class="section" id="variations-on-basic-ranges">
<h2>Variations on Basic Ranges<a class="headerlink" href="#variations-on-basic-ranges" title="Permalink to this headline">¶</a></h2>
<p>Ranges can be <cite>unbounded</cite> on one or both sides, when the
respective bound is omitted.  For example, a range without a high
bound represents values greater than or equal to the low bound.</p>
<div class="highlight-chapel notranslate"><div class="highlight"><pre><span></span><span class="nx">writeln</span><span class="p">(</span><span class="s">&quot;Unbounded ranges&quot;</span><span class="p">);</span>
<span class="nx">writeRange</span><span class="p">(</span><span class="mi">1</span><span class="o">..</span><span class="p">);</span>   <span class="c1">// 1, 2, 3, ...</span>
<span class="nx">writeRange</span><span class="p">(</span><span class="o">..</span><span class="mi">5</span><span class="p">);</span>   <span class="c1">// ..., 3, 4, 5</span>
<span class="nx">writeRange</span><span class="p">(</span><span class="o">..</span><span class="p">);</span>    <span class="c1">// ...</span>
<span class="nx">writeln</span><span class="p">();</span>
</pre></div>
</div>
<p>Loops may iterate over an unbounded range as long as it has a
well-defined first value to start from.  When an unbounded range of
integers is zipped with another iterator expression, its size
automatically conforms to the required size.</p>
<div class="highlight-chapel notranslate"><div class="highlight"><pre><span></span><span class="nx">writeln</span><span class="p">(</span><span class="s">&quot;Iterating over zip(312..315, 1..) generates&quot;</span><span class="p">);</span>
<span class="k">for</span> <span class="p">(</span><span class="nx">i</span><span class="p">,</span> <span class="nx">j</span><span class="p">)</span> <span class="kd">in</span> <span class="k">zip</span><span class="p">(</span><span class="mi">312</span><span class="o">..</span><span class="mi">315</span><span class="p">,</span> <span class="mi">1</span><span class="o">..</span><span class="p">)</span> <span class="p">{</span>
  <span class="nx">write</span><span class="p">(</span><span class="s">&quot; &quot;</span><span class="p">,</span> <span class="p">(</span><span class="nx">i</span><span class="p">,</span> <span class="nx">j</span><span class="p">));</span>
<span class="p">}</span>
<span class="nx">writeln</span><span class="p">();</span>
<span class="nx">writeln</span><span class="p">();</span>
</pre></div>
</div>
<p>Ranges can also be defined over boolean values and enumerated
types.  In the case of enumerations, the range’s sequence of values
is based on the declaration order of the enum’s constants rather
than their (optional) numerical values.</p>
<div class="highlight-chapel notranslate"><div class="highlight"><pre><span></span><span class="nx">writeln</span><span class="p">(</span><span class="s">&quot;Ranges over bools and enums:&quot;</span><span class="p">);</span>
<span class="k">enum</span> <span class="nx">dir</span> <span class="p">{</span><span class="nx">north</span><span class="p">,</span> <span class="nx">south</span><span class="p">,</span> <span class="nx">east</span><span class="p">,</span> <span class="nx">west</span><span class="p">};</span>
<span class="k">enum</span> <span class="nx">color</span> <span class="p">{</span><span class="nx">red</span><span class="o">=</span><span class="mi">4</span><span class="p">,</span> <span class="nx">orange</span><span class="o">=</span><span class="mi">2</span><span class="p">,</span> <span class="nx">yellow</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span> <span class="nx">green</span><span class="o">=</span><span class="mi">3</span><span class="p">,</span> <span class="nx">blue</span><span class="o">=</span><span class="mi">6</span><span class="p">,</span> <span class="nx">indigo</span><span class="o">=</span><span class="mi">7</span><span class="p">,</span> <span class="nx">violet</span><span class="o">=</span><span class="mi">5</span><span class="p">};</span>
<span class="kd">const</span> <span class="nx">boolRange</span> <span class="o">=</span> <span class="kc">false</span><span class="o">..</span><span class="kc">true</span><span class="p">,</span>                 <span class="c1">// false, true</span>
      <span class="nx">enumRange</span> <span class="o">=</span> <span class="nx">dir</span><span class="p">.</span><span class="nx">north</span><span class="o">..</span><span class="nx">dir</span><span class="p">.</span><span class="nx">west</span><span class="p">,</span>         <span class="c1">// north, south, east, west</span>
      <span class="nx">colorRange</span> <span class="o">=</span> <span class="nx">color</span><span class="p">.</span><span class="nx">orange</span><span class="o">..</span><span class="nx">color</span><span class="p">.</span><span class="nx">green</span><span class="p">;</span>  <span class="c1">// orange, yellow, green</span>
<span class="nx">writeRange</span><span class="p">(</span><span class="nx">boolRange</span><span class="p">);</span>
<span class="nx">writeRange</span><span class="p">(</span><span class="nx">enumRange</span><span class="p">);</span>
<span class="nx">writeRange</span><span class="p">(</span><span class="nx">colorRange</span><span class="p">);</span>
<span class="nx">writeln</span><span class="p">();</span>
</pre></div>
</div>
<p>For boolean and enum ranges, the lack of a bound implies that the
type’s low/high value should be used in place of the missing bound.</p>
<div class="highlight-chapel notranslate"><div class="highlight"><pre><span></span><span class="nx">writeRange</span><span class="p">(</span><span class="kc">false</span><span class="o">..</span><span class="p">);</span>         <span class="c1">// like &#39;false..true&#39;</span>
<span class="nx">writeRange</span><span class="p">(</span><span class="nx">dir</span><span class="p">.</span><span class="nx">south</span><span class="o">..</span><span class="p">);</span>     <span class="c1">// like &#39;dir.south..dir.west&#39;</span>
<span class="nx">writeRange</span><span class="p">(</span><span class="o">..</span><span class="nx">color</span><span class="p">.</span><span class="nx">indigo</span> <span class="k">by</span> <span class="o">-</span><span class="mi">1</span><span class="p">);</span>  <span class="c1">// like &#39;color.red..color.indigo by -1&#39;</span>
<span class="nx">writeln</span><span class="p">();</span>
</pre></div>
</div>
</div>
<div class="section" id="range-operators">
<span id="primers-ranges-operators"></span><h2>Range Operators<a class="headerlink" href="#range-operators" title="Permalink to this headline">¶</a></h2>
<p>New ranges can be constructed from existing ones using the count,
stride, and/or alignment operators: <code class="docutils literal notranslate"><span class="pre">#</span></code>, <code class="docutils literal notranslate"><span class="pre">by</span></code>, and <code class="docutils literal notranslate"><span class="pre">align</span></code>.</p>
<p>The count operator <code class="docutils literal notranslate"><span class="pre">#</span></code> applies an integer count, <cite>c</cite>, to a range
and generates a new range representing <cite>c</cite> of the range’s values.
If the count is positive, the new range will represent the first
<cite>c</cite> values; if it is negative, it represents the last <cite>c</cite> values in
the range.  It is an error to apply a positive count of to a range
with no first value (e.g., <code class="docutils literal notranslate"><span class="pre">..10</span></code>), or a negative count to a
range with no last value (e.g., <code class="docutils literal notranslate"><span class="pre">1..</span></code>).</p>
<div class="highlight-chapel notranslate"><div class="highlight"><pre><span></span><span class="nx">writeln</span><span class="p">(</span><span class="s">&quot;The count operator&quot;</span><span class="p">);</span>
<span class="kd">const</span> <span class="nx">numElements</span> <span class="o">=</span> <span class="mi">5</span><span class="p">;</span>
<span class="nx">writeRange</span><span class="p">(</span><span class="mi">0</span><span class="o">..#</span><span class="nx">numElements</span><span class="p">);</span>  <span class="c1">// 0, 1, 2, 3, 4</span>
<span class="nx">writeRange</span><span class="p">(</span><span class="nx">r</span> <span class="o">#</span> <span class="mi">4</span><span class="p">);</span>            <span class="c1">// 1, 2, 3, 4</span>
<span class="nx">writeRange</span><span class="p">(</span><span class="o">..</span><span class="mi">5</span> <span class="o">#</span> <span class="o">-</span><span class="mi">3</span><span class="p">);</span>         <span class="c1">// 3, 4, 5</span>
<span class="nx">writeln</span><span class="p">();</span>
</pre></div>
</div>
<p>The <code class="docutils literal notranslate"><span class="pre">by</span></code> operator applies a stride to a range, selecting a
subsequence of its original values.  If the range was already
strided, the effect is multiplicative.  If the stride is negative,
the direction of the sequence is reversed.</p>
<div class="highlight-chapel notranslate"><div class="highlight"><pre><span></span><span class="nx">writeln</span><span class="p">(</span><span class="s">&quot;Strided ranges using the by operator&quot;</span><span class="p">);</span>
<span class="nx">writeRange</span><span class="p">(</span><span class="nx">r</span> <span class="k">by</span> <span class="mi">2</span><span class="p">);</span>       <span class="c1">// 1, 3, 5, 7, 9</span>
<span class="nx">writeRange</span><span class="p">(</span><span class="nx">r</span> <span class="k">by</span> <span class="mi">2</span> <span class="k">by</span> <span class="mi">2</span><span class="p">);</span>  <span class="c1">// 1, 5, 9</span>
<span class="nx">writeRange</span><span class="p">(</span><span class="nx">r</span> <span class="k">by</span> <span class="o">-</span><span class="mi">1</span><span class="p">);</span>      <span class="c1">// 10, 9, 8, ..., 1</span>
<span class="nx">writeRange</span><span class="p">(</span><span class="mi">5</span><span class="o">..</span> <span class="k">by</span> <span class="mi">2</span><span class="p">);</span>     <span class="c1">// 5, 7, 9, 11, ...</span>
<span class="nx">writeln</span><span class="p">();</span>

<span class="nx">writeln</span><span class="p">(</span><span class="s">&quot;Examples mixing # and by&quot;</span><span class="p">);</span>
<span class="nx">writeRange</span><span class="p">(</span><span class="nx">r</span> <span class="k">by</span> <span class="mi">2</span> <span class="o">#</span> <span class="mi">4</span><span class="p">);</span>    <span class="c1">// 1, 3, 5, 7</span>
<span class="nx">writeRange</span><span class="p">(</span><span class="nx">r</span> <span class="o">#</span> <span class="mi">4</span> <span class="k">by</span> <span class="mi">2</span><span class="p">);</span>    <span class="c1">// 1, 3</span>
<span class="nx">writeRange</span><span class="p">(</span><span class="nx">r</span> <span class="k">by</span> <span class="o">-</span><span class="mi">2</span> <span class="o">#</span> <span class="mi">4</span><span class="p">);</span>   <span class="c1">// 10, 8, 6, 4</span>
<span class="nx">writeRange</span><span class="p">(</span><span class="nx">r</span> <span class="o">#</span> <span class="mi">4</span> <span class="k">by</span> <span class="o">-</span><span class="mi">2</span><span class="p">);</span>   <span class="c1">// 4, 2</span>
<span class="nx">writeRange</span><span class="p">(</span><span class="nx">r</span> <span class="k">by</span> <span class="mi">2</span> <span class="o">#</span> <span class="o">-</span><span class="mi">4</span><span class="p">);</span>   <span class="c1">// 3, 5, 7, 9</span>
<span class="nx">writeRange</span><span class="p">(</span><span class="nx">r</span> <span class="o">#</span> <span class="o">-</span><span class="mi">4</span> <span class="k">by</span> <span class="mi">2</span><span class="p">);</span>   <span class="c1">// 7, 9</span>
<span class="nx">writeRange</span><span class="p">(</span><span class="nx">r</span> <span class="k">by</span> <span class="o">-</span><span class="mi">2</span> <span class="o">#</span> <span class="o">-</span><span class="mi">4</span><span class="p">);</span>  <span class="c1">// 8, 6, 4, 2</span>
<span class="nx">writeRange</span><span class="p">(</span><span class="nx">r</span> <span class="o">#</span> <span class="o">-</span><span class="mi">4</span> <span class="k">by</span> <span class="o">-</span><span class="mi">2</span><span class="p">);</span>  <span class="c1">// 10, 8</span>
<span class="nx">writeln</span><span class="p">();</span>
</pre></div>
</div>
<p>By default, a strided range’s values are aligned with
its first value.  Thus, for a positive stride, the values are
aligned with its low bound; while for a negative stride, the
values are aligned to its high bound.</p>
<div class="highlight-chapel notranslate"><div class="highlight"><pre><span></span><span class="nx">writeln</span><span class="p">(</span><span class="s">&quot;Implicit alignment set using &#39;by&#39;&quot;</span><span class="p">);</span>
<span class="nx">writeRange</span><span class="p">(</span><span class="mi">1</span><span class="o">..</span><span class="mi">10</span> <span class="k">by</span> <span class="mi">2</span><span class="p">);</span>  <span class="c1">// values are aligned with 1: 1, 3, 5, 7, 9</span>
<span class="nx">writeRange</span><span class="p">(</span><span class="mi">1</span><span class="o">..</span><span class="mi">10</span> <span class="k">by</span> <span class="o">-</span><span class="mi">2</span><span class="p">);</span> <span class="c1">// values are aligned with 10: 10, 8, 6, 4, 2</span>
<span class="nx">writeRange</span><span class="p">(</span><span class="o">..</span><span class="mi">5</span> <span class="k">by</span> <span class="o">-</span><span class="mi">3</span><span class="p">);</span>   <span class="c1">// values are aligned with 5: 5, 2, -1, -4, ...</span>
<span class="kd">const</span> <span class="nx">rangeWithAmbiguousAlignment</span> <span class="o">=</span> <span class="mi">1</span><span class="o">..</span> <span class="k">by</span> <span class="o">-</span><span class="mi">3</span><span class="p">;</span>  <span class="c1">// alignment undefined</span>
<span class="nx">writeln</span><span class="p">();</span>
</pre></div>
</div>
<p>The <code class="docutils literal notranslate"><span class="pre">align</span></code> operator can be used to explicitly specify the
alignment of a strided range.  The indices in the aligned range are
all equivalent to the specified alignment modulo the stride’s
absolute value.  For example, alignment can be used to define
sequences representing odd numbers versus even numbers.</p>
<div class="highlight-chapel notranslate"><div class="highlight"><pre><span></span><span class="nx">writeln</span><span class="p">(</span><span class="s">&quot;Range alignment and the align operator&quot;</span><span class="p">);</span>
<span class="kd">const</span> <span class="nx">oddsBetween1and10</span>  <span class="o">=</span> <span class="nx">r</span> <span class="k">by</span> <span class="mi">2</span> <span class="k">align</span> <span class="mi">1</span><span class="p">,</span>  <span class="c1">// 1, 3, 5, 7, 9</span>
      <span class="nx">evensBetween1and10</span> <span class="o">=</span> <span class="nx">r</span> <span class="k">by</span> <span class="mi">2</span> <span class="k">align</span> <span class="mi">2</span><span class="p">;</span>  <span class="c1">// 2, 4, 6, 8, 10</span>
<span class="nx">writeRange</span><span class="p">(</span><span class="nx">oddsBetween1and10</span><span class="p">);</span>
<span class="nx">writeRange</span><span class="p">(</span><span class="nx">evensBetween1and10</span><span class="p">);</span>

<span class="kd">const</span> <span class="nx">allOdds</span> <span class="o">=</span> <span class="o">..</span> <span class="k">by</span> <span class="mi">2</span> <span class="k">align</span> <span class="mi">1</span><span class="p">,</span>
      <span class="nx">allEvens</span> <span class="o">=</span> <span class="o">..</span> <span class="k">by</span> <span class="mi">2</span> <span class="k">align</span> <span class="mi">2</span><span class="p">;</span>
<span class="nx">writeRange</span><span class="p">(</span><span class="nx">allOdds</span><span class="p">);</span>
<span class="nx">writeRange</span><span class="p">(</span><span class="nx">allEvens</span><span class="p">);</span>
<span class="nx">writeln</span><span class="p">();</span>
</pre></div>
</div>
<p>The alignment is always taken modulo the stride, so one could also
declare ‘allEvens’ using <cite>.. by 2 align 0</cite>, <cite>.. by 2 align 12</cite>, or
any other even number as the alignment.</p>
<p>The <code class="docutils literal notranslate"><span class="pre">+</span></code> and <code class="docutils literal notranslate"><span class="pre">-</span></code> operators can be used to create a new range
from an existing one, representing a shift in the range’s sequence
of values.</p>
<div class="highlight-chapel notranslate"><div class="highlight"><pre><span></span><span class="nx">writeln</span><span class="p">(</span><span class="s">&quot;Operators + and -&quot;</span><span class="p">);</span>
<span class="nx">writeRange</span><span class="p">(</span><span class="nx">r</span> <span class="o">+</span> <span class="mi">5</span><span class="p">);</span>          <span class="c1">// 6..15</span>
<span class="nx">writeRange</span><span class="p">(</span><span class="nx">r</span> <span class="o">-</span> <span class="mi">3</span><span class="p">);</span>          <span class="c1">// -2..7</span>
<span class="nx">writeRange</span><span class="p">((</span><span class="nx">r</span> <span class="k">by</span> <span class="mi">2</span><span class="p">)</span> <span class="o">-</span> <span class="mi">1</span><span class="p">);</span>   <span class="c1">// 0..9  by 2</span>
<span class="nx">writeRange</span><span class="p">(</span><span class="mi">1</span> <span class="o">+</span> <span class="o">..</span><span class="mi">5</span><span class="p">);</span>        <span class="c1">// ..6</span>
<span class="nx">writeln</span><span class="p">();</span>
</pre></div>
</div>
<p>The <code class="docutils literal notranslate"><span class="pre">==</span></code> operator can be used to test whether two ranges are
equal.  Equality means they represent the same sequence of indices.</p>
<div class="highlight-chapel notranslate"><div class="highlight"><pre><span></span><span class="nx">writeln</span><span class="p">(</span><span class="s">&quot;Range equality&quot;</span><span class="p">);</span>
<span class="nx">writeln</span><span class="p">(</span><span class="nx">r</span> <span class="o">==</span> <span class="mi">1</span><span class="o">..</span><span class="mi">10</span><span class="p">);</span>                               <span class="c1">// true</span>
<span class="nx">writeln</span><span class="p">((</span><span class="mi">1</span><span class="o">..</span><span class="mi">10</span> <span class="k">by</span> <span class="mi">2</span><span class="p">)</span> <span class="o">==</span> <span class="p">(</span><span class="mi">1</span><span class="o">..</span><span class="mi">9</span> <span class="k">by</span> <span class="mi">2</span><span class="p">));</span>              <span class="c1">// true</span>
<span class="nx">writeln</span><span class="p">(</span><span class="nx">r</span> <span class="o">==</span> <span class="p">(</span><span class="nx">r</span> <span class="k">by</span> <span class="mi">2</span><span class="p">));</span>                            <span class="c1">// false</span>
<span class="nx">writeln</span><span class="p">(</span><span class="nx">oddsBetween1and10</span> <span class="o">!=</span> <span class="nx">evensBetween1and10</span><span class="p">);</span>  <span class="c1">// true</span>
<span class="nx">writeln</span><span class="p">();</span>
</pre></div>
</div>
</div>
<div class="section" id="range-slicing-intersection">
<span id="primers-ranges-slicing"></span><h2>Range Slicing (Intersection)<a class="headerlink" href="#range-slicing-intersection" title="Permalink to this headline">¶</a></h2>
<p><cite>Range slicing</cite> is when one range is indexed using another range.
This computes the intersection of the two ranges values.  Slicing
is commutative in most respects.</p>
<div class="highlight-chapel notranslate"><div class="highlight"><pre><span></span><span class="nx">writeln</span><span class="p">(</span><span class="s">&quot;Range slicing&quot;</span><span class="p">);</span>
<span class="nx">writeln</span><span class="p">(</span><span class="s">&quot;A slice of &quot;</span><span class="p">,</span> <span class="nx">r</span><span class="p">,</span> <span class="s">&quot; with &quot;</span><span class="p">,</span> <span class="mi">2</span><span class="o">..</span><span class="mi">7</span><span class="p">);</span>
<span class="nx">writeRange</span><span class="p">(</span><span class="nx">r</span><span class="p">[</span><span class="mi">2</span><span class="o">..</span><span class="mi">7</span><span class="p">]);</span>  <span class="c1">// 2..7</span>
<span class="kd">const</span> <span class="nx">r1</span> <span class="o">=</span> <span class="mi">5</span><span class="o">..</span><span class="mi">15</span><span class="p">;</span>
<span class="nx">writeln</span><span class="p">(</span><span class="s">&quot;A slice of &quot;</span><span class="p">,</span> <span class="nx">r</span><span class="p">,</span> <span class="s">&quot; with &quot;</span><span class="p">,</span> <span class="nx">r1</span><span class="p">);</span>
<span class="nx">writeRange</span><span class="p">(</span><span class="nx">r</span><span class="p">[</span><span class="nx">r1</span><span class="p">]);</span>    <span class="c1">// 5..10</span>
<span class="nx">writeln</span><span class="p">(</span><span class="s">&quot;A slice of &quot;</span><span class="p">,</span> <span class="nx">r1</span><span class="p">,</span> <span class="s">&quot; with &quot;</span><span class="p">,</span> <span class="nx">r</span><span class="p">,</span> <span class="s">&quot; is the same&quot;</span><span class="p">);</span>
<span class="nx">writeRange</span><span class="p">(</span><span class="nx">r1</span><span class="p">[</span><span class="nx">r</span><span class="p">]);</span>    <span class="c1">// 5..10</span>
</pre></div>
</div>
<p>Computing with the odds and evens between 1 and 10 (using range
slicing):</p>
<div class="highlight-chapel notranslate"><div class="highlight"><pre><span></span><span class="nx">writeRange</span><span class="p">(</span><span class="nx">r</span><span class="p">[</span><span class="nx">allOdds</span><span class="p">]);</span>   <span class="c1">// 1, 3, 5, 7, 9</span>
<span class="nx">writeRange</span><span class="p">(</span><span class="nx">r</span><span class="p">[</span><span class="nx">allEvens</span><span class="p">]);</span>  <span class="c1">// 2, 4, 6, 8, 10</span>

<span class="nx">writeln</span><span class="p">(</span><span class="nx">r</span><span class="p">[</span><span class="nx">allOdds</span><span class="p">]</span> <span class="o">==</span> <span class="nx">oddsBetween1and10</span><span class="p">);</span>    <span class="c1">// true</span>
<span class="nx">writeln</span><span class="p">(</span><span class="nx">r</span><span class="p">[</span><span class="nx">allEvens</span><span class="p">]</span> <span class="o">==</span> <span class="nx">evensBetween1and10</span><span class="p">);</span>  <span class="c1">// true</span>
</pre></div>
</div>
<p>Either or both of the ranges in a range slicing operation can be
strided and/or unbounded
When the slicing range has a negative stride, the direction of
the original range is reversed.
As of Chapel Release 1.30, this feature requires compiling
with <code class="docutils literal notranslate"><span class="pre">-snewSliceRule</span></code>. In a subsequent release this behavior
will be standard and the option <code class="docutils literal notranslate"><span class="pre">-snewSliceRule</span></code> will be removed.</p>
<div class="highlight-chapel notranslate"><div class="highlight"><pre><span></span><span class="kd">const</span> <span class="nx">rs</span> <span class="o">=</span> <span class="mi">1</span><span class="o">..</span><span class="mi">20</span> <span class="k">by</span> <span class="mi">3</span><span class="p">;</span>
<span class="nx">writeln</span><span class="p">(</span><span class="s">&quot;A slice of &quot;</span><span class="p">,</span> <span class="nx">rs</span><span class="p">,</span> <span class="s">&quot; with &quot;</span><span class="p">,</span> <span class="mi">1</span><span class="o">..</span><span class="mi">20</span> <span class="k">by</span> <span class="mi">2</span><span class="p">);</span>
<span class="nx">writeRange</span><span class="p">(</span><span class="nx">rs</span><span class="p">[</span><span class="mi">1</span><span class="o">..</span><span class="mi">20</span> <span class="k">by</span> <span class="mi">2</span><span class="p">]);</span>  <span class="c1">// 1, 7, 13, 19</span>
<span class="nx">writeln</span><span class="p">(</span><span class="s">&quot;A slice of &quot;</span><span class="p">,</span> <span class="nx">rs</span><span class="p">,</span> <span class="s">&quot; with &quot;</span><span class="p">,</span> <span class="mi">1</span><span class="o">..</span><span class="mi">20</span> <span class="k">by</span> <span class="o">-</span><span class="mi">2</span><span class="p">);</span>
<span class="nx">writeRange</span><span class="p">(</span><span class="nx">rs</span><span class="p">[</span><span class="mi">1</span><span class="o">..</span><span class="mi">20</span> <span class="k">by</span> <span class="o">-</span><span class="mi">2</span><span class="p">]);</span> <span class="c1">// 16, 10, 4</span>
<span class="nx">writeln</span><span class="p">();</span>

<span class="nx">writeln</span><span class="p">(</span><span class="s">&quot;A slice of &quot;</span><span class="p">,</span> <span class="nx">r</span><span class="p">,</span> <span class="s">&quot; with &quot;</span><span class="p">,</span> <span class="mi">5</span><span class="o">..</span><span class="p">);</span>
<span class="nx">writeRange</span><span class="p">(</span><span class="nx">r</span><span class="p">[</span><span class="mi">5</span><span class="o">..</span><span class="p">]);</span>       <span class="c1">// 5, 6, 7, 8, 9, 10</span>
<span class="nx">writeln</span><span class="p">(</span><span class="s">&quot;A slice of &quot;</span><span class="p">,</span> <span class="nx">r</span><span class="p">,</span> <span class="s">&quot; with &quot;</span><span class="p">,</span> <span class="mi">5</span><span class="o">..</span> <span class="k">by</span> <span class="mi">2</span><span class="p">);</span>
<span class="nx">writeRange</span><span class="p">(</span><span class="nx">r</span><span class="p">[</span><span class="mi">5</span><span class="o">..</span> <span class="k">by</span> <span class="mi">2</span><span class="p">]);</span>  <span class="c1">// 5, 7, 9</span>
<span class="nx">writeln</span><span class="p">(</span><span class="s">&quot;A slice of &quot;</span><span class="p">,</span> <span class="mi">1</span><span class="o">..</span><span class="p">,</span> <span class="s">&quot; with &quot;</span><span class="p">,</span> <span class="o">..</span><span class="mi">5</span><span class="p">);</span>
<span class="nx">writeRange</span><span class="p">((</span><span class="mi">1</span><span class="o">..</span><span class="p">)[</span><span class="o">..</span><span class="mi">5</span><span class="p">]);</span>   <span class="c1">// 1, 2, 3, 4, 5</span>
<span class="nx">writeln</span><span class="p">();</span>
</pre></div>
</div>
</div>
<div class="section" id="range-types">
<h2>Range Types<a class="headerlink" href="#range-types" title="Permalink to this headline">¶</a></h2>
<p>Range types are generic with respect to three fields:</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">idxType</span></code>: The type of the range’s values (defaults to <code class="docutils literal notranslate"><span class="pre">int</span></code>)</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">bounds</span></code>: A <a class="reference internal" href="../language/spec/ranges.html#boundKind" title="boundKind"><code class="xref chpl chpl-enum docutils literal notranslate"><span class="pre">boundKind</span></code></a> value indicating which bounds the range stores (defaults to <code class="docutils literal notranslate"><span class="pre">boundKind.both</span></code>)</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">strides</span></code>: A <a class="reference internal" href="../language/spec/ranges.html#strideKind" title="strideKind"><code class="xref chpl chpl-enum docutils literal notranslate"><span class="pre">strideKind</span></code></a> value indicating what values the range’s <code class="docutils literal notranslate"><span class="pre">strides</span></code> is allowed to store (defaults to <code class="docutils literal notranslate"><span class="pre">strideKind.one</span></code>)</p></li>
</ul>
<p>Like other variables, range types can be inferred by the compiler
from the initializing expression for simplicity, as in the previous
examples.  However, they can also be specified if desired.  Here
are some examples that are equivalent to ones we’ve seen before:</p>
<div class="highlight-chapel notranslate"><div class="highlight"><pre><span></span><span class="kd">const</span> <span class="nx">rt</span><span class="p">:</span> <span class="kt">range</span><span class="p">(</span><span class="kt">int</span><span class="p">)</span> <span class="o">=</span> <span class="mi">1</span><span class="o">..</span><span class="mi">10</span><span class="p">,</span>
      <span class="nx">rt2</span><span class="p">:</span> <span class="kt">range</span><span class="p">(</span><span class="kt">int</span><span class="p">,</span> <span class="nx">bounds</span><span class="o">=</span><span class="nx">boundKind</span><span class="p">.</span><span class="nx">both</span><span class="p">,</span> <span class="nx">strides</span><span class="o">=</span><span class="nx">strideKind</span><span class="p">.</span><span class="nx">one</span><span class="p">)</span>
         <span class="o">=</span> <span class="mi">1</span><span class="o">..</span><span class="mi">10</span><span class="p">,</span>
      <span class="nx">rte</span><span class="p">:</span> <span class="kt">range</span><span class="p">(</span><span class="nx">color</span><span class="p">)</span> <span class="o">=</span> <span class="nx">color</span><span class="p">.</span><span class="nx">orange</span><span class="o">..</span><span class="nx">color</span><span class="p">.</span><span class="nx">green</span><span class="p">,</span>
      <span class="nx">rts</span><span class="p">:</span> <span class="kt">range</span><span class="p">(</span><span class="nx">strides</span><span class="o">=</span><span class="nx">strideKind</span><span class="p">.</span><span class="nx">any</span><span class="p">)</span> <span class="o">=</span> <span class="mi">1</span><span class="o">..</span><span class="mi">10</span> <span class="k">by</span> <span class="mi">2</span><span class="p">,</span>
      <span class="nx">rtub</span><span class="p">:</span> <span class="kt">range</span><span class="p">(</span><span class="nx">bounds</span><span class="o">=</span><span class="nx">boundKind</span><span class="p">.</span><span class="nx">low</span><span class="p">)</span> <span class="o">=</span> <span class="mi">1</span><span class="o">..</span><span class="p">;</span>
</pre></div>
</div>
<p>More importantly, range types can be used to make a range variable
more flexible than its initializer permits.  For example, this
range’s initializer has a unit stride, but because its type is
declared with <code class="docutils literal notranslate"><span class="pre">strideKind.any</span></code>, it can later be assigned a range
value with a stride.</p>
<div class="highlight-chapel notranslate"><div class="highlight"><pre><span></span><span class="kd">var</span> <span class="nx">rangeVar</span><span class="p">:</span> <span class="kt">range</span><span class="p">(</span><span class="kt">int</span><span class="p">,</span> <span class="nx">strides</span><span class="o">=</span><span class="nx">strideKind</span><span class="p">.</span><span class="nx">any</span><span class="p">)</span> <span class="o">=</span> <span class="mi">1</span><span class="o">..</span><span class="mi">10</span><span class="p">;</span>
</pre></div>
</div>
<p>Range types are also valuable in declaring formal arguments of a
procedure in which you want to leave certain aspects of the range
constrained or unconstrained.</p>
<div class="highlight-chapel notranslate"><div class="highlight"><pre><span></span><span class="k">proc</span> <span class="nf">acceptsNonStridedIntRangesOnly</span><span class="p">(</span><span class="nx">r</span><span class="p">:</span> <span class="kt">range</span><span class="p">(</span><span class="kt">int</span><span class="p">))</span> <span class="p">{</span> <span class="p">}</span>
<span class="k">proc</span> <span class="nf">acceptsAnyRange</span><span class="p">(</span><span class="nx">r</span><span class="p">:</span> <span class="kt">range</span><span class="p">(?))</span> <span class="p">{</span> <span class="p">}</span>

<span class="nx">acceptsNonStridedIntRangesOnly</span><span class="p">(</span><span class="mi">1</span><span class="o">..</span><span class="mi">10</span><span class="p">);</span>
<span class="nx">acceptsAnyRange</span><span class="p">(</span><span class="mi">1</span><span class="o">..</span><span class="mi">10</span><span class="p">);</span>
<span class="nx">acceptsAnyRange</span><span class="p">(</span><span class="mi">1</span><span class="o">..</span><span class="mi">10</span> <span class="k">by</span> <span class="mi">2</span><span class="p">);</span>
<span class="nx">acceptsAnyRange</span><span class="p">(</span><span class="nx">color</span><span class="p">.</span><span class="nx">orange</span><span class="o">..</span><span class="nx">color</span><span class="p">.</span><span class="nx">green</span><span class="p">);</span>
</pre></div>
</div>
</div>
<div class="section" id="helper-function-for-this-primer-writerange">
<span id="primers-ranges-writerange"></span><h2>Helper function for this primer: writeRange()<a class="headerlink" href="#helper-function-for-this-primer-writerange" title="Permalink to this headline">¶</a></h2>
<p>The procedure that has been used throughout this primer to print
ranges is defined below. It adjusts to the specifics of the range.</p>
<div class="highlight-chapel notranslate"><div class="highlight"><pre><span></span><span class="k">proc</span> <span class="nf">writeRange</span><span class="p">(</span><span class="nx">r</span><span class="p">:</span> <span class="kt">range</span><span class="p">(?))</span> <span class="p">{</span>
  <span class="nx">write</span><span class="p">(</span><span class="s">&quot;Range &quot;</span><span class="p">,</span> <span class="nx">r</span><span class="p">);</span>
  <span class="k">if</span> <span class="nx">r</span><span class="p">.</span><span class="nx">bounds</span> <span class="o">==</span> <span class="nx">boundKind</span><span class="p">.</span><span class="nx">both</span> <span class="o">||</span>
    <span class="p">((</span><span class="nx">isBoolType</span><span class="p">(</span><span class="nx">r</span><span class="p">.</span><span class="nx">idxType</span><span class="p">)</span> <span class="o">||</span> <span class="nx">isEnumType</span><span class="p">(</span><span class="nx">r</span><span class="p">.</span><span class="nx">idxType</span><span class="p">))</span> <span class="o">&amp;&amp;</span> <span class="nx">r</span><span class="p">.</span><span class="nx">hasFirst</span><span class="p">())</span> <span class="p">{</span>
      <span class="c1">// The range is fully bounded, either because it is a bounded</span>
      <span class="c1">// range or because it is unbounded but defined on bools or an</span>
      <span class="c1">// enum, so - print its entire sequence.</span>
    <span class="nx">write</span><span class="p">(</span><span class="s">&quot; = &quot;</span><span class="p">);</span>
    <span class="kd">var</span> <span class="nx">first</span><span class="p">:</span> <span class="kt">bool</span> <span class="o">=</span> <span class="kc">true</span><span class="p">;;</span>
    <span class="k">for</span> <span class="nx">i</span> <span class="kd">in</span> <span class="nx">r</span> <span class="p">{</span>
      <span class="k">if</span> <span class="o">!</span><span class="nx">first</span> <span class="k">then</span> <span class="nx">write</span><span class="p">(</span><span class="s">&quot;, &quot;</span><span class="p">);</span>
      <span class="nx">write</span><span class="p">(</span><span class="nx">i</span><span class="p">);</span>
      <span class="nx">first</span> <span class="o">=</span> <span class="kc">false</span><span class="p">;</span>
    <span class="p">}</span>
  <span class="p">}</span> <span class="k">else</span> <span class="k">if</span> <span class="nx">r</span><span class="p">.</span><span class="nx">hasFirst</span><span class="p">()</span> <span class="p">{</span>
    <span class="c1">// The range is not fully bounded, but its sequence has a starting point</span>
    <span class="c1">// - print the first three indices.  Note that in this and the next</span>
    <span class="c1">// case the sequence can be either increasing or decreasing.</span>
    <span class="nx">write</span><span class="p">(</span><span class="s">&quot; = &quot;</span><span class="p">);</span>
    <span class="k">for</span> <span class="nx">i</span> <span class="kd">in</span> <span class="nx">r</span> <span class="o">#</span> <span class="mi">3</span> <span class="k">do</span>
      <span class="nx">write</span><span class="p">(</span><span class="nx">i</span><span class="p">,</span> <span class="s">&quot;, &quot;</span><span class="p">);</span>
    <span class="nx">write</span><span class="p">(</span><span class="s">&quot;...&quot;</span><span class="p">);</span>
  <span class="p">}</span> <span class="k">else</span> <span class="k">if</span> <span class="nx">r</span><span class="p">.</span><span class="nx">hasLast</span><span class="p">()</span> <span class="p">{</span>
    <span class="c1">// The range is not fully bounded, but its sequence has an ending point.</span>
    <span class="c1">// Print the last three indices.</span>
    <span class="nx">write</span><span class="p">(</span><span class="s">&quot; = ...&quot;</span><span class="p">);</span>
    <span class="k">for</span> <span class="nx">i</span> <span class="kd">in</span> <span class="nx">r</span> <span class="o">#</span> <span class="o">-</span><span class="mi">3</span> <span class="k">do</span>
      <span class="nx">write</span><span class="p">(</span><span class="s">&quot;, &quot;</span><span class="p">,</span> <span class="nx">i</span><span class="p">);</span>
  <span class="p">}</span> <span class="k">else</span> <span class="k">if</span> <span class="nx">r</span><span class="p">.</span><span class="nx">stride</span> <span class="o">==</span> <span class="mi">1</span> <span class="o">||</span> <span class="nx">r</span><span class="p">.</span><span class="nx">stride</span> <span class="o">==</span> <span class="o">-</span><span class="mi">1</span> <span class="p">{</span>
    <span class="c1">// If we are here, the range is fully unbounded.</span>
    <span class="nx">write</span><span class="p">(</span><span class="s">&quot; = all integers, &quot;</span><span class="p">,</span>
          <span class="k">if</span> <span class="nx">r</span><span class="p">.</span><span class="nx">stride</span> <span class="o">&gt;</span> <span class="mi">0</span> <span class="k">then</span> <span class="s">&quot;increasing&quot;</span> <span class="k">else</span> <span class="s">&quot;decreasing&quot;</span><span class="p">);</span>
  <span class="p">}</span> <span class="k">else</span> <span class="p">{</span>
    <span class="c1">// We got a more complex range, do not elaborate.</span>
  <span class="p">}</span>
  <span class="nx">writeln</span><span class="p">();</span>
<span class="p">}</span>
</pre></div>
</div>
</div>
</div>


           </div>
          </div>
          <footer><div class="rst-footer-buttons" role="navigation" aria-label="Footer">
        <a href="locales.html" class="btn btn-neutral float-left" title="Locales" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left" aria-hidden="true"></span> Previous</a>
        <a href="domains.html" class="btn btn-neutral float-right" title="Domains" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right" aria-hidden="true"></span></a>
    </div>

  <hr/>

  <div role="contentinfo">
    <p>&#169; Copyright 2023, Hewlett Packard Enterprise Development LP.</p>
  </div>

   

</footer>
        </div>
      </div>
    </section>
  </div>
  <script>
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script>
 



</body>
</html>