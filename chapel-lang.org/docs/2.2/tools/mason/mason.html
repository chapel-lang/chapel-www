<!DOCTYPE html>
<html class="writer-html5" lang="en" data-content_root="../../">
<head>
  <meta charset="utf-8" /><meta name="viewport" content="width=device-width, initial-scale=1" />

  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Mason &mdash; Chapel Documentation 2.2</title>
      <link rel="stylesheet" type="text/css" href="../../_static/pygments.css?v=80d5e7a1" />
      <link rel="stylesheet" type="text/css" href="../../_static/css/theme.css?v=19f00094" />
      <link rel="stylesheet" type="text/css" href="../../_static/style.css?v=70f659a1" />

  
    <link rel="shortcut icon" href="../../_static/favicon.ico"/>
  <!--[if lt IE 9]>
    <script src="../../_static/js/html5shiv.min.js"></script>
  <![endif]-->
  
        <script src="../../_static/jquery.js?v=5d32c60e"></script>
        <script src="../../_static/_sphinx_javascript_frameworks_compat.js?v=2cd50e6c"></script>
        <script src="../../_static/documentation_options.js?v=b21de401"></script>
        <script src="../../_static/doctools.js?v=888ff710"></script>
        <script src="../../_static/sphinx_highlight.js?v=dc90522c"></script>
    <script src="../../_static/js/theme.js"></script>
    <link rel="index" title="Index" href="../../genindex.html" />
    <link rel="search" title="Search" href="../../search.html" />
    <link rel="next" title="Installation Instructions" href="start/installation.html" />
    <link rel="prev" title="chplvis" href="../chplvis/chplvis.html" />
   
  

</head>

<body class="wy-body-for-nav"> 
  <div class="wy-grid-for-nav">
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >

<a href="../../index.html" class="icon icon-home"> Chapel Documentation

<!-- display version if button won't be rendered -->
<?php if (false) { ?>
<br>2.2
<?php } ?>

</a>

<?php
// Variables given by sphinx
$chplTitle = "2.2";
$pagename = "tools/mason/mason";
include "../..//versionButton.php";
?>


<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" aria-label="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>


        </div><div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="Navigation menu">
  
              <p class="caption" role="heading"><span class="caption-text">Compiling and Running Chapel</span></p>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../../usingchapel/QUICKSTART.html">Quickstart Instructions</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../usingchapel/index.html">Using Chapel</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../platforms/index.html">Platform-Specific Notes</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../technotes/index.html">Technical Notes</a></li>
<li class="toctree-l1 current"><a class="reference internal" href="../index.html">Tools</a><ul class="current">
<li class="toctree-l2"><a class="reference internal" href="../index.html#documentation">Documentation</a></li>
<li class="toctree-l2 current"><a class="reference internal" href="../index.html#development">Development</a><ul class="current">
<li class="toctree-l3"><a class="reference internal" href="../chpl-language-server/chpl-language-server.html">chpl-language-server</a></li>
<li class="toctree-l3"><a class="reference internal" href="../chplcheck/chplcheck.html">chplcheck</a></li>
<li class="toctree-l3"><a class="reference internal" href="../chplvis/chplvis.html">chplvis</a></li>
<li class="toctree-l3 current"><a class="current reference internal" href="#">Mason</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#overview">Overview</a></li>
<li class="toctree-l4"><a class="reference internal" href="#when-to-leverage-mason-for-chapel-builds">When to Leverage Mason for Chapel Builds</a></li>
<li class="toctree-l4"><a class="reference internal" href="#quick-start-instructions">Quick Start Instructions</a></li>
<li class="toctree-l4"><a class="reference internal" href="#getting-started-with-mason">Getting Started with Mason</a></li>
<li class="toctree-l4"><a class="reference internal" href="#mason-guide">Mason Guide</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../index.html#interoperability">Interoperability</a></li>
<li class="toctree-l2"><a class="reference internal" href="../index.html#other">Other</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../../developer/index.html">Docs for Contributors</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Writing Chapel Programs</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../language/reference.html">Quick Reference</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../examples/index.html">Hello World Variants</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../primers/index.html">Primers</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../language/spec/index.html">Language Specification</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../modules/standard.html">Standard Modules</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../modules/packages.html">Package Modules</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../modules/layoutdist.html">Standard Layouts and Distributions</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../mason-packages/index.html">Mason Packages</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../users-guide/index.html">Chapel Users Guide (WIP)</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Language History</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../language/evolution.html">Chapel Evolution</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../language/archivedSpecs.html">Documentation Archives</a></li>
</ul>

  <p class="caption" role="heading"><span class="caption-text">Indexes</span></p>
  <ul>
    <li class="toctree-11"><a class="reference internal" href="../../chpl-modindex.html">Chapel Module Index</a></li>
    <li class="toctree-11"><a class="reference internal" href="../../genindex.html">Complete Docs Index</a></li>
  </ul>

        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap"><nav class="wy-nav-top" aria-label="Mobile navigation menu" >
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../../index.html">Chapel Documentation</a>
      </nav>

      <div class="wy-nav-content">
        <div class="rst-content">
          <div role="navigation" aria-label="Page navigation">
  <ul class="wy-breadcrumbs">
      <li><a href="../../index.html" class="icon icon-home" aria-label="Home"></a></li>
          <li class="breadcrumb-item"><a href="../index.html">Tools</a></li>
      <li class="breadcrumb-item active">Mason</li>
      <li class="wy-breadcrumbs-aside">
            <a href="../../_sources/tools/mason/mason.rst.txt" rel="nofollow"> View page source</a>
      </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
             
  <section id="mason">
<span id="readme-mason"></span><h1>Mason<a class="headerlink" href="#mason" title="Link to this heading">¶</a></h1>
<section id="overview">
<h2>Overview<a class="headerlink" href="#overview" title="Link to this heading">¶</a></h2>
<p>This guide on Mason Packages contains everything that you need to
know to hit the ground developing in Chapel using mason, whether
that be to create a library to contribute to the community, use an
existing package, or just to help with the process of building your
Chapel programs.</p>
</section>
<section id="when-to-leverage-mason-for-chapel-builds">
<h2>When to Leverage Mason for Chapel Builds<a class="headerlink" href="#when-to-leverage-mason-for-chapel-builds" title="Link to this heading">¶</a></h2>
<p>Mason simplifies the build process for Chapel applications. Here’s a
breakdown of when Mason shines and when alternative approaches might
be better suited.</p>
<p><strong>Ideal Use Cases for Mason:</strong></p>
<ol class="arabic simple">
<li><p>Pure Chapel Projects: Mason excels at managing the build process for
applications written entirely in Chapel. If your program relies solely
on Chapel dependencies and compiles directly from Chapel modules, Mason
is the perfect tool.</p></li>
<li><p>External Dependencies with <cite>Spack</cite> or <cite>pkg-config</cite>: Mason integrates
seamlessly with external dependencies managed by <cite>Spack</cite> or
<cite>pkg-config</cite>. If your project uses such dependencies, Mason can handle
them efficiently.</p></li>
</ol>
<p><strong>Considering Alternatives:</strong></p>
<ol class="arabic simple">
<li><p>Complex Compilation Needs Beyond <cite>chpl</cite>: For Chapel programs requiring
compilation steps beyond what the Chapel compiler offers, Mason might not
be the most suitable choice. Consider alternatives like <cite>Make</cite> for greater
flexibility in crafting intricate build commands. As an example, the
Arkouda project, a prominent open-source Chapel application, uses
<cite>Make</cite> to run preparatory Python scripts before the final binary compilation.</p></li>
</ol>
<p><strong>Combining Mason with Make:</strong></p>
<p>Mason and Make can co-exist effectively. You can leverage Mason for its dependency
management capabilities while employing Make for broader build commands requiring
more control.</p>
</section>
<section id="quick-start-instructions">
<h2>Quick Start Instructions<a class="headerlink" href="#quick-start-instructions" title="Link to this heading">¶</a></h2>
<p>To install mason, run <code class="docutils literal notranslate"><span class="pre">make</span> <span class="pre">mason</span></code> from your Chapel home directory.</p>
<p>To create a new mason application run: <code class="docutils literal notranslate"><span class="pre">mason</span> <span class="pre">new</span> <span class="pre">&lt;MyAppName&gt;</span></code>. This will
create a mason project in a new directory <cite>MyAppName</cite> with the following
structure:</p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>MyAppName/
├── src/
│   └── MyAppName.chpl
└── Mason.toml
</pre></div>
</div>
<p>The app can be run by calling <code class="docutils literal notranslate"><span class="pre">mason</span> <span class="pre">build</span></code> followed by <code class="docutils literal notranslate"><span class="pre">mason</span> <span class="pre">run</span></code> from
within <cite>MyAppName</cite>.</p>
<p>Or, to create a mason package that can be used as a dependency in other mason
projects, run: <code class="docutils literal notranslate"><span class="pre">mason</span> <span class="pre">new</span> <span class="pre">&lt;MyPackageName&gt;</span> <span class="pre">--lib</span></code>. This will create a similar
file structure; however, the primary source file, <cite>MyPackageName.chpl</cite>, won’t
have a <cite>main</cite> routine because the library is not intended to be run as a
standalone program:</p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>MyPackageName/
├── src/
│   └── MyPackageName.chpl
└── Mason.toml
</pre></div>
</div>
<p>For either type of mason project, add new dependencies with <code class="docutils literal notranslate"><span class="pre">mason</span> <span class="pre">add</span>
<span class="pre">&lt;package</span> <span class="pre">name&gt;</span></code>. This will add the new dependency to the list in the <cite>toml</cite>
file. When the project is built, mason will download source files for all
Chapel dependencies using the <a class="reference external" href="https://github.com/chapel-lang/mason-registry">Mason-Registry</a>, allowing them to be used
in the application or library.</p>
<p>Note that mason also supports numerous other features such as unit testing,
examples, and documentation. See the sections below for more information.</p>
</section>
<section id="getting-started-with-mason">
<h2>Getting Started with Mason<a class="headerlink" href="#getting-started-with-mason" title="Link to this heading">¶</a></h2>
<p>In this section, you will find more detailed information about installing mason
and a basic HelloWorld example to get you started using mason packages in your
own code.</p>
<div class="toctree-wrapper compound">
<ul>
<li class="toctree-l1"><a class="reference internal" href="start/installation.html">Installation Instructions</a></li>
<li class="toctree-l1"><a class="reference internal" href="start/helloworld.html">Using a Mason Package</a></li>
<li class="toctree-l1"><a class="reference internal" href="start/whymason.html">Why would I want to use mason?</a></li>
<li class="toctree-l1"><a class="reference internal" href="start/whymason.html#the-three-modes-of-mason">The Three Modes of Mason</a></li>
</ul>
</div>
</section>
<section id="mason-guide">
<span id="index-mason-guide"></span><h2>Mason Guide<a class="headerlink" href="#mason-guide" title="Link to this heading">¶</a></h2>
<p>This section aims to explain why a user would want to use mason,
point out what types of users would benefit from using mason, outline
some typical use-cases of mason, and introduce some of the features
that make using mason worthwhile.</p>
<div class="toctree-wrapper compound">
<ul>
<li class="toctree-l1"><a class="reference internal" href="guide/basicusage.html">Basic Usage</a></li>
<li class="toctree-l1"><a class="reference internal" href="guide/buildingandrunning.html">Building and Running</a></li>
<li class="toctree-l1"><a class="reference internal" href="guide/buildinglargerpackages.html">Building Larger Packages</a></li>
<li class="toctree-l1"><a class="reference internal" href="guide/runtimearguments.html">Runtime/Compilation Arguments</a></li>
<li class="toctree-l1"><a class="reference internal" href="guide/testing.html">Testing your Package</a></li>
<li class="toctree-l1"><a class="reference internal" href="guide/examples.html">Creating and Running Examples</a></li>
<li class="toctree-l1"><a class="reference internal" href="guide/documentation.html">Documenting a Package</a></li>
<li class="toctree-l1"><a class="reference internal" href="guide/chapeldependencies.html">Using Chapel Dependencies</a></li>
<li class="toctree-l1"><a class="reference internal" href="guide/gitdependencies.html">Specifying Dependencies from <code class="docutils literal notranslate"><span class="pre">git</span></code> Repositories</a></li>
<li class="toctree-l1"><a class="reference internal" href="guide/externaldependencies.html">Using Non-Chapel Dependencies</a></li>
<li class="toctree-l1"><a class="reference internal" href="guide/masonregistry.html">Mason-Registry</a></li>
<li class="toctree-l1"><a class="reference internal" href="guide/masonregistry.html#local-registries">Local Registries</a></li>
<li class="toctree-l1"><a class="reference internal" href="guide/submitting.html">Submit a Package</a></li>
<li class="toctree-l1"><a class="reference internal" href="guide/submitting.html#semantic-versioning">Semantic Versioning</a></li>
<li class="toctree-l1"><a class="reference internal" href="guide/submitting.html#incompatible-version-resolution-strategy">Incompatible Version Resolution Strategy</a></li>
<li class="toctree-l1"><a class="reference internal" href="guide/manifestfile.html">The Manifest File</a></li>
<li class="toctree-l1"><a class="reference internal" href="guide/manifestfile.html#the-lock-file">The Lock File</a></li>
<li class="toctree-l1"><a class="reference internal" href="guide/environmentvariables.html">Environment Variables</a></li>
<li class="toctree-l1"><a class="reference internal" href="guide/namespacing.html">Namespacing</a></li>
</ul>
</div>
</section>
</section>


           </div>
          </div>
          <footer><div class="rst-footer-buttons" role="navigation" aria-label="Footer">
        <a href="../chplvis/chplvis.html" class="btn btn-neutral float-left" title="chplvis" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left" aria-hidden="true"></span> Previous</a>
        <a href="start/installation.html" class="btn btn-neutral float-right" title="Installation Instructions" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right" aria-hidden="true"></span></a>
    </div>

  <hr/>

  <div role="contentinfo">
    <p>&#169; Copyright 2024, Hewlett Packard Enterprise Development LP.</p>
  </div>

   

</footer>
        </div>
      </div>
    </section>
  </div>
  <script>
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script>
 



</body>
</html>