<!DOCTYPE html>
<html class="writer-html5" lang="en" data-content_root="../../../">
<head>
  <meta charset="utf-8" /><meta name="viewport" content="width=device-width, initial-scale=1" />

  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Using a Mason Package &mdash; Chapel Documentation 2.2</title>
      <link rel="stylesheet" type="text/css" href="../../../_static/pygments.css?v=80d5e7a1" />
      <link rel="stylesheet" type="text/css" href="../../../_static/css/theme.css?v=19f00094" />
      <link rel="stylesheet" type="text/css" href="../../../_static/style.css?v=70f659a1" />

  
    <link rel="shortcut icon" href="../../../_static/favicon.ico"/>
  <!--[if lt IE 9]>
    <script src="../../../_static/js/html5shiv.min.js"></script>
  <![endif]-->
  
        <script src="../../../_static/jquery.js?v=5d32c60e"></script>
        <script src="../../../_static/_sphinx_javascript_frameworks_compat.js?v=2cd50e6c"></script>
        <script src="../../../_static/documentation_options.js?v=b21de401"></script>
        <script src="../../../_static/doctools.js?v=888ff710"></script>
        <script src="../../../_static/sphinx_highlight.js?v=dc90522c"></script>
    <script src="../../../_static/js/theme.js"></script>
    <link rel="index" title="Index" href="../../../genindex.html" />
    <link rel="search" title="Search" href="../../../search.html" />
    <link rel="next" title="Why would I want to use mason?" href="whymason.html" />
    <link rel="prev" title="Installation Instructions" href="installation.html" />
   
  

</head>

<body class="wy-body-for-nav"> 
  <div class="wy-grid-for-nav">
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >

<a href="../../../index.html" class="icon icon-home"> Chapel Documentation

<!-- display version if button won't be rendered -->
<?php if (false) { ?>
<br>2.2
<?php } ?>

</a>

<?php
// Variables given by sphinx
$chplTitle = "2.2";
$pagename = "tools/mason/start/helloworld";
include "../../..//versionButton.php";
?>


<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../../../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" aria-label="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>


        </div><div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="Navigation menu">
  
              <p class="caption" role="heading"><span class="caption-text">Compiling and Running Chapel</span></p>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../../../usingchapel/QUICKSTART.html">Quickstart Instructions</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../usingchapel/index.html">Using Chapel</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../platforms/index.html">Platform-Specific Notes</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../technotes/index.html">Technical Notes</a></li>
<li class="toctree-l1 current"><a class="reference internal" href="../../index.html">Tools</a><ul class="current">
<li class="toctree-l2"><a class="reference internal" href="../../index.html#documentation">Documentation</a></li>
<li class="toctree-l2 current"><a class="reference internal" href="../../index.html#development">Development</a><ul class="current">
<li class="toctree-l3"><a class="reference internal" href="../../chpl-language-server/chpl-language-server.html">chpl-language-server</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../chplcheck/chplcheck.html">chplcheck</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../chplvis/chplvis.html">chplvis</a></li>
<li class="toctree-l3 current"><a class="reference internal" href="../mason.html">Mason</a><ul class="current">
<li class="toctree-l4"><a class="reference internal" href="../mason.html#overview">Overview</a></li>
<li class="toctree-l4"><a class="reference internal" href="../mason.html#when-to-leverage-mason-for-chapel-builds">When to Leverage Mason for Chapel Builds</a></li>
<li class="toctree-l4"><a class="reference internal" href="../mason.html#quick-start-instructions">Quick Start Instructions</a></li>
<li class="toctree-l4 current"><a class="reference internal" href="../mason.html#getting-started-with-mason">Getting Started with Mason</a></li>
<li class="toctree-l4"><a class="reference internal" href="../mason.html#mason-guide">Mason Guide</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../../index.html#interoperability">Interoperability</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../index.html#other">Other</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../../../developer/index.html">Docs for Contributors</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Writing Chapel Programs</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../../language/reference.html">Quick Reference</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../examples/index.html">Hello World Variants</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../primers/index.html">Primers</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../language/spec/index.html">Language Specification</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../modules/standard.html">Standard Modules</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../modules/packages.html">Package Modules</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../modules/layoutdist.html">Standard Layouts and Distributions</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../mason-packages/index.html">Mason Packages</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../users-guide/index.html">Chapel Users Guide (WIP)</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Language History</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../../language/evolution.html">Chapel Evolution</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../language/archivedSpecs.html">Documentation Archives</a></li>
</ul>

  <p class="caption" role="heading"><span class="caption-text">Indexes</span></p>
  <ul>
    <li class="toctree-11"><a class="reference internal" href="../../../chpl-modindex.html">Chapel Module Index</a></li>
    <li class="toctree-11"><a class="reference internal" href="../../../genindex.html">Complete Docs Index</a></li>
  </ul>

        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap"><nav class="wy-nav-top" aria-label="Mobile navigation menu" >
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../../../index.html">Chapel Documentation</a>
      </nav>

      <div class="wy-nav-content">
        <div class="rst-content">
          <div role="navigation" aria-label="Page navigation">
  <ul class="wy-breadcrumbs">
      <li><a href="../../../index.html" class="icon icon-home" aria-label="Home"></a></li>
          <li class="breadcrumb-item"><a href="../../index.html">Tools</a></li>
          <li class="breadcrumb-item"><a href="../mason.html">Mason</a></li>
      <li class="breadcrumb-item active">Using a Mason Package</li>
      <li class="wy-breadcrumbs-aside">
            <a href="../../../_sources/tools/mason/start/helloworld.rst.txt" rel="nofollow"> View page source</a>
      </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
             
  <section id="using-a-mason-package">
<span id="using-a-package"></span><h1>Using a Mason Package<a class="headerlink" href="#using-a-mason-package" title="Link to this heading">¶</a></h1>
<p>Once mason has been installed, you are all ready to get started using mason
packages! This section outlines a quick hands-on approach to getting started
with mason packages as dependencies in your own code.</p>
<section id="a-mason-hello-world">
<h2>A Mason Hello World!<a class="headerlink" href="#a-mason-hello-world" title="Link to this heading">¶</a></h2>
<p>So, mason is installed and <code class="docutils literal notranslate"><span class="pre">mason</span> <span class="pre">--help</span></code> is working, showing the available
mason subcommands. What now?</p>
<p>First, let’s create a new directory to house our mason project. This will give
us everything we need to start installing dependencies from the mason registry
while keeping our directory structure nice and clean.</p>
<blockquote>
<div><div class="highlight-sh notranslate"><div class="highlight"><pre><span></span>mason<span class="w"> </span>new<span class="w"> </span>HelloPackage
<span class="nb">cd</span><span class="w"> </span>HelloPackage
</pre></div>
</div>
</div></blockquote>
<p>At this point, mason will start prompting you for some basic information about
your package. Since this package is just for getting started, all that you need
to worry about for now is the package name.</p>
<p>You can name your package whatever you would like, as long as it is a valid
Chapel identifier, but for simplicity, let’s name our package <code class="docutils literal notranslate"><span class="pre">HelloPackage</span></code>
and then go with the default values for all other prompts, leaving them blank.</p>
<p>If everything has gone as planned, you should be met with the prompt:
“Initialized new library project: HelloPackage”. Now, let’s get installing
our first mason package…</p>
<p>To view all available packages, run the <code class="docutils literal notranslate"><span class="pre">mason</span> <span class="pre">search</span></code> command. This will
output a list of all packages registered to the mason registry, which can be
viewed at <a class="reference external" href="https://github.com/chapel-lang/mason-registry">https://github.com/chapel-lang/mason-registry</a>.</p>
<p>The package that we are interested in with this tutorial is the <code class="docutils literal notranslate"><span class="pre">HelloWorld</span></code>
package. Let’s signal to mason that we would like to install that package:</p>
<blockquote>
<div><div class="highlight-sh notranslate"><div class="highlight"><pre><span></span>mason<span class="w"> </span>add<span class="w"> </span>HelloWorld@0.1.0
</pre></div>
</div>
</div></blockquote>
<p>This will add the <code class="docutils literal notranslate"><span class="pre">HelloWorld</span></code> package to our <code class="docutils literal notranslate"><span class="pre">Mason.toml</span></code> file as a
dependency (you can open the <code class="docutils literal notranslate"><span class="pre">Mason.toml</span></code> file to see the change).</p>
<p>Now, everything is ready to go with our <code class="docutils literal notranslate"><span class="pre">HelloPackage</span></code> program… now the
fun part: writing (or copying, in this case) some code.</p>
<p>Open up the package source file located at <code class="docutils literal notranslate"><span class="pre">./src/HelloPackage.chpl</span></code>.
You should see something like this:</p>
<div class="highlight-chpl notranslate"><div class="highlight"><pre><span></span><span class="cm">/* Documentation for HelloPackage */</span>
<span class="k">module</span><span class="w"> </span><span class="nc">HelloPackage</span><span class="w"> </span><span class="p">{</span>
<span class="w">  </span><span class="nx">writeln</span><span class="p">(</span><span class="s">&quot;New library: HelloPackage&quot;</span><span class="p">);</span>
<span class="p">}</span>
</pre></div>
</div>
<p>This program will run as-is, but we aren’t using our <code class="docutils literal notranslate"><span class="pre">HelloWorld</span></code> dependency
just yet. In order to use the package, we need to add a <code class="docutils literal notranslate"><span class="pre">use</span> <span class="pre">HelloWorld</span></code> to
bring in the dependency. This gives us access to the whole module namespace
of the <code class="docutils literal notranslate"><span class="pre">HelloWorld</span></code> package, and we can call all of the available functions.</p>
<p>Let’s call the <code class="docutils literal notranslate"><span class="pre">helloChapelFriends()</span></code> function to make sure that it worked.
Now, the code should look like this:</p>
<div class="highlight-chpl notranslate"><div class="highlight"><pre><span></span><span class="cm">/* Documentation for HelloPackage */</span>
<span class="k">module</span><span class="w"> </span><span class="nc">HelloPackage</span><span class="w"> </span><span class="p">{</span>
<span class="w">  </span><span class="k">use</span><span class="w"> </span><span class="nx">HelloWorld</span><span class="p">;</span>
<span class="w">  </span><span class="nx">helloChapelFriends</span><span class="p">();</span>
<span class="p">}</span>
</pre></div>
</div>
<p>At this point, everything should be good to go! Time to run the program.</p>
<p>After double-checking that you are in the top-level directory of the mason
project that you’ve been working in (named <code class="docutils literal notranslate"><span class="pre">HelloWorld/</span></code> in this tutorial),
now we can install our dependency and build our program with the command:</p>
<div class="highlight-sh notranslate"><div class="highlight"><pre><span></span>mason<span class="w"> </span>build
</pre></div>
</div>
<p>After running this command, the <code class="docutils literal notranslate"><span class="pre">HelloWorld</span></code> package will be installed
to <code class="docutils literal notranslate"><span class="pre">MASON_HOME</span></code>, which defaults to <code class="docutils literal notranslate"><span class="pre">~/.mason</span></code>, so, assuming <code class="docutils literal notranslate"><span class="pre">MASON_HOME</span></code>
has not been modified, the source code of all mason dependencies can be found
at <code class="docutils literal notranslate"><span class="pre">~/.mason</span></code>.</p>
<p>If everything has worked up until now, it’s time to run our program!</p>
<div class="highlight-sh notranslate"><div class="highlight"><pre><span></span>mason<span class="w"> </span>run
</pre></div>
</div>
<p>You should see a “Hello Chapel friends from Mason” message printed to the
screen. Congratulations! You can now install mason dependencies and use them
in your code.</p>
</section>
<section id="hello-world-tutorial-cheat-sheet">
<h2>Hello World Tutorial Cheat Sheet<a class="headerlink" href="#hello-world-tutorial-cheat-sheet" title="Link to this heading">¶</a></h2>
<ol class="arabic simple">
<li><p><code class="docutils literal notranslate"><span class="pre">mason</span> <span class="pre">init</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">mason</span> <span class="pre">add</span> <span class="pre">HelloWorld&#64;1.0.0</span></code></p></li>
<li><p>add <code class="docutils literal notranslate"><span class="pre">use</span> <span class="pre">HelloWorld;</span></code> and <code class="docutils literal notranslate"><span class="pre">helloChapelFriends();</span></code> to Chapel module in <code class="docutils literal notranslate"><span class="pre">./src/</span></code> directory</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">mason</span> <span class="pre">build</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">mason</span> <span class="pre">run</span></code></p></li>
</ol>
</section>
</section>


           </div>
          </div>
          <footer><div class="rst-footer-buttons" role="navigation" aria-label="Footer">
        <a href="installation.html" class="btn btn-neutral float-left" title="Installation Instructions" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left" aria-hidden="true"></span> Previous</a>
        <a href="whymason.html" class="btn btn-neutral float-right" title="Why would I want to use mason?" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right" aria-hidden="true"></span></a>
    </div>

  <hr/>

  <div role="contentinfo">
    <p>&#169; Copyright 2024, Hewlett Packard Enterprise Development LP.</p>
  </div>

   

</footer>
        </div>
      </div>
    </section>
  </div>
  <script>
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script>
 



</body>
</html>