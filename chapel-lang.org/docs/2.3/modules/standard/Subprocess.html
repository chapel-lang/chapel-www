<!DOCTYPE html>
<html class="writer-html5" lang="en" data-content_root="../../">
<head>
  <meta charset="utf-8" /><meta name="viewport" content="width=device-width, initial-scale=1" />

  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Subprocess &mdash; Chapel Documentation 2.3</title>
      <link rel="stylesheet" type="text/css" href="../../_static/pygments.css?v=80d5e7a1" />
      <link rel="stylesheet" type="text/css" href="../../_static/css/theme.css?v=19f00094" />
      <link rel="stylesheet" type="text/css" href="../../_static/style.css?v=70f659a1" />

  
    <link rel="shortcut icon" href="../../_static/favicon.ico"/>
  <!--[if lt IE 9]>
    <script src="../../_static/js/html5shiv.min.js"></script>
  <![endif]-->
  
        <script src="../../_static/jquery.js?v=5d32c60e"></script>
        <script src="../../_static/_sphinx_javascript_frameworks_compat.js?v=2cd50e6c"></script>
        <script src="../../_static/documentation_options.js?v=c3c8ae58"></script>
        <script src="../../_static/doctools.js?v=888ff710"></script>
        <script src="../../_static/sphinx_highlight.js?v=dc90522c"></script>
    <script src="../../_static/js/theme.js"></script>
    <link rel="index" title="Index" href="../../genindex.html" />
    <link rel="search" title="Search" href="../../search.html" />
    <link rel="next" title="ChplConfig" href="ChplConfig.html" />
    <link rel="prev" title="POSIX" href="OS/POSIX.html" />
   
  

</head>

<body class="wy-body-for-nav"> 
  <div class="wy-grid-for-nav">
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >

<a href="../../index.html" class="icon icon-home"> Chapel Documentation

<!-- display version if button won't be rendered -->
<?php if (false) { ?>
<br>2.3
<?php } ?>

</a>

<?php
// Variables given by sphinx
$chplTitle = "2.3";
$pagename = "modules/standard/Subprocess";
include "../..//versionButton.php";
?>


<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" aria-label="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>


        </div><div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="Navigation menu">
  
              <p class="caption" role="heading"><span class="caption-text">Compiling and Running Chapel</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../usingchapel/QUICKSTART.html">Quickstart Instructions</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../usingchapel/index.html">Using Chapel</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../platforms/index.html">Platform-Specific Notes</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../technotes/index.html">Technical Notes</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../tools/index.html">Tools</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../developer/index.html">Docs for Contributors</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Writing Chapel Programs</span></p>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../../language/reference.html">Quick Reference</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../examples/index.html">Hello World Variants</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../primers/index.html">Primers</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../language/spec/index.html">Language Specification</a></li>
<li class="toctree-l1 current"><a class="reference internal" href="../standard.html">Standard Modules</a><ul class="current">
<li class="toctree-l2"><a class="reference internal" href="../standard.html#automatic-modules">Automatic Modules</a></li>
<li class="toctree-l2"><a class="reference internal" href="../standard.html#algorithms">Algorithms</a></li>
<li class="toctree-l2"><a class="reference internal" href="../standard.html#data-structures">Data Structures</a></li>
<li class="toctree-l2"><a class="reference internal" href="../standard.html#diagnostics">Diagnostics</a></li>
<li class="toctree-l2"><a class="reference internal" href="../standard.html#files-io">Files/IO</a></li>
<li class="toctree-l2"><a class="reference internal" href="../standard.html#language-support">Language Support</a></li>
<li class="toctree-l2"><a class="reference internal" href="../standard.html#math-numerical">Math/Numerical</a></li>
<li class="toctree-l2"><a class="reference internal" href="../standard.html#parallelism-distributed-computing">Parallelism/Distributed Computing</a></li>
<li class="toctree-l2 current"><a class="reference internal" href="../standard.html#system-interoperability">System/Interoperability</a><ul class="current">
<li class="toctree-l3"><a class="reference internal" href="Allocators.html">Allocators</a></li>
<li class="toctree-l3"><a class="reference internal" href="CTypes.html">CTypes</a></li>
<li class="toctree-l3"><a class="reference internal" href="OS.html">OS</a></li>
<li class="toctree-l3 current"><a class="current reference internal" href="#">Subprocess</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#reading-or-writing-in-binary-format">Reading or Writing in Binary Format</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../standard.html#utilities">Utilities</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../packages.html">Package Modules</a></li>
<li class="toctree-l1"><a class="reference internal" href="../layoutdist.html">Standard Layouts and Distributions</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../mason-packages/index.html">Mason Packages</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../users-guide/index.html">Chapel Users Guide (WIP)</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Language History</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../language/evolution.html">Chapel Evolution</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../language/archivedSpecs.html">Documentation Archives</a></li>
</ul>

  <p class="caption" role="heading"><span class="caption-text">Indexes</span></p>
  <ul>
    <li class="toctree-11"><a class="reference internal" href="../../chpl-modindex.html">Chapel Module Index</a></li>
    <li class="toctree-11"><a class="reference internal" href="../../genindex.html">Complete Docs Index</a></li>
  </ul>

        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap"><nav class="wy-nav-top" aria-label="Mobile navigation menu" >
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../../index.html">Chapel Documentation</a>
      </nav>

      <div class="wy-nav-content">
        <div class="rst-content">
          <div role="navigation" aria-label="Page navigation">
  <ul class="wy-breadcrumbs">
      <li><a href="../../index.html" class="icon icon-home" aria-label="Home"></a></li>
          <li class="breadcrumb-item"><a href="../standard.html">Standard Modules</a></li>
      <li class="breadcrumb-item active">Subprocess</li>
      <li class="wy-breadcrumbs-aside">
            <a href="../../_sources/modules/standard/Subprocess.rst.txt" rel="nofollow"> View page source</a>
      </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
             
  <section id="subprocess">
<span id="module-Subprocess"></span><h1>Subprocess<a class="headerlink" href="#subprocess" title="Link to this heading">¶</a></h1>
<p><strong>Usage</strong></p>
<div class="highlight-chapel notranslate"><div class="highlight"><pre><span></span><span class="k">use</span> <span class="nx">Subprocess</span><span class="p">;</span>
</pre></div>
</div>
<p>or</p>
<div class="highlight-chapel notranslate"><div class="highlight"><pre><span></span><span class="k">import</span> <span class="nx">Subprocess</span><span class="p">;</span>
</pre></div>
</div>
<p>Support launching and interacting with other programs.</p>
<p>Using functions in this module, one can create a subprocess
and possibly capture its output. It is also possible to provide
input to a subprocess.</p>
<p>To start a subprocess, use <a class="reference internal" href="#Subprocess.spawn" title="Subprocess.spawn"><code class="xref chpl chpl-proc docutils literal notranslate"><span class="pre">spawn</span></code></a> or <a class="reference internal" href="#Subprocess.spawnshell" title="Subprocess.spawnshell"><code class="xref chpl chpl-proc docutils literal notranslate"><span class="pre">spawnshell</span></code></a>.  To wait for
the subprocess process to finish, use the <a class="reference internal" href="#Subprocess.subprocess.wait" title="Subprocess.subprocess.wait"><code class="xref chpl chpl-proc docutils literal notranslate"><span class="pre">subprocess.wait</span></code></a> or
<a class="reference internal" href="#Subprocess.subprocess.communicate" title="Subprocess.subprocess.communicate"><code class="xref chpl chpl-proc docutils literal notranslate"><span class="pre">subprocess.communicate</span></code></a> functions.</p>
<p>This example program produces a listing of files in the current directory with
names that begin with <code class="docutils literal notranslate"><span class="pre">test.</span></code> by using the <code class="docutils literal notranslate"><span class="pre">ls</span></code> command. The
output will be mixed in with the Chapel program’s output.</p>
<div class="highlight-chapel notranslate"><div class="highlight"><pre><span></span><span class="k">use</span> <span class="nx">Subprocess</span><span class="p">;</span>

<span class="kd">var</span> <span class="nx">sub</span> <span class="o">=</span> <span class="nx">spawn</span><span class="p">([</span><span class="s">&quot;ls&quot;</span><span class="p">,</span> <span class="s">&quot;test.*&quot;</span><span class="p">]);</span>
<span class="nx">sub</span><span class="p">.</span><span class="nx">wait</span><span class="p">();</span>
</pre></div>
</div>
<p>This version also runs the <code class="docutils literal notranslate"><span class="pre">ls</span></code> command but uses a pipe
to read the output from the <code class="docutils literal notranslate"><span class="pre">ls</span></code> command.</p>
<div class="highlight-chapel notranslate"><div class="highlight"><pre><span></span><span class="k">use</span> <span class="nx">Subprocess</span><span class="p">;</span>

<span class="kd">var</span> <span class="nx">sub</span> <span class="o">=</span> <span class="nx">spawn</span><span class="p">([</span><span class="s">&quot;ls&quot;</span><span class="p">,</span> <span class="s">&quot;test.*&quot;</span><span class="p">],</span> <span class="nx">stdout</span><span class="o">=</span><span class="nx">pipeStyle</span><span class="p">.</span><span class="nx">pipe</span><span class="p">);</span>

<span class="kd">var</span> <span class="nx">line</span><span class="p">:</span><span class="kt">string</span><span class="p">;</span>
<span class="k">while</span> <span class="nx">sub</span><span class="p">.</span><span class="nx">stdout</span><span class="p">.</span><span class="nx">readLine</span><span class="p">(</span><span class="nx">line</span><span class="p">)</span> <span class="p">{</span>
  <span class="nx">write</span><span class="p">(</span><span class="s">&quot;ls returned: &quot;</span><span class="p">,</span> <span class="nx">line</span><span class="p">);</span>
<span class="p">}</span>

<span class="nx">sub</span><span class="p">.</span><span class="nx">wait</span><span class="p">();</span>
</pre></div>
</div>
<p>Here is an example program that provides input to a subprocess in addition to
capturing its output.  This version uses the <code class="docutils literal notranslate"><span class="pre">cat</span></code> command, which just prints
back its input.</p>
<div class="highlight-chapel notranslate"><div class="highlight"><pre><span></span><span class="k">use</span> <span class="nx">Subprocess</span><span class="p">;</span>

<span class="kd">var</span> <span class="nx">sub</span> <span class="o">=</span> <span class="nx">spawn</span><span class="p">([</span><span class="s">&quot;cat&quot;</span><span class="p">],</span> <span class="nx">stdin</span><span class="o">=</span><span class="nx">pipeStyle</span><span class="p">.</span><span class="nx">bufferAll</span><span class="p">,</span> <span class="nx">stdout</span><span class="o">=</span><span class="nx">pipeStyle</span><span class="p">.</span><span class="nx">pipe</span><span class="p">);</span>

<span class="nx">sub</span><span class="p">.</span><span class="nx">stdin</span><span class="p">.</span><span class="nx">writeln</span><span class="p">(</span><span class="s">&quot;Hello&quot;</span><span class="p">);</span>
<span class="nx">sub</span><span class="p">.</span><span class="nx">stdin</span><span class="p">.</span><span class="nx">writeln</span><span class="p">(</span><span class="s">&quot;World&quot;</span><span class="p">);</span>

<span class="nx">sub</span><span class="p">.</span><span class="nx">communicate</span><span class="p">();</span>

<span class="kd">var</span> <span class="nx">line</span><span class="p">:</span><span class="kt">string</span><span class="p">;</span>
<span class="k">while</span> <span class="nx">sub</span><span class="p">.</span><span class="nx">stdout</span><span class="p">.</span><span class="nx">readLine</span><span class="p">(</span><span class="nx">line</span><span class="p">)</span> <span class="p">{</span>
  <span class="nx">write</span><span class="p">(</span><span class="s">&quot;Got line: &quot;</span><span class="p">,</span> <span class="nx">line</span><span class="p">);</span>
<span class="p">}</span>

<span class="c1">// prints out:</span>
<span class="c1">// Got line: Hello</span>
<span class="c1">// Got line: World</span>
</pre></div>
</div>
<p>Here is a final example in which the Chapel program uses 2 tasks
to work with a subprocess. One task is producing data and the
other task is consuming it.</p>
<div class="highlight-chapel notranslate"><div class="highlight"><pre><span></span><span class="k">use</span> <span class="nx">Subprocess</span><span class="p">;</span>

<span class="kd">var</span> <span class="nx">input</span> <span class="o">=</span> <span class="p">[</span><span class="s">&quot;a&quot;</span><span class="p">,</span> <span class="s">&quot;b&quot;</span><span class="p">,</span> <span class="s">&quot;c&quot;</span><span class="p">];</span>

<span class="kd">var</span> <span class="nx">sub</span> <span class="o">=</span> <span class="nx">spawn</span><span class="p">([</span><span class="s">&quot;cat&quot;</span><span class="p">],</span> <span class="nx">stdin</span><span class="o">=</span><span class="nx">pipeStyle</span><span class="p">.</span><span class="nx">pipe</span><span class="p">,</span> <span class="nx">stdout</span><span class="o">=</span><span class="nx">pipeStyle</span><span class="p">.</span><span class="nx">pipe</span><span class="p">);</span>
<span class="k">cobegin</span> <span class="p">{</span>
  <span class="p">{</span>
    <span class="c1">// one task writes data to the subprocess</span>
    <span class="k">for</span> <span class="nx">x</span> <span class="kd">in</span> <span class="nx">input</span> <span class="p">{</span>
      <span class="nx">sub</span><span class="p">.</span><span class="nx">stdin</span><span class="p">.</span><span class="nx">writeln</span><span class="p">(</span><span class="nx">x</span><span class="p">);</span>
    <span class="p">}</span>
    <span class="c1">// this close is important; otherwise the other task blocks forever</span>
    <span class="nx">sub</span><span class="p">.</span><span class="nx">stdin</span><span class="p">.</span><span class="nx">close</span><span class="p">();</span>
  <span class="p">}</span>

  <span class="p">{</span>
    <span class="kd">var</span> <span class="nx">line</span><span class="p">:</span><span class="kt">string</span><span class="p">;</span>
    <span class="k">while</span> <span class="nx">sub</span><span class="p">.</span><span class="nx">stdout</span><span class="p">.</span><span class="nx">readln</span><span class="p">(</span><span class="nx">line</span><span class="p">)</span> <span class="p">{</span>
      <span class="nx">writeln</span><span class="p">(</span><span class="s">&quot;Got line &quot;</span><span class="p">,</span> <span class="nx">line</span><span class="p">);</span>
    <span class="p">}</span>
  <span class="p">}</span>
<span class="p">}</span>
<span class="nx">sub</span><span class="p">.</span><span class="nx">wait</span><span class="p">();</span>

<span class="c1">// prints out:</span>
<span class="c1">// Got line: a</span>
<span class="c1">// Got line: b</span>
<span class="c1">// Got line: c</span>
</pre></div>
</div>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>Creating a subprocess that uses <a class="reference internal" href="#Subprocess.pipeStyle.pipe" title="Subprocess.pipeStyle.pipe"><code class="xref chpl chpl-enumconstant docutils literal notranslate"><span class="pre">pipeStyle.pipe</span></code></a> to
provide input or capture output does not work when using the ugni
communications layer with hugepages enabled and when using more than one
locale. In this circumstance, the program will halt with an error message.
These scenarios do work when using GASNet instead of the ugni layer.</p>
</div>
<section id="reading-or-writing-in-binary-format">
<h2>Reading or Writing in Binary Format<a class="headerlink" href="#reading-or-writing-in-binary-format" title="Link to this heading">¶</a></h2>
<p>To read or write from <code class="docutils literal notranslate"><span class="pre">stdin</span></code> or <code class="docutils literal notranslate"><span class="pre">stdout</span></code> in binary format, use the
<a class="reference internal" href="IO.html#IO.fileWriter.withSerializer" title="IO.fileWriter.withSerializer"><code class="xref chpl chpl-proc docutils literal notranslate"><span class="pre">withSerializer</span></code></a> and <a class="reference internal" href="IO.html#IO.fileReader.withDeserializer" title="IO.fileReader.withDeserializer"><code class="xref chpl chpl-proc docutils literal notranslate"><span class="pre">withDeserializer</span></code></a>
methods to create binary-serializing aliases of <code class="docutils literal notranslate"><span class="pre">stdin</span></code> and <code class="docutils literal notranslate"><span class="pre">stdout</span></code>. For
example, consider the following program that writes the numbers <code class="docutils literal notranslate"><span class="pre">1</span></code> through
<code class="docutils literal notranslate"><span class="pre">10</span></code> in binary to the <code class="docutils literal notranslate"><span class="pre">hexdump</span></code> utility:</p>
<div class="highlight-chapel notranslate"><div class="highlight"><pre><span></span><span class="k">use</span> <span class="nx">IO</span><span class="p">,</span> <span class="nx">Subprocess</span><span class="p">;</span>

<span class="kd">var</span> <span class="nx">sub</span> <span class="o">=</span> <span class="nx">spawn</span><span class="p">([</span><span class="s">&quot;hexdump&quot;</span><span class="p">,</span> <span class="s">&quot;-C&quot;</span><span class="p">],</span> <span class="nx">stdin</span><span class="o">=</span><span class="nx">pipeStyle</span><span class="p">.</span><span class="nx">pipe</span><span class="p">,</span> <span class="nx">stdout</span><span class="o">=</span><span class="nx">pipeStyle</span><span class="p">.</span><span class="nx">pipe</span><span class="p">);</span>

<span class="c1">// Use &#39;withSerializer&#39; to create a binary-serializing alias of &#39;sub.stdin&#39;</span>
<span class="kd">var</span> <span class="nx">bin</span> <span class="o">=</span> <span class="nx">sub</span><span class="p">.</span><span class="nx">stdin</span><span class="p">.</span><span class="nx">withSerializer</span><span class="p">(</span><span class="nx">binarySerializer</span><span class="p">);</span>

<span class="k">for</span> <span class="nx">i</span> <span class="kd">in</span> <span class="mi">1</span><span class="o">..</span><span class="mi">10</span> <span class="k">do</span> <span class="nx">bin</span><span class="p">.</span><span class="nx">write</span><span class="p">(</span><span class="nx">i</span><span class="p">:</span><span class="kt">uint</span><span class="p">(</span><span class="mi">8</span><span class="p">));</span>

<span class="nx">sub</span><span class="p">.</span><span class="nx">communicate</span><span class="p">();</span>

<span class="kd">var</span> <span class="nx">line</span> <span class="p">:</span> <span class="kt">string</span><span class="p">;</span>
<span class="k">while</span> <span class="nx">sub</span><span class="p">.</span><span class="nx">stdout</span><span class="p">.</span><span class="nx">readLine</span><span class="p">(</span><span class="nx">line</span><span class="p">)</span> <span class="k">do</span>
  <span class="nx">write</span><span class="p">(</span><span class="nx">line</span><span class="p">);</span>
</pre></div>
</div>
<p>This program prints:</p>
<div class="highlight-text notranslate"><div class="highlight"><pre><span></span>00000000  01 02 03 04 05 06 07 08  09 0a                    |..........|
0000000a
</pre></div>
</div>
<p>Please refer to <a class="reference internal" href="IO.html#IO.binarySerializer" title="IO.binarySerializer"><code class="xref chpl chpl-type docutils literal notranslate"><span class="pre">binarySerializer</span></code></a> and <a class="reference internal" href="IO.html#IO.binaryDeserializer" title="IO.binaryDeserializer"><code class="xref chpl chpl-type docutils literal notranslate"><span class="pre">binaryDeserializer</span></code></a>
for more information on their supported format.</p>
<dl class="chpl record">
<dt class="sig sig-object chpl" id="Subprocess.subprocess">
<em class="property"><span class="pre">record</span> </em><span class="sig-name descname"><span class="pre">subprocess</span></span><a class="headerlink" href="#Subprocess.subprocess" title="Link to this definition">¶</a></dt>
<dd><p>This record represents a subprocess.</p>
<p>Note that the subprocess will not be waited for if this record goes out of
scope. FileReaders/fileWriters opened to communicate with the subprocess
will be closed if the record goes out of scope, however.</p>
<p>Generally, it is important to call <a class="reference internal" href="#Subprocess.subprocess.wait" title="Subprocess.subprocess.wait"><code class="xref chpl chpl-proc docutils literal notranslate"><span class="pre">subprocess.wait</span></code></a> to wait for the
process to complete. If the parent process is using pipes to communicate
with the subprocess, the parent process may call <a class="reference internal" href="#Subprocess.subprocess.close" title="Subprocess.subprocess.close"><code class="xref chpl chpl-proc docutils literal notranslate"><span class="pre">subprocess.close</span></code></a>
in order to close the pipes and free any buffers. Such calls are
generally not needed since the channels will be closed when the
subprocess record is automatically destroyed.</p>
<dl class="chpl attribute">
<dt class="sig sig-object chpl" id="Subprocess.subprocess.locking">
<em class="property"><span class="pre">param</span> </em><span class="sig-name descname"><span class="pre">locking</span></span><em class="property"> <span class="pre">:</span> <span class="pre">bool</span></em><a class="headerlink" href="#Subprocess.subprocess.locking" title="Link to this definition">¶</a></dt>
<dd><p>used to create the types for any fileReaders/fileWriters that are
necessary.</p>
</dd></dl>

<dl class="chpl attribute">
<dt class="sig sig-object chpl" id="Subprocess.subprocess.pid">
<em class="property"><span class="pre">var</span> </em><span class="sig-name descname"><span class="pre">pid</span></span><em class="property"> <span class="pre">:</span> <span class="pre">int(64)</span></em><a class="headerlink" href="#Subprocess.subprocess.pid" title="Link to this definition">¶</a></dt>
<dd><p>The Process ID number of the spawned process</p>
</dd></dl>

<dl class="chpl attribute">
<dt class="sig sig-object chpl" id="Subprocess.subprocess.running">
<em class="property"><span class="pre">var</span> </em><span class="sig-name descname"><span class="pre">running</span></span><em class="property"> <span class="pre">:</span> <span class="pre">bool</span></em><a class="headerlink" href="#Subprocess.subprocess.running" title="Link to this definition">¶</a></dt>
<dd><p><cite>false</cite> if this library knows that the subprocess is not running</p>
</dd></dl>

<dl class="chpl attribute">
<dt class="sig sig-object chpl" id="Subprocess.subprocess.exitCode">
<em class="property"><span class="pre">var</span> </em><span class="sig-name descname"><span class="pre">exitCode</span></span><em class="property"> <span class="pre">:</span> <span class="pre">int</span></em><a class="headerlink" href="#Subprocess.subprocess.exitCode" title="Link to this definition">¶</a></dt>
<dd><p>The exit status from the subprocess, or possibly a value &gt;= 256
if there was an error when creating the subprocess</p>
</dd></dl>

<dl class="chpl method">
<dt class="sig sig-object chpl" id="Subprocess.subprocess.stdin">
<em class="property"><span class="pre">proc</span> </em><span class="sig-name descname"><span class="pre">stdin</span></span><span class="w"> </span><em class="property"> <span class="pre">throws</span></em><a class="headerlink" href="#Subprocess.subprocess.stdin" title="Link to this definition">¶</a></dt>
<dd><p>Access the stdin pipe for the subprocess. The parent process
can write to the subprocess through this pipe if the subprocess
was created with stdin=pipeStyle.pipe.</p>
<dl class="field-list simple">
<dt class="field-odd">Throws<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>SystemError</strong> – If the subprocess does not have a stdin pipe open.</p>
</dd>
</dl>
</dd></dl>

<dl class="chpl method">
<dt class="sig sig-object chpl" id="Subprocess.subprocess.stdout">
<em class="property"><span class="pre">proc</span> </em><span class="sig-name descname"><span class="pre">stdout</span></span><span class="w"> </span><em class="property"> <span class="pre">throws</span></em><a class="headerlink" href="#Subprocess.subprocess.stdout" title="Link to this definition">¶</a></dt>
<dd><p>Access the stdout pipe for the subprocess. The parent process
can read from the subprocess through this pipe if the subprocess
was created with stdout=pipeStyle.pipe.</p>
<dl class="field-list simple">
<dt class="field-odd">Throws<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>SystemError</strong> – If the subprocess does not have a stdout pipe open.</p>
</dd>
</dl>
</dd></dl>

<dl class="chpl method">
<dt class="sig sig-object chpl" id="Subprocess.subprocess.stderr">
<em class="property"><span class="pre">proc</span> </em><span class="sig-name descname"><span class="pre">stderr</span></span><span class="w"> </span><em class="property"> <span class="pre">throws</span></em><a class="headerlink" href="#Subprocess.subprocess.stderr" title="Link to this definition">¶</a></dt>
<dd><p>Access the stderr pipe for the subprocess. The parent process
can read from the subprocess through this pipe if the subprocess
was created with stderr=pipeStyle.pipe.</p>
<dl class="field-list simple">
<dt class="field-odd">Throws<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>SystemError</strong> – If the subprocess does not have a stderr pipe open.</p>
</dd>
</dl>
</dd></dl>

</dd></dl>

<dl class="chpl enum">
<dt class="sig sig-object chpl" id="Subprocess.pipeStyle">
<em class="property"><span class="pre">enum</span> </em><span class="sig-name descname"><span class="pre">pipeStyle</span></span><span class="w"> </span><em class="property"> <span class="pre">{</span> <span class="pre">forward,</span> <span class="pre">close,</span> <span class="pre">pipe,</span> <span class="pre">stdout,</span> <span class="pre">bufferAll</span> <span class="pre">}</span></em><a class="headerlink" href="#Subprocess.pipeStyle" title="Link to this definition">¶</a></dt>
<dd><p>Styles of piping to use in a subprocess.</p>
<dl class="chpl enumconstant">
<dt class="sig sig-object chpl" id="Subprocess.pipeStyle.forward">
<em class="property"><span class="pre">enum</span> <span class="pre">constant</span> </em><span class="sig-name descname"><span class="pre">forward</span></span><a class="headerlink" href="#Subprocess.pipeStyle.forward" title="Link to this definition">¶</a></dt>
<dd><p><code class="docutils literal notranslate"><span class="pre">forward</span></code> indicates that the child process should inherit
the stdin/stdout/stderr of this process.</p>
</dd></dl>

<dl class="chpl enumconstant">
<dt class="sig sig-object chpl" id="Subprocess.pipeStyle.close">
<em class="property"><span class="pre">enum</span> <span class="pre">constant</span> </em><span class="sig-name descname"><span class="pre">close</span></span><a class="headerlink" href="#Subprocess.pipeStyle.close" title="Link to this definition">¶</a></dt>
<dd><p><code class="docutils literal notranslate"><span class="pre">close</span></code> indicates that the child process should close
its stdin/stdout/stderr.</p>
</dd></dl>

<dl class="chpl enumconstant">
<dt class="sig sig-object chpl" id="Subprocess.pipeStyle.pipe">
<em class="property"><span class="pre">enum</span> <span class="pre">constant</span> </em><span class="sig-name descname"><span class="pre">pipe</span></span><a class="headerlink" href="#Subprocess.pipeStyle.pipe" title="Link to this definition">¶</a></dt>
<dd><p><code class="docutils literal notranslate"><span class="pre">pipe</span></code> indicates that the spawn operation should set up
a pipe between the parent process and the child process
so that the parent process can provide input to the
child process or capture its output.</p>
</dd></dl>

<dl class="chpl enumconstant">
<dt class="sig sig-object chpl" id="Subprocess.pipeStyle.stdout">
<em class="property"><span class="pre">enum</span> <span class="pre">constant</span> </em><span class="sig-name descname"><span class="pre">stdout</span></span><a class="headerlink" href="#Subprocess.pipeStyle.stdout" title="Link to this definition">¶</a></dt>
<dd><p><code class="docutils literal notranslate"><span class="pre">stdout</span></code> indicates that the stderr stream of the child process
should be forwarded to its stdout stream.</p>
</dd></dl>

<dl class="chpl enumconstant">
<dt class="sig sig-object chpl" id="Subprocess.pipeStyle.bufferAll">
<em class="property"><span class="pre">enum</span> <span class="pre">constant</span> </em><span class="sig-name descname"><span class="pre">bufferAll</span></span><a class="headerlink" href="#Subprocess.pipeStyle.bufferAll" title="Link to this definition">¶</a></dt>
<dd><p><code class="docutils literal notranslate"><span class="pre">bufferAll</span></code> is the same as <a class="reference internal" href="#Subprocess.pipeStyle.pipe" title="Subprocess.pipeStyle.pipe"><code class="xref chpl chpl-enumconstant docutils literal notranslate"><span class="pre">pipe</span></code></a>, but when used
for stdin causes all data to be buffered and sent on the communicate()
call. This avoids certain deadlock scenarios where stdout or stderr are
<a class="reference internal" href="#Subprocess.pipeStyle.pipe" title="Subprocess.pipeStyle.pipe"><code class="xref chpl chpl-enumconstant docutils literal notranslate"><span class="pre">pipe</span></code></a>. In particular,
without <code class="docutils literal notranslate"><span class="pre">bufferAll</span></code>, the sub-process might block on writing output
which will not be consumed until the communicate() call.</p>
</dd></dl>

</dd></dl>

<dl class="chpl function">
<dt class="sig sig-object chpl" id="Subprocess.spawn">
<em class="property"><span class="pre">proc</span> </em><span class="sig-name descname"><span class="pre">spawn</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="pre">args:</span> <span class="pre">[]</span> <span class="pre">string</span></em>, <em class="sig-param"><span class="pre">env:</span> <span class="pre">[]</span> <span class="pre">string</span> <span class="pre">=</span> <span class="pre">Subprocess.empty_env</span></em>, <em class="sig-param"><span class="pre">executable</span> <span class="pre">=</span> <span class="pre">&quot;&quot;</span></em>, <em class="sig-param"><span class="pre">stdin:</span> <span class="pre">?t</span> <span class="pre">=</span> <span class="pre">pipeStyle.forward</span></em>, <em class="sig-param"><span class="pre">stdout:</span> <span class="pre">?u</span> <span class="pre">=</span> <span class="pre">pipeStyle.forward</span></em>, <em class="sig-param"><span class="pre">stderr:</span> <span class="pre">?v</span> <span class="pre">=</span> <span class="pre">pipeStyle.forward</span></em>, <em class="sig-param"><span class="pre">param</span> <span class="pre">locking</span> <span class="pre">=</span> <span class="pre">true</span></em><span class="sig-paren">)</span><span class="w"> </span><em class="property"> <span class="pre">throws</span></em><a class="headerlink" href="#Subprocess.spawn" title="Link to this definition">¶</a></dt>
<dd><p>Create a subprocess.</p>
<dl class="field-list simple">
<dt class="field-odd">Arguments<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>args</strong> – An array of strings storing the command to run and
its arguments. The command to run is always the first argument.
The command could be found in the current PATH or
it could be a full path to a file to execute. If the
executable argument is set, the first argument will
be the name of the spawned program provided to that
program and typically shown in process listings.</p></li>
<li><p><strong>env</strong> – An array of strings storing the environment to use when
spawning the child process instead of forwarding the
current environment. By default, this argument
is an empty array. In that case,
the current environment will be forwarded to the child
process.</p></li>
<li><p><strong>executable</strong> – By default, the executable argument is “”. In that
case, the program to launch is the first element
of the args array. If the executable
argument is provided, it will be used instead of
the first element of the args array as the program
to launch. In either case, the program could be
found by searching the PATH.</p></li>
<li><p><strong>stdin</strong> – indicates how the standard input of the child process
should be handled. It could be
<a class="reference internal" href="#Subprocess.pipeStyle.forward" title="Subprocess.pipeStyle.forward"><code class="xref chpl chpl-enumconstant docutils literal notranslate"><span class="pre">pipeStyle.forward</span></code></a>, <a class="reference internal" href="#Subprocess.pipeStyle.close" title="Subprocess.pipeStyle.close"><code class="xref chpl chpl-enumconstant docutils literal notranslate"><span class="pre">pipeStyle.close</span></code></a>,
<a class="reference internal" href="#Subprocess.pipeStyle.pipe" title="Subprocess.pipeStyle.pipe"><code class="xref chpl chpl-enumconstant docutils literal notranslate"><span class="pre">pipeStyle.pipe</span></code></a>, or a file descriptor number to use.
Defaults to <a class="reference internal" href="#Subprocess.pipeStyle.forward" title="Subprocess.pipeStyle.forward"><code class="xref chpl chpl-enumconstant docutils literal notranslate"><span class="pre">pipeStyle.forward</span></code></a>.</p></li>
<li><p><strong>stdout</strong> – indicates how the standard output of the child process
should be handled. It could be
<a class="reference internal" href="#Subprocess.pipeStyle.forward" title="Subprocess.pipeStyle.forward"><code class="xref chpl chpl-enumconstant docutils literal notranslate"><span class="pre">pipeStyle.forward</span></code></a>, <a class="reference internal" href="#Subprocess.pipeStyle.close" title="Subprocess.pipeStyle.close"><code class="xref chpl chpl-enumconstant docutils literal notranslate"><span class="pre">pipeStyle.close</span></code></a>,
<a class="reference internal" href="#Subprocess.pipeStyle.pipe" title="Subprocess.pipeStyle.pipe"><code class="xref chpl chpl-enumconstant docutils literal notranslate"><span class="pre">pipeStyle.pipe</span></code></a>, or a file descriptor number to use.
Defaults to <a class="reference internal" href="#Subprocess.pipeStyle.forward" title="Subprocess.pipeStyle.forward"><code class="xref chpl chpl-enumconstant docutils literal notranslate"><span class="pre">pipeStyle.forward</span></code></a>.</p></li>
<li><p><strong>stderr</strong> – indicates how the standard error of the child process
should be handled. It could be
<a class="reference internal" href="#Subprocess.pipeStyle.forward" title="Subprocess.pipeStyle.forward"><code class="xref chpl chpl-enumconstant docutils literal notranslate"><span class="pre">pipeStyle.forward</span></code></a>, <a class="reference internal" href="#Subprocess.pipeStyle.close" title="Subprocess.pipeStyle.close"><code class="xref chpl chpl-enumconstant docutils literal notranslate"><span class="pre">pipeStyle.close</span></code></a>,
<a class="reference internal" href="#Subprocess.pipeStyle.pipe" title="Subprocess.pipeStyle.pipe"><code class="xref chpl chpl-enumconstant docutils literal notranslate"><span class="pre">pipeStyle.pipe</span></code></a>, <a class="reference internal" href="#Subprocess.pipeStyle.stdout" title="Subprocess.pipeStyle.stdout"><code class="xref chpl chpl-enumconstant docutils literal notranslate"><span class="pre">pipeStyle.stdout</span></code></a>, or a file
descriptor number to use. Defaults to <a class="reference internal" href="#Subprocess.pipeStyle.forward" title="Subprocess.pipeStyle.forward"><code class="xref chpl chpl-enumconstant docutils literal notranslate"><span class="pre">pipeStyle.forward</span></code></a>.</p></li>
<li><p><strong>locking</strong> – Should channels created use locking?
This argument is used to set <a class="reference internal" href="#Subprocess.subprocess.locking" title="Subprocess.subprocess.locking"><code class="xref chpl chpl-attr docutils literal notranslate"><span class="pre">subprocess.locking</span></code></a>
in the resulting subprocess. Defaults to <cite>true</cite>.</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>a <a class="reference internal" href="#Subprocess.subprocess" title="Subprocess.subprocess"><code class="xref chpl chpl-record docutils literal notranslate"><span class="pre">subprocess</span></code></a> with locking set according to the
arguments.</p>
</dd>
<dt class="field-odd">Throws<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>IllegalArgumentError</strong> – Thrown when <code class="docutils literal notranslate"><span class="pre">args</span></code> is an empty array.</p>
</dd>
</dl>
<p>Some errors at process creation may be deferred until later method calls
are made.  These include:</p>
<ul class="simple">
<li><p><a class="reference internal" href="OS.html#OS.BlockingIoError" title="OS.BlockingIoError"><code class="xref chpl chpl-class docutils literal notranslate"><span class="pre">BlockingIoError</span></code></a>: If there weren’t enough system resources
when the subprocess was created to create it.</p></li>
<li><p><a class="reference internal" href="OS.html#OS.PermissionError" title="OS.PermissionError"><code class="xref chpl chpl-class docutils literal notranslate"><span class="pre">PermissionError</span></code></a>: If there were permission issues when
setting up the subprocess.</p></li>
<li><p><a class="reference internal" href="OS.html#OS.SystemError" title="OS.SystemError"><code class="xref chpl chpl-class docutils literal notranslate"><span class="pre">SystemError</span></code></a>: If there were other problems when initially
setting up the subprocess.</p></li>
</ul>
</dd></dl>

<dl class="chpl function">
<dt class="sig sig-object chpl" id="Subprocess.spawnshell">
<em class="property"><span class="pre">proc</span> </em><span class="sig-name descname"><span class="pre">spawnshell</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="pre">command:</span> <span class="pre">string</span></em>, <em class="sig-param"><span class="pre">env:</span> <span class="pre">[]</span> <span class="pre">string</span> <span class="pre">=</span> <span class="pre">Subprocess.empty_env</span></em>, <em class="sig-param"><span class="pre">stdin:</span> <span class="pre">?t</span> <span class="pre">=</span> <span class="pre">pipeStyle.forward</span></em>, <em class="sig-param"><span class="pre">stdout:</span> <span class="pre">?u</span> <span class="pre">=</span> <span class="pre">pipeStyle.forward</span></em>, <em class="sig-param"><span class="pre">stderr:</span> <span class="pre">?v</span> <span class="pre">=</span> <span class="pre">pipeStyle.forward</span></em>, <em class="sig-param"><span class="pre">executable</span> <span class="pre">=</span> <span class="pre">&quot;/bin/sh&quot;</span></em>, <em class="sig-param"><span class="pre">shellarg</span> <span class="pre">=</span> <span class="pre">&quot;-c&quot;</span></em>, <em class="sig-param"><span class="pre">param</span> <span class="pre">locking</span> <span class="pre">=</span> <span class="pre">true</span></em><span class="sig-paren">)</span><span class="w"> </span><em class="property"> <span class="pre">throws</span></em><a class="headerlink" href="#Subprocess.spawnshell" title="Link to this definition">¶</a></dt>
<dd><p>Create a subprocess by invoking a shell.</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>Since the command string is passed to a shell, it is
very unsecure to pass user input to this command
without proper quoting.</p>
</div>
<dl class="field-list simple">
<dt class="field-odd">Arguments<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>command</strong> – A string representing the command to run.
This string will be interpreted by the shell.</p></li>
<li><p><strong>env</strong> – An array of strings storing the environment to use when
spawning the child process instead of forwarding the
current environment. By default, this argument
is an empty array. In that case,
the current environment will be forwarded to the child
process.</p></li>
<li><p><strong>stdin</strong> – indicates how the standard input of the child process
should be handled. It could be
<a class="reference internal" href="#Subprocess.pipeStyle.forward" title="Subprocess.pipeStyle.forward"><code class="xref chpl chpl-enumconstant docutils literal notranslate"><span class="pre">pipeStyle.forward</span></code></a>, <a class="reference internal" href="#Subprocess.pipeStyle.close" title="Subprocess.pipeStyle.close"><code class="xref chpl chpl-enumconstant docutils literal notranslate"><span class="pre">pipeStyle.close</span></code></a>,
<a class="reference internal" href="#Subprocess.pipeStyle.pipe" title="Subprocess.pipeStyle.pipe"><code class="xref chpl chpl-enumconstant docutils literal notranslate"><span class="pre">pipeStyle.pipe</span></code></a>, or a file descriptor number to use.
Defaults to <a class="reference internal" href="#Subprocess.pipeStyle.forward" title="Subprocess.pipeStyle.forward"><code class="xref chpl chpl-enumconstant docutils literal notranslate"><span class="pre">pipeStyle.forward</span></code></a>.</p></li>
<li><p><strong>stdout</strong> – indicates how the standard output of the child process
should be handled. It could be
<a class="reference internal" href="#Subprocess.pipeStyle.forward" title="Subprocess.pipeStyle.forward"><code class="xref chpl chpl-enumconstant docutils literal notranslate"><span class="pre">pipeStyle.forward</span></code></a>, <a class="reference internal" href="#Subprocess.pipeStyle.close" title="Subprocess.pipeStyle.close"><code class="xref chpl chpl-enumconstant docutils literal notranslate"><span class="pre">pipeStyle.close</span></code></a>,
<a class="reference internal" href="#Subprocess.pipeStyle.pipe" title="Subprocess.pipeStyle.pipe"><code class="xref chpl chpl-enumconstant docutils literal notranslate"><span class="pre">pipeStyle.pipe</span></code></a>, or a file descriptor number to use.
Defaults to <a class="reference internal" href="#Subprocess.pipeStyle.forward" title="Subprocess.pipeStyle.forward"><code class="xref chpl chpl-enumconstant docutils literal notranslate"><span class="pre">pipeStyle.forward</span></code></a>.</p></li>
<li><p><strong>stderr</strong> – indicates how the standard error of the child process
should be handled. It could be
<a class="reference internal" href="#Subprocess.pipeStyle.forward" title="Subprocess.pipeStyle.forward"><code class="xref chpl chpl-enumconstant docutils literal notranslate"><span class="pre">pipeStyle.forward</span></code></a>, <a class="reference internal" href="#Subprocess.pipeStyle.close" title="Subprocess.pipeStyle.close"><code class="xref chpl chpl-enumconstant docutils literal notranslate"><span class="pre">pipeStyle.close</span></code></a>,
<a class="reference internal" href="#Subprocess.pipeStyle.pipe" title="Subprocess.pipeStyle.pipe"><code class="xref chpl chpl-enumconstant docutils literal notranslate"><span class="pre">pipeStyle.pipe</span></code></a>, <a class="reference internal" href="#Subprocess.pipeStyle.stdout" title="Subprocess.pipeStyle.stdout"><code class="xref chpl chpl-enumconstant docutils literal notranslate"><span class="pre">pipeStyle.stdout</span></code></a>, or a file
descriptor number to use. Defaults to
<a class="reference internal" href="#Subprocess.pipeStyle.forward" title="Subprocess.pipeStyle.forward"><code class="xref chpl chpl-enumconstant docutils literal notranslate"><span class="pre">pipeStyle.forward</span></code></a>.</p></li>
<li><p><strong>executable</strong> – By default, the executable argument is “/bin/sh”.
That directs the subprocess to run the /bin/sh shell
in order to interpret the command string.</p></li>
<li><p><strong>shellarg</strong> – An argument to pass to the shell before
the command string. By default this is “-c”.</p></li>
<li><p><strong>locking</strong> – Should channels created use locking?
This argument is used to set <a class="reference internal" href="#Subprocess.subprocess.locking" title="Subprocess.subprocess.locking"><code class="xref chpl chpl-attr docutils literal notranslate"><span class="pre">subprocess.locking</span></code></a>
in the resulting subprocess. Defaults to <cite>true</cite>.</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>a <a class="reference internal" href="#Subprocess.subprocess" title="Subprocess.subprocess"><code class="xref chpl chpl-record docutils literal notranslate"><span class="pre">subprocess</span></code></a> locking set according to the arguments.</p>
</dd>
<dt class="field-odd">Throws<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>IllegalArgumentError</strong> – Thrown when <code class="docutils literal notranslate"><span class="pre">command</span></code> is an empty string.</p>
</dd>
</dl>
<p>Some errors at process creation may be deferred until later method calls
are made, see <a class="reference internal" href="#Subprocess.spawn" title="Subprocess.spawn"><code class="xref chpl chpl-proc docutils literal notranslate"><span class="pre">spawn</span></code></a> for these errors.</p>
</dd></dl>

<dl class="chpl method">
<dt class="sig sig-object chpl" id="Subprocess.subprocess.poll">
<em class="property"><span class="pre">proc</span> <span class="pre">ref</span> </em><span class="sig-prename descclassname"><span class="pre">subprocess.</span></span><span class="sig-name descname"><span class="pre">poll</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><span class="w"> </span><em class="property"> <span class="pre">throws</span></em><a class="headerlink" href="#Subprocess.subprocess.poll" title="Link to this definition">¶</a></dt>
<dd><p>Check to see if a child process has terminated.
If the child process has terminated, after this
call, <a class="reference internal" href="#Subprocess.subprocess.running" title="Subprocess.subprocess.running"><code class="xref chpl chpl-attr docutils literal notranslate"><span class="pre">running</span></code></a> will be <cite>false</cite>.</p>
<dl class="field-list simple">
<dt class="field-odd">Throws<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>InterruptedError</strong> – when the poll was interrupted by
a signal.</p></li>
<li><p><strong>SystemError</strong> – if something else has gone wrong when polling the
subprocess.</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="chpl method">
<dt class="sig sig-object chpl" id="Subprocess.subprocess.wait">
<em class="property"><span class="pre">proc</span> <span class="pre">ref</span> </em><span class="sig-prename descclassname"><span class="pre">subprocess.</span></span><span class="sig-name descname"><span class="pre">wait</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="pre">buffer</span> <span class="pre">=</span> <span class="pre">true</span></em><span class="sig-paren">)</span><span class="w"> </span><em class="property"> <span class="pre">throws</span></em><a class="headerlink" href="#Subprocess.subprocess.wait" title="Link to this definition">¶</a></dt>
<dd><p>Wait for a child process to complete. After this function
returns, <a class="reference internal" href="#Subprocess.subprocess.running" title="Subprocess.subprocess.running"><code class="xref chpl chpl-attr docutils literal notranslate"><span class="pre">running</span></code></a> is <cite>false</cite> and
<a class="reference internal" href="#Subprocess.subprocess.exitCode" title="Subprocess.subprocess.exitCode"><code class="xref chpl chpl-attr docutils literal notranslate"><span class="pre">exitCode</span></code></a> stores the exit code returned
by the subprocess.</p>
<p>If <cite>buffer</cite> is <cite>true</cite>, then this call will handle cases in which
stdin, stdout, or stderr for the child process is <a class="reference internal" href="#Subprocess.pipeStyle" title="Subprocess.pipeStyle"><code class="xref chpl chpl-type docutils literal notranslate"><span class="pre">pipeStyle</span></code></a>
<code class="docutils literal notranslate"><span class="pre">pipe</span></code> by writing any input to the child process and buffering up
the output of the child process as necessary while waiting for it
to terminate. It will do so in the same manner as
<a class="reference internal" href="#Subprocess.subprocess.communicate" title="Subprocess.subprocess.communicate"><code class="xref chpl chpl-proc docutils literal notranslate"><span class="pre">subprocess.communicate</span></code></a>.</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>Do not use <cite>buffer</cite> <cite>false</cite> when using <code class="docutils literal notranslate"><span class="pre">pipe</span></code> for stdin,
stdout, or stderr.  If <cite>buffer</cite> is <cite>false</cite>, this function does not
try to send any buffered input to the child process and so could result
in a hang if the child process is waiting for input to finish.
Similarly, this function does not consume the output from the child
process and so the child process could hang while waiting to write data
to its output while the parent process is waiting for it to complete
(and not consuming its output).</p>
</div>
<dl class="field-list simple">
<dt class="field-odd">Arguments<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>buffer</strong> – if <cite>true</cite>, buffer input and output pipes (see above).</p>
</dd>
<dt class="field-even">Throws<span class="colon">:</span></dt>
<dd class="field-even"><ul class="simple">
<li><p><strong>BlockingIoError</strong> – when there weren’t sufficient resources to perform
one of the required actions</p></li>
<li><p><strong>InterruptedError</strong> – when the call was interrupted in some way.</p></li>
<li><p><strong>BrokenPipeError</strong> – when a pipe for the subprocess closed early.</p></li>
<li><p><strong>SystemError</strong> – when invalid values were passed to the subprocess’s
stdin, or something else went wrong when
shutting down the subprocess.</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="chpl method">
<dt class="sig sig-object chpl" id="Subprocess.subprocess.communicate">
<em class="property"><span class="pre">proc</span> <span class="pre">ref</span> </em><span class="sig-prename descclassname"><span class="pre">subprocess.</span></span><span class="sig-name descname"><span class="pre">communicate</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><span class="w"> </span><em class="property"> <span class="pre">throws</span></em><a class="headerlink" href="#Subprocess.subprocess.communicate" title="Link to this definition">¶</a></dt>
<dd><p>Wait for a child process to complete. After this function
returns, <a class="reference internal" href="#Subprocess.subprocess.running" title="Subprocess.subprocess.running"><code class="xref chpl chpl-attr docutils literal notranslate"><span class="pre">running</span></code></a> is <cite>false</cite> and
<a class="reference internal" href="#Subprocess.subprocess.exitCode" title="Subprocess.subprocess.exitCode"><code class="xref chpl chpl-attr docutils literal notranslate"><span class="pre">exitCode</span></code></a> stores the exit code returned
by the subprocess.</p>
<p>This function handles cases in which stdin, stdout, or stderr
for the child process is <a class="reference internal" href="#Subprocess.pipeStyle.pipe" title="Subprocess.pipeStyle.pipe"><code class="xref chpl chpl-enumconstant docutils literal notranslate"><span class="pre">pipeStyle.pipe</span></code></a> by writing any
input to the child process and buffering up the output
of the child process as necessary while waiting for
it to terminate.</p>
<dl class="field-list simple">
<dt class="field-odd">Throws<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>BlockingIoError</strong> – when there weren’t sufficient resources to perform
one of the required actions</p></li>
<li><p><strong>InterruptedError</strong> – when the call was interrupted in some way.</p></li>
<li><p><strong>BrokenPipeError</strong> – when a pipe for the subprocess closed early.</p></li>
<li><p><strong>SystemError</strong> – when something went wrong when shutting down the
subprocess</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="chpl method">
<dt class="sig sig-object chpl" id="Subprocess.subprocess.close">
<em class="property"><span class="pre">proc</span> <span class="pre">ref</span> </em><span class="sig-prename descclassname"><span class="pre">subprocess.</span></span><span class="sig-name descname"><span class="pre">close</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><span class="w"> </span><em class="property"> <span class="pre">throws</span></em><a class="headerlink" href="#Subprocess.subprocess.close" title="Link to this definition">¶</a></dt>
<dd><p>Close any open channels and pipes for interacting with a subprocess.  This
function does not wait for the subprocess to complete.  Note that it is
generally not necessary to call this function since these channels will be
closed when the subprocess record goes out of scope.</p>
<dl class="field-list simple">
<dt class="field-odd">Throws<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>SystemError</strong> – If the subprocess’s stdin, stdout, or stderr were not
successfully closed.</p>
</dd>
</dl>
</dd></dl>

<dl class="chpl method">
<dt class="sig sig-object chpl" id="Subprocess.subprocess.sendPosixSignal">
<em class="property"><span class="pre">proc</span> </em><span class="sig-prename descclassname"><span class="pre">subprocess.</span></span><span class="sig-name descname"><span class="pre">sendPosixSignal</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="pre">signal:</span> <span class="pre">int</span></em><span class="sig-paren">)</span><span class="w"> </span><em class="property"> <span class="pre">throws</span></em><a class="headerlink" href="#Subprocess.subprocess.sendPosixSignal" title="Link to this definition">¶</a></dt>
<dd><p>Send a signal to a child process.</p>
<p>Declarations for POSIX.1.2008 signals are provided in the OS.POSIX module.
These include <cite>SIGABRT</cite>, <cite>SIGALRM</cite>, <cite>SIGBUS</cite>, <cite>SIGCHLD</cite>, <cite>SIGCONT</cite>,
<cite>SIGFPE</cite>, <cite>SIGHUP</cite>, <cite>SIGILL</cite>, <cite>SIGINT</cite>, <cite>SIGKILL</cite>, <cite>SIGPIPE</cite>, <cite>SIGQUIT</cite>,
<cite>SIGSEGV</cite>, <cite>SIGSTOP</cite>, <cite>SIGTERM</cite>, <cite>SIGTRAP</cite>, <cite>SIGTSTP</cite>, <cite>SIGTTIN</cite>,
<cite>SIGTTOU</cite>, <cite>SIGURG</cite>, <cite>SIGUSR1</cite>, <cite>SIGUSR2</cite>, <cite>SIGXCPU</cite>, <cite>SIGXFSZ</cite>.</p>
<p>See your system’s documentation for their meaning:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">man</span> <span class="n">signal</span>
</pre></div>
</div>
<p>Other values for <cite>signal</cite> are system-specific and can be declared in this
way, for example:</p>
<div class="highlight-chapel notranslate"><div class="highlight"><pre><span></span><span class="k">extern</span> <span class="kd">const</span> <span class="nx">SIGPOLL</span><span class="p">:</span> <span class="nx">c_int</span><span class="p">;</span>
</pre></div>
</div>
<dl class="field-list simple">
<dt class="field-odd">Arguments<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>signal</strong> – the signal to send</p>
</dd>
<dt class="field-even">Throws<span class="colon">:</span></dt>
<dd class="field-even"><ul class="simple">
<li><p><strong>PermissionError</strong> – If the program did not have permission to send that
signal to the target subprocess.</p></li>
<li><p><strong>IllegalArgumentError</strong> – If an invalid signal was specified.</p></li>
<li><p><strong>ProcessLookupError</strong> – If the subprocess’s pid or process group does
not exist.  This can also happen if the
subprocess is a zombie (a process that has
already committed termination but has not yet
been waited for).</p></li>
</ul>
</dd>
</dl>
<p>In addition, some errors that occurred when the process was created may be
thrown when this method is called, see the documentation for <a class="reference internal" href="#Subprocess.spawn" title="Subprocess.spawn"><code class="xref chpl chpl-proc docutils literal notranslate"><span class="pre">spawn</span></code></a>.</p>
</dd></dl>

<dl class="chpl method">
<dt class="sig sig-object chpl" id="Subprocess.subprocess.abort">
<em class="property"><span class="pre">proc</span> </em><span class="sig-prename descclassname"><span class="pre">subprocess.</span></span><span class="sig-name descname"><span class="pre">abort</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><span class="w"> </span><em class="property"> <span class="pre">throws</span></em><a class="headerlink" href="#Subprocess.subprocess.abort" title="Link to this definition">¶</a></dt>
<dd><p>Request an abnormal termination of the child process.  The
associated signal, <cite>SIGABRT</cite>, may be caught and handled by
the child process. See <a class="reference internal" href="#Subprocess.subprocess.sendPosixSignal" title="Subprocess.subprocess.sendPosixSignal"><code class="xref chpl chpl-proc docutils literal notranslate"><span class="pre">subprocess.sendPosixSignal</span></code></a> for details,
including what errors can be thrown.</p>
</dd></dl>

<dl class="chpl method">
<dt class="sig sig-object chpl" id="Subprocess.subprocess.alarm">
<em class="property"><span class="pre">proc</span> </em><span class="sig-prename descclassname"><span class="pre">subprocess.</span></span><span class="sig-name descname"><span class="pre">alarm</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><span class="w"> </span><em class="property"> <span class="pre">throws</span></em><a class="headerlink" href="#Subprocess.subprocess.alarm" title="Link to this definition">¶</a></dt>
<dd><p>Send the child process an alarm signal. The associated signal,
<cite>SIGALRM</cite>, may be caught and handled by the child process. See
<a class="reference internal" href="#Subprocess.subprocess.sendPosixSignal" title="Subprocess.subprocess.sendPosixSignal"><code class="xref chpl chpl-proc docutils literal notranslate"><span class="pre">subprocess.sendPosixSignal</span></code></a> for details, including what errors can
be thrown.</p>
</dd></dl>

<dl class="chpl method">
<dt class="sig sig-object chpl" id="Subprocess.subprocess.kill">
<em class="property"><span class="pre">proc</span> </em><span class="sig-prename descclassname"><span class="pre">subprocess.</span></span><span class="sig-name descname"><span class="pre">kill</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><span class="w"> </span><em class="property"> <span class="pre">throws</span></em><a class="headerlink" href="#Subprocess.subprocess.kill" title="Link to this definition">¶</a></dt>
<dd><p>Unconditionally kill the child process.  The associated signal,
<cite>SIGKILL</cite>, cannot be caught by the child process. See
<a class="reference internal" href="#Subprocess.subprocess.sendPosixSignal" title="Subprocess.subprocess.sendPosixSignal"><code class="xref chpl chpl-proc docutils literal notranslate"><span class="pre">subprocess.sendPosixSignal</span></code></a> for details, including what errors can be
thrown.</p>
</dd></dl>

<dl class="chpl method">
<dt class="sig sig-object chpl" id="Subprocess.subprocess.terminate">
<em class="property"><span class="pre">proc</span> </em><span class="sig-prename descclassname"><span class="pre">subprocess.</span></span><span class="sig-name descname"><span class="pre">terminate</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><span class="w"> </span><em class="property"> <span class="pre">throws</span></em><a class="headerlink" href="#Subprocess.subprocess.terminate" title="Link to this definition">¶</a></dt>
<dd><p>Request termination of the child process.  The associated signal,
<cite>SIGTERM</cite>, may be caught and handled by the child process. See
<a class="reference internal" href="#Subprocess.subprocess.sendPosixSignal" title="Subprocess.subprocess.sendPosixSignal"><code class="xref chpl chpl-proc docutils literal notranslate"><span class="pre">subprocess.sendPosixSignal</span></code></a> for details, including what errors can be
thrown.</p>
</dd></dl>

</section>
</section>


           </div>
          </div>
          <footer><div class="rst-footer-buttons" role="navigation" aria-label="Footer">
        <a href="OS/POSIX.html" class="btn btn-neutral float-left" title="POSIX" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left" aria-hidden="true"></span> Previous</a>
        <a href="ChplConfig.html" class="btn btn-neutral float-right" title="ChplConfig" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right" aria-hidden="true"></span></a>
    </div>

  <hr/>

  <div role="contentinfo">
    <p>&#169; Copyright 2024, Hewlett Packard Enterprise Development LP.</p>
  </div>

   

</footer>
        </div>
      </div>
    </section>
  </div>
  <script>
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script>
 



</body>
</html>