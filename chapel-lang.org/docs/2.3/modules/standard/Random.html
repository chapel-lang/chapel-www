<!DOCTYPE html>
<html class="writer-html5" lang="en" data-content_root="../../">
<head>
  <meta charset="utf-8" /><meta name="viewport" content="width=device-width, initial-scale=1" />

  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Random &mdash; Chapel Documentation 2.3</title>
      <link rel="stylesheet" type="text/css" href="../../_static/pygments.css?v=80d5e7a1" />
      <link rel="stylesheet" type="text/css" href="../../_static/css/theme.css?v=19f00094" />
      <link rel="stylesheet" type="text/css" href="../../_static/style.css?v=70f659a1" />

  
    <link rel="shortcut icon" href="../../_static/favicon.ico"/>
  <!--[if lt IE 9]>
    <script src="../../_static/js/html5shiv.min.js"></script>
  <![endif]-->
  
        <script src="../../_static/jquery.js?v=5d32c60e"></script>
        <script src="../../_static/_sphinx_javascript_frameworks_compat.js?v=2cd50e6c"></script>
        <script src="../../_static/documentation_options.js?v=c3c8ae58"></script>
        <script src="../../_static/doctools.js?v=888ff710"></script>
        <script src="../../_static/sphinx_highlight.js?v=dc90522c"></script>
    <script src="../../_static/js/theme.js"></script>
    <link rel="index" title="Index" href="../../genindex.html" />
    <link rel="search" title="Search" href="../../search.html" />
    <link rel="next" title="PCGRandomLib" href="Random/PCGRandomLib.html" />
    <link rel="prev" title="GMP" href="GMP.html" />
   
  

</head>

<body class="wy-body-for-nav"> 
  <div class="wy-grid-for-nav">
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >

<a href="../../index.html" class="icon icon-home"> Chapel Documentation

<!-- display version if button won't be rendered -->
<?php if (false) { ?>
<br>2.3
<?php } ?>

</a>

<?php
// Variables given by sphinx
$chplTitle = "2.3";
$pagename = "modules/standard/Random";
include "../..//versionButton.php";
?>


<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" aria-label="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>


        </div><div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="Navigation menu">
  
              <p class="caption" role="heading"><span class="caption-text">Compiling and Running Chapel</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../usingchapel/QUICKSTART.html">Quickstart Instructions</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../usingchapel/index.html">Using Chapel</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../platforms/index.html">Platform-Specific Notes</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../technotes/index.html">Technical Notes</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../tools/index.html">Tools</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../developer/index.html">Docs for Contributors</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Writing Chapel Programs</span></p>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../../language/reference.html">Quick Reference</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../examples/index.html">Hello World Variants</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../primers/index.html">Primers</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../language/spec/index.html">Language Specification</a></li>
<li class="toctree-l1 current"><a class="reference internal" href="../standard.html">Standard Modules</a><ul class="current">
<li class="toctree-l2"><a class="reference internal" href="../standard.html#automatic-modules">Automatic Modules</a></li>
<li class="toctree-l2"><a class="reference internal" href="../standard.html#algorithms">Algorithms</a></li>
<li class="toctree-l2"><a class="reference internal" href="../standard.html#data-structures">Data Structures</a></li>
<li class="toctree-l2"><a class="reference internal" href="../standard.html#diagnostics">Diagnostics</a></li>
<li class="toctree-l2"><a class="reference internal" href="../standard.html#files-io">Files/IO</a></li>
<li class="toctree-l2"><a class="reference internal" href="../standard.html#language-support">Language Support</a></li>
<li class="toctree-l2 current"><a class="reference internal" href="../standard.html#math-numerical">Math/Numerical</a><ul class="current">
<li class="toctree-l3"><a class="reference internal" href="BigInteger.html">BigInteger</a></li>
<li class="toctree-l3"><a class="reference internal" href="BitOps.html">BitOps</a></li>
<li class="toctree-l3"><a class="reference internal" href="GMP.html">GMP</a></li>
<li class="toctree-l3"><a class="reference internal" href="Math.html">Math</a></li>
<li class="toctree-l3 current"><a class="current reference internal" href="#">Random</a><ul>
<li class="toctree-l4"><a class="reference internal" href="Random/PCGRandomLib.html">PCGRandomLib</a></li>
<li class="toctree-l4"><a class="reference internal" href="#seed-generation">Seed Generation</a></li>
<li class="toctree-l4"><a class="reference internal" href="#future-work">Future Work</a></li>
<li class="toctree-l4"><a class="reference internal" href="#random-procedures-and-types">Random Procedures and Types</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../standard.html#parallelism-distributed-computing">Parallelism/Distributed Computing</a></li>
<li class="toctree-l2"><a class="reference internal" href="../standard.html#system-interoperability">System/Interoperability</a></li>
<li class="toctree-l2"><a class="reference internal" href="../standard.html#utilities">Utilities</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../packages.html">Package Modules</a></li>
<li class="toctree-l1"><a class="reference internal" href="../layoutdist.html">Standard Layouts and Distributions</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../mason-packages/index.html">Mason Packages</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../users-guide/index.html">Chapel Users Guide (WIP)</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Language History</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../language/evolution.html">Chapel Evolution</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../language/archivedSpecs.html">Documentation Archives</a></li>
</ul>

  <p class="caption" role="heading"><span class="caption-text">Indexes</span></p>
  <ul>
    <li class="toctree-11"><a class="reference internal" href="../../chpl-modindex.html">Chapel Module Index</a></li>
    <li class="toctree-11"><a class="reference internal" href="../../genindex.html">Complete Docs Index</a></li>
  </ul>

        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap"><nav class="wy-nav-top" aria-label="Mobile navigation menu" >
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../../index.html">Chapel Documentation</a>
      </nav>

      <div class="wy-nav-content">
        <div class="rst-content">
          <div role="navigation" aria-label="Page navigation">
  <ul class="wy-breadcrumbs">
      <li><a href="../../index.html" class="icon icon-home" aria-label="Home"></a></li>
          <li class="breadcrumb-item"><a href="../standard.html">Standard Modules</a></li>
      <li class="breadcrumb-item active">Random</li>
      <li class="wy-breadcrumbs-aside">
            <a href="../../_sources/modules/standard/Random.rst.txt" rel="nofollow"> View page source</a>
      </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
             
  <section id="random">
<span id="module-Random"></span><h1>Random<a class="headerlink" href="#random" title="Link to this heading">¶</a></h1>
<p><strong>Usage</strong></p>
<div class="highlight-chapel notranslate"><div class="highlight"><pre><span></span><span class="k">use</span> <span class="nx">Random</span><span class="p">;</span>
</pre></div>
</div>
<p>or</p>
<div class="highlight-chapel notranslate"><div class="highlight"><pre><span></span><span class="k">import</span> <span class="nx">Random</span><span class="p">;</span>
</pre></div>
</div>
<p><strong>Submodules</strong></p>
<div class="toctree-wrapper compound">
<ul>
<li class="toctree-l1"><a class="reference internal" href="Random/PCGRandomLib.html">PCGRandomLib</a></li>
</ul>
</div>
<p>Support for pseudorandom number generation.</p>
<p>This module provides the <a class="reference internal" href="#Random.randomStream" title="Random.randomStream"><code class="xref chpl chpl-record docutils literal notranslate"><span class="pre">randomStream</span></code></a> type that represents a
conceptual stream of random numbers of a particular scalar type. Individual
numbers can be generated with <a class="reference internal" href="#Random.randomStream.next" title="Random.randomStream.next"><code class="xref chpl chpl-proc docutils literal notranslate"><span class="pre">randomStream.next</span></code></a>, or an iterable
sequence of numbers can be generated by providing a domain argument to
<code class="docutils literal notranslate"><span class="pre">next</span></code>. The stream’s position in its sequence can be updated with
<a class="reference internal" href="#Random.randomStream.skipTo" title="Random.randomStream.skipTo"><code class="xref chpl chpl-proc docutils literal notranslate"><span class="pre">randomStream.skipTo</span></code></a>. Additionally, there are several methods for
generating random numbers from arrays, domains, and ranges.</p>
<p>This module also contains a few top-level procedures for doing common tasks
with pseudorandom numbers:</p>
<ul class="simple">
<li><p><a class="reference internal" href="#Random.fillRandom" title="Random.fillRandom"><code class="xref chpl chpl-proc docutils literal notranslate"><span class="pre">fillRandom</span></code></a> fills an array with random numbers in parallel</p></li>
<li><p><a class="reference internal" href="#Random.shuffle" title="Random.shuffle"><code class="xref chpl chpl-proc docutils literal notranslate"><span class="pre">shuffle</span></code></a> randomly re-arranges the elements of an array</p></li>
<li><p><a class="reference internal" href="#Random.permute" title="Random.permute"><code class="xref chpl chpl-proc docutils literal notranslate"><span class="pre">permute</span></code></a> create a random permutation of an array, domain, or range</p></li>
<li><p><a class="reference internal" href="#Random.choose" title="Random.choose"><code class="xref chpl chpl-proc docutils literal notranslate"><span class="pre">choose</span></code></a> randomly selects an element from an array, domain, or range</p></li>
<li><p><a class="reference internal" href="#Random.sample" title="Random.sample"><code class="xref chpl chpl-proc docutils literal notranslate"><span class="pre">sample</span></code></a> randomly samples elements from an array, domain, or range</p></li>
</ul>
<p>These procedures will create a temporary <code class="docutils literal notranslate"><span class="pre">randomStream</span></code> and then call the
corresponding method on it. For repeated use of one or more of the above
operations, it is recommended to create a :record:<code class="docutils literal notranslate"><span class="pre">randomStream</span></code> and call
the relevant method on it repeatedly.</p>
<section id="seed-generation">
<h2>Seed Generation<a class="headerlink" href="#seed-generation" title="Link to this heading">¶</a></h2>
<p>The <a class="reference internal" href="#Random.randomStream" title="Random.randomStream"><code class="xref chpl chpl-record docutils literal notranslate"><span class="pre">randomStream</span></code></a> type can be initialized with a seed value. Any
two <code class="docutils literal notranslate"><span class="pre">randomStream</span></code>’s initialized with the same seed value will produce
identical sequences of random numbers.</p>
<p>When not provided explicitly, a seed value will be generated in an
implementation specific manner which is designed to minimize the chance
that two distinct <code class="docutils literal notranslate"><span class="pre">randomStream</span></code>’s will have the same seed.</p>
</section>
<section id="future-work">
<h2>Future Work<a class="headerlink" href="#future-work" title="Link to this heading">¶</a></h2>
<p>In a future release, we intend to use Chapel’s interface features to
define one or more interfaces for random streams. At that point, the
<a class="reference internal" href="#Random.randomStream" title="Random.randomStream"><code class="xref chpl chpl-record docutils literal notranslate"><span class="pre">randomStream</span></code></a> type will be an implementation of the interface(s)
for generating a seedable stream of random numbers.</p>
<p>We’d also like to experiment with adding a thread-safe and type-agnostic
random number generator that can be used as a “global” random number
generator.</p>
</section>
<section id="random-procedures-and-types">
<h2>Random Procedures and Types<a class="headerlink" href="#random-procedures-and-types" title="Link to this heading">¶</a></h2>
<dl class="chpl function">
<dt class="sig sig-object chpl" id="Random.fillRandom">
<em class="property"><span class="pre">proc</span> </em><span class="sig-name descname"><span class="pre">fillRandom</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="pre">ref</span> <span class="pre">arr:</span> <span class="pre">[]</span> <span class="pre">?t</span></em>, <em class="sig-param"><span class="pre">seed:</span> <span class="pre">int</span></em><span class="sig-paren">)</span><em class="property">&#160; <span class="pre">where</span> <span class="pre">isNumericOrBoolType(t)</span> <span class="pre">&amp;&amp;</span> <span class="pre">arr.isRectangular()</span></em><a class="headerlink" href="#Random.fillRandom" title="Link to this definition">¶</a></dt>
<dd><p>Fill a rectangular array of numeric values with pseudorandom values in
parallel using a new <a class="reference internal" href="#Random.randomStream" title="Random.randomStream"><code class="xref chpl chpl-record docutils literal notranslate"><span class="pre">randomStream</span></code></a>. The first <cite>arr.size</cite> values
from the stream will be assigned to the array’s elements in row-major
order. The parallelization strategy is determined by the array.</p>
<dl class="field-list simple">
<dt class="field-odd">Arguments<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>arr</strong> – An array of numeric values</p></li>
<li><p><strong>seed</strong> – The seed to use to create the <code class="docutils literal notranslate"><span class="pre">randomStream</span></code></p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="chpl function">
<dt class="sig sig-object chpl">
<em class="property"><span class="pre">proc</span> </em><span class="sig-name descname"><span class="pre">fillRandom</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="pre">ref</span> <span class="pre">arr:</span> <span class="pre">[]</span> <span class="pre">?t</span></em><span class="sig-paren">)</span><em class="property">&#160; <span class="pre">where</span> <span class="pre">isNumericOrBoolType(t)</span> <span class="pre">&amp;&amp;</span> <span class="pre">arr.isRectangular()</span></em></dt>
<dd><p>Fill a rectangular array of numeric values with pseudorandom values in
parallel using a new <a class="reference internal" href="#Random.randomStream" title="Random.randomStream"><code class="xref chpl chpl-record docutils literal notranslate"><span class="pre">randomStream</span></code></a>. The first <cite>arr.size</cite> values
from the stream will be assigned to the array’s elements in row-major
order. The parallelization strategy is determined by the array.</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>a seed will be generated in an implementation specific manner
that depends on the current time.</p>
</div>
<dl class="field-list simple">
<dt class="field-odd">Arguments<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>arr</strong> – An array of numeric values</p>
</dd>
</dl>
</dd></dl>

<dl class="chpl function">
<dt class="sig sig-object chpl">
<em class="property"><span class="pre">proc</span> </em><span class="sig-name descname"><span class="pre">fillRandom</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="pre">ref</span> <span class="pre">arr:</span> <span class="pre">[]</span> <span class="pre">?t</span></em>, <em class="sig-param"><span class="pre">min:</span> <span class="pre">t</span></em>, <em class="sig-param"><span class="pre">max:</span> <span class="pre">t</span></em>, <em class="sig-param"><span class="pre">seed:</span> <span class="pre">int</span></em><span class="sig-paren">)</span><em class="property">&#160; <span class="pre">where</span> <span class="pre">isNumericOrBoolType(t)</span> <span class="pre">&amp;&amp;</span> <span class="pre">arr.isRectangular()</span></em></dt>
<dd><p>Fill a rectangular array of numeric values with pseudorandom values in
the range [<code class="docutils literal notranslate"><span class="pre">min</span></code>, <code class="docutils literal notranslate"><span class="pre">max</span></code>] (inclusive) in parallel using a new
<a class="reference internal" href="#Random.randomStream" title="Random.randomStream"><code class="xref chpl chpl-record docutils literal notranslate"><span class="pre">randomStream</span></code></a>. The first <cite>arr.size</cite> values from the stream
will be assigned to the array’s elements in row-major order. The
parallelization strategy is determined by the array.</p>
<dl class="field-list simple">
<dt class="field-odd">Arguments<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>arr</strong> – An array of numeric values</p></li>
<li><p><strong>min</strong> – The (inclusive) lower bound for the random values</p></li>
<li><p><strong>max</strong> – The (inclusive) upper bound for the random values</p></li>
<li><p><strong>seed</strong> – The seed to use to create the <code class="docutils literal notranslate"><span class="pre">randomStream</span></code></p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="chpl function">
<dt class="sig sig-object chpl">
<em class="property"><span class="pre">proc</span> </em><span class="sig-name descname"><span class="pre">fillRandom</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="pre">ref</span> <span class="pre">arr:</span> <span class="pre">[]</span> <span class="pre">?t</span></em>, <em class="sig-param"><span class="pre">min:</span> <span class="pre">t</span></em>, <em class="sig-param"><span class="pre">max:</span> <span class="pre">t</span></em><span class="sig-paren">)</span><em class="property">&#160; <span class="pre">where</span> <span class="pre">isNumericOrBoolType(t)</span> <span class="pre">&amp;&amp;</span> <span class="pre">arr.isRectangular()</span></em></dt>
<dd><p>Fill a rectangular array of numeric values with pseudorandom values in
the range [<code class="docutils literal notranslate"><span class="pre">min</span></code>, <code class="docutils literal notranslate"><span class="pre">max</span></code>] (inclusive) in parallel using a new
<a class="reference internal" href="#Random.randomStream" title="Random.randomStream"><code class="xref chpl chpl-record docutils literal notranslate"><span class="pre">randomStream</span></code></a>. The first <cite>arr.size</cite> values from the stream
will be assigned to the array’s elements in row-major order. The
parallelization strategy is determined by the array.</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>a seed will be generated in an implementation specific manner
that depends on the current time.</p>
</div>
<dl class="field-list simple">
<dt class="field-odd">Arguments<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>arr</strong> – An array of numeric values</p></li>
<li><p><strong>min</strong> – The (inclusive) lower bound for the random values</p></li>
<li><p><strong>max</strong> – The (inclusive) upper bound for the random values</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="chpl function">
<dt class="sig sig-object chpl" id="Random.shuffle">
<em class="property"><span class="pre">proc</span> </em><span class="sig-name descname"><span class="pre">shuffle</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="pre">ref</span> <span class="pre">arr:</span> <span class="pre">[?d],</span> <span class="pre">seed:</span> <span class="pre">int</span></em><span class="sig-paren">)</span><em class="property">&#160; <span class="pre">where</span> <span class="pre">d.isRectangular()</span></em><a class="headerlink" href="#Random.shuffle" title="Link to this definition">¶</a></dt>
<dd><p>Use a new <a class="reference internal" href="#Random.randomStream" title="Random.randomStream"><code class="xref chpl chpl-record docutils literal notranslate"><span class="pre">randomStream</span></code></a> to shuffle an array in place.</p>
<dl class="field-list simple">
<dt class="field-odd">Arguments<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>arr</strong> – A rectangular array to shuffle</p></li>
<li><p><strong>seed</strong> – The seed to initialize a <code class="docutils literal notranslate"><span class="pre">randomStream</span></code> with</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="chpl function">
<dt class="sig sig-object chpl">
<em class="property"><span class="pre">proc</span> </em><span class="sig-name descname"><span class="pre">shuffle</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="pre">ref</span> <span class="pre">arr:</span> <span class="pre">[?d]</span></em><span class="sig-paren">)</span><em class="property">&#160; <span class="pre">where</span> <span class="pre">d.isRectangular()</span></em></dt>
<dd><p>Use a new <a class="reference internal" href="#Random.randomStream" title="Random.randomStream"><code class="xref chpl chpl-record docutils literal notranslate"><span class="pre">randomStream</span></code></a> to shuffle an array in place.</p>
<dl class="field-list simple">
<dt class="field-odd">Arguments<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>arr</strong> – A rectangular array to shuffle</p>
</dd>
</dl>
</dd></dl>

<dl class="chpl function">
<dt class="sig sig-object chpl" id="Random.permute">
<em class="property"><span class="pre">proc</span> </em><span class="sig-name descname"><span class="pre">permute</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="pre">const</span> <span class="pre">ref</span> <span class="pre">arr:</span> <span class="pre">[?d]</span> <span class="pre">?t</span></em>, <em class="sig-param"><span class="pre">seed:</span> <span class="pre">int</span></em><span class="sig-paren">)</span><em class="property"> <span class="pre">:</span> <span class="pre">[]</span> <span class="pre">t</span></em><em class="property">&#160; <span class="pre">where</span> <span class="pre">d.isRectangular()</span></em><a class="headerlink" href="#Random.permute" title="Link to this definition">¶</a></dt>
<dd><p>Produce a random permutation of an array’s elements</p>
<dl class="field-list simple">
<dt class="field-odd">Arguments<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>arr</strong> – A rectangular array</p></li>
<li><p><strong>seed</strong> – The seed to use when creating the <code class="docutils literal notranslate"><span class="pre">randomStream</span></code></p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>A new array containing each of the values from <code class="docutils literal notranslate"><span class="pre">arr</span></code> in a
pseudo-random order.</p>
</dd>
</dl>
</dd></dl>

<dl class="chpl function">
<dt class="sig sig-object chpl">
<em class="property"><span class="pre">proc</span> </em><span class="sig-name descname"><span class="pre">permute</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="pre">const</span> <span class="pre">ref</span> <span class="pre">arr:</span> <span class="pre">[?d]</span> <span class="pre">?t</span></em><span class="sig-paren">)</span><em class="property"> <span class="pre">:</span> <span class="pre">[]</span> <span class="pre">t</span></em><em class="property">&#160; <span class="pre">where</span> <span class="pre">d.isRectangular()</span></em></dt>
<dd><p>Produce a random permutation of an array’s elements</p>
<dl class="field-list simple">
<dt class="field-odd">Arguments<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>arr</strong> – A rectangular array</p>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>A new array containing each of the values from <code class="docutils literal notranslate"><span class="pre">arr</span></code> in a
pseudo-random order.</p>
</dd>
</dl>
</dd></dl>

<dl class="chpl function">
<dt class="sig sig-object chpl">
<em class="property"><span class="pre">proc</span> </em><span class="sig-name descname"><span class="pre">permute</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="pre">d:</span> <span class="pre">domain(?)</span></em>, <em class="sig-param"><span class="pre">seed:</span> <span class="pre">int</span></em><span class="sig-paren">)</span><em class="property"> <span class="pre">:</span> <span class="pre">[]</span> <span class="pre">d.fullIdxType</span></em><em class="property">&#160; <span class="pre">where</span> <span class="pre">d.isRectangular()</span></em></dt>
<dd><p>Produce a random permutation of the indices in a domain.</p>
<dl class="field-list simple">
<dt class="field-odd">Arguments<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>d</strong> – A rectangular domain</p></li>
<li><p><strong>seed</strong> – The seed to use when creating the <code class="docutils literal notranslate"><span class="pre">randomStream</span></code></p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>An array containing each of the indices from <code class="docutils literal notranslate"><span class="pre">d</span></code> in a
pseudo-random order.</p>
</dd>
</dl>
</dd></dl>

<dl class="chpl function">
<dt class="sig sig-object chpl">
<em class="property"><span class="pre">proc</span> </em><span class="sig-name descname"><span class="pre">permute</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="pre">d:</span> <span class="pre">domain(?)</span></em><span class="sig-paren">)</span><em class="property"> <span class="pre">:</span> <span class="pre">[]</span> <span class="pre">d.fullIdxType</span></em><em class="property">&#160; <span class="pre">where</span> <span class="pre">d.isRectangular()</span></em></dt>
<dd><p>Produce a random permutation of the indices in a domain.</p>
<dl class="field-list simple">
<dt class="field-odd">Arguments<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>d</strong> – A rectangular domain</p>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>An array containing each of the indices from <code class="docutils literal notranslate"><span class="pre">d</span></code> in a
pseudo-random order.</p>
</dd>
</dl>
</dd></dl>

<dl class="chpl function">
<dt class="sig sig-object chpl">
<em class="property"><span class="pre">proc</span> </em><span class="sig-name descname"><span class="pre">permute</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="pre">r:</span> <span class="pre">range(bounds</span> <span class="pre">=</span> <span class="pre">boundKind.both</span></em>, <em class="sig-param"><span class="pre">?)</span></em>, <em class="sig-param"><span class="pre">seed:</span> <span class="pre">int</span></em><span class="sig-paren">)</span><em class="property"> <span class="pre">:</span> <span class="pre">[]</span> <span class="pre">r.idxType</span></em></dt>
<dd><p>Produce a random permutation of the values in a range.</p>
<dl class="field-list simple">
<dt class="field-odd">Arguments<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>r</strong> – A fully bounded range</p></li>
<li><p><strong>seed</strong> – The seed to use when creating the <code class="docutils literal notranslate"><span class="pre">randomStream</span></code></p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>An array containing each of the values from <code class="docutils literal notranslate"><span class="pre">r</span></code> in a
pseudo-random order.</p>
</dd>
</dl>
</dd></dl>

<dl class="chpl function">
<dt class="sig sig-object chpl">
<em class="property"><span class="pre">proc</span> </em><span class="sig-name descname"><span class="pre">permute</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="pre">r:</span> <span class="pre">range(bounds</span> <span class="pre">=</span> <span class="pre">boundKind.both</span></em>, <em class="sig-param"><span class="pre">?)</span></em><span class="sig-paren">)</span><em class="property"> <span class="pre">:</span> <span class="pre">[]</span> <span class="pre">r.idxType</span></em></dt>
<dd><p>Produce a random permutation of the values in a range.</p>
<dl class="field-list simple">
<dt class="field-odd">Arguments<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>r</strong> – A fully bounded range</p>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>An array containing each of the values from <code class="docutils literal notranslate"><span class="pre">r</span></code> in a
pseudo-random order.</p>
</dd>
</dl>
</dd></dl>

<dl class="chpl function">
<dt class="sig sig-object chpl" id="Random.choose">
<em class="property"><span class="pre">proc</span> </em><span class="sig-name descname"><span class="pre">choose</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="pre">const</span> <span class="pre">ref</span> <span class="pre">arr:</span> <span class="pre">[?d]</span> <span class="pre">?t</span></em><span class="sig-paren">)</span><em class="property"> <span class="pre">:</span> <span class="pre">t</span></em><em class="property">&#160; <span class="pre">where</span> <span class="pre">d.isRectangular()</span></em><a class="headerlink" href="#Random.choose" title="Link to this definition">¶</a></dt>
<dd><p>Choose a random element from an array.</p>
<dl class="field-list simple">
<dt class="field-odd">Arguments<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>arr</strong> – The rectangular array to choose from</p>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>A random element from the array</p>
</dd>
</dl>
</dd></dl>

<dl class="chpl function">
<dt class="sig sig-object chpl">
<em class="property"><span class="pre">proc</span> </em><span class="sig-name descname"><span class="pre">choose</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="pre">const</span> <span class="pre">ref</span> <span class="pre">arr:</span> <span class="pre">[?d]</span> <span class="pre">?t</span></em>, <em class="sig-param"><span class="pre">seed:</span> <span class="pre">int</span></em><span class="sig-paren">)</span><em class="property"> <span class="pre">:</span> <span class="pre">t</span></em><em class="property">&#160; <span class="pre">where</span> <span class="pre">d.isRectangular()</span></em></dt>
<dd><p>Choose a random element from an array.</p>
<dl class="field-list simple">
<dt class="field-odd">Arguments<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>arr</strong> – The rectangular array to choose from</p></li>
<li><p><strong>seed</strong> – The seed to use when creating the <code class="docutils literal notranslate"><span class="pre">randomStream</span></code></p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>A random element from the array</p>
</dd>
</dl>
</dd></dl>

<dl class="chpl function">
<dt class="sig sig-object chpl">
<em class="property"><span class="pre">proc</span> </em><span class="sig-name descname"><span class="pre">choose</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="pre">d:</span> <span class="pre">domain(?)</span></em><span class="sig-paren">)</span><em class="property"> <span class="pre">:</span> <span class="pre">d.fullIdxType</span></em><em class="property">&#160; <span class="pre">where</span> <span class="pre">d.isRectangular()</span></em></dt>
<dd><p>Choose a random index from a domain.</p>
<dl class="field-list simple">
<dt class="field-odd">Arguments<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>d</strong> – The rectangular domain to choose from</p>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>A random index from the domain</p>
</dd>
</dl>
</dd></dl>

<dl class="chpl function">
<dt class="sig sig-object chpl">
<em class="property"><span class="pre">proc</span> </em><span class="sig-name descname"><span class="pre">choose</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="pre">d:</span> <span class="pre">domain(?)</span></em>, <em class="sig-param"><span class="pre">seed:</span> <span class="pre">int</span></em><span class="sig-paren">)</span><em class="property"> <span class="pre">:</span> <span class="pre">d.fullIdxType</span></em><em class="property">&#160; <span class="pre">where</span> <span class="pre">d.isRectangular()</span></em></dt>
<dd><p>Choose a random index from a domain.</p>
<dl class="field-list simple">
<dt class="field-odd">Arguments<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>d</strong> – The rectangular domain to choose from</p></li>
<li><p><strong>seed</strong> – The seed to use when creating the <code class="docutils literal notranslate"><span class="pre">randomStream</span></code></p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>A random index from the domain</p>
</dd>
</dl>
</dd></dl>

<dl class="chpl function">
<dt class="sig sig-object chpl">
<em class="property"><span class="pre">proc</span> </em><span class="sig-name descname"><span class="pre">choose</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="pre">r:</span> <span class="pre">range(bounds</span> <span class="pre">=</span> <span class="pre">boundKind.both</span></em>, <em class="sig-param"><span class="pre">?)</span></em><span class="sig-paren">)</span><em class="property"> <span class="pre">:</span> <span class="pre">r.idxType</span></em></dt>
<dd><p>Choose a random value from a range.</p>
<dl class="field-list simple">
<dt class="field-odd">Arguments<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>r</strong> – A fully bounded range to choose from</p>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>A random value from the range</p>
</dd>
</dl>
</dd></dl>

<dl class="chpl function">
<dt class="sig sig-object chpl">
<em class="property"><span class="pre">proc</span> </em><span class="sig-name descname"><span class="pre">choose</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="pre">r:</span> <span class="pre">range(bounds</span> <span class="pre">=</span> <span class="pre">boundKind.both</span></em>, <em class="sig-param"><span class="pre">?)</span></em>, <em class="sig-param"><span class="pre">seed:</span> <span class="pre">int</span></em><span class="sig-paren">)</span><em class="property"> <span class="pre">:</span> <span class="pre">r.idxType</span></em></dt>
<dd><p>Choose a random value from a range.</p>
<dl class="field-list simple">
<dt class="field-odd">Arguments<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>r</strong> – A fully bounded range to choose from</p></li>
<li><p><strong>seed</strong> – The seed to use when creating the <code class="docutils literal notranslate"><span class="pre">randomStream</span></code></p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>A random value from the range</p>
</dd>
</dl>
</dd></dl>

<dl class="chpl function">
<dt class="sig sig-object chpl" id="Random.sample">
<em class="property"><span class="pre">proc</span> </em><span class="sig-name descname"><span class="pre">sample</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="pre">const</span> <span class="pre">ref</span> <span class="pre">arr:</span> <span class="pre">[?d]</span> <span class="pre">?t</span></em>, <em class="sig-param"><span class="pre">n:</span> <span class="pre">int</span></em>, <em class="sig-param"><span class="pre">withReplacement</span> <span class="pre">=</span> <span class="pre">false</span></em><span class="sig-paren">)</span><em class="property"> <span class="pre">:</span> <span class="pre">[]</span> <span class="pre">t</span> <span class="pre">throws</span></em><em class="property">&#160; <span class="pre">where</span> <span class="pre">d.isRectangular()</span></em><a class="headerlink" href="#Random.sample" title="Link to this definition">¶</a></dt>
<dd><p>Randomly sample <code class="docutils literal notranslate"><span class="pre">n</span></code> elements from an array.</p>
<dl class="field-list simple">
<dt class="field-odd">Arguments<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>arr</strong> – The rectangular array to sample from</p></li>
<li><p><strong>n</strong> – The number of elements to sample</p></li>
<li><p><strong>withReplacement</strong> – Whether or not to sample with replacement</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>A zero-based 1D array of <code class="docutils literal notranslate"><span class="pre">n</span></code> random elements sampled from the array</p>
</dd>
<dt class="field-odd">Throws<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>IllegalArgumentError</strong> – If <code class="docutils literal notranslate"><span class="pre">n</span> <span class="pre">&lt;</span> <span class="pre">1</span></code> or if <code class="docutils literal notranslate"><span class="pre">n</span> <span class="pre">&gt;</span> <span class="pre">arr.size</span></code> and
<code class="docutils literal notranslate"><span class="pre">withReplacement=false</span></code>. If <code class="docutils literal notranslate"><span class="pre">arr</span></code> is
empty.</p>
</dd>
</dl>
</dd></dl>

<dl class="chpl function">
<dt class="sig sig-object chpl">
<em class="property"><span class="pre">proc</span> </em><span class="sig-name descname"><span class="pre">sample</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="pre">const</span> <span class="pre">ref</span> <span class="pre">arr:</span> <span class="pre">[?d]</span> <span class="pre">?t</span></em>, <em class="sig-param"><span class="pre">n:</span> <span class="pre">int</span></em>, <em class="sig-param"><span class="pre">withReplacement</span> <span class="pre">=</span> <span class="pre">false</span></em>, <em class="sig-param"><span class="pre">seed:</span> <span class="pre">int</span></em><span class="sig-paren">)</span><em class="property"> <span class="pre">:</span> <span class="pre">[]</span> <span class="pre">t</span> <span class="pre">throws</span></em><em class="property">&#160; <span class="pre">where</span> <span class="pre">d.isRectangular()</span></em></dt>
<dd><p>Randomly sample <code class="docutils literal notranslate"><span class="pre">n</span></code> elements from an array.</p>
<dl class="field-list simple">
<dt class="field-odd">Arguments<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>arr</strong> – The rectangular array to sample from</p></li>
<li><p><strong>n</strong> – The number of elements to sample</p></li>
<li><p><strong>withReplacement</strong> – Whether or not to sample with replacement</p></li>
<li><p><strong>seed</strong> – The seed to use when creating the <code class="docutils literal notranslate"><span class="pre">randomStream</span></code></p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>A zero-based 1D array of <code class="docutils literal notranslate"><span class="pre">n</span></code> random elements sampled from the array</p>
</dd>
<dt class="field-odd">Throws<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>IllegalArgumentError</strong> – If <code class="docutils literal notranslate"><span class="pre">n</span> <span class="pre">&lt;</span> <span class="pre">1</span></code> or if <code class="docutils literal notranslate"><span class="pre">n</span> <span class="pre">&gt;</span> <span class="pre">arr.size</span></code> and
<code class="docutils literal notranslate"><span class="pre">withReplacement=false</span></code>. If <code class="docutils literal notranslate"><span class="pre">arr</span></code> is
empty.</p>
</dd>
</dl>
</dd></dl>

<dl class="chpl function">
<dt class="sig sig-object chpl">
<em class="property"><span class="pre">proc</span> </em><span class="sig-name descname"><span class="pre">sample</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="pre">const</span> <span class="pre">ref</span> <span class="pre">arr:</span> <span class="pre">[?d]</span> <span class="pre">?t</span></em>, <em class="sig-param"><span class="pre">n:</span> <span class="pre">int</span></em>, <em class="sig-param"><span class="pre">const</span> <span class="pre">ref</span> <span class="pre">weights:</span> <span class="pre">[?dw]</span> <span class="pre">?wt</span></em>, <em class="sig-param"><span class="pre">withReplacement</span> <span class="pre">=</span> <span class="pre">false</span></em><span class="sig-paren">)</span><em class="property"> <span class="pre">:</span> <span class="pre">[]</span> <span class="pre">t</span> <span class="pre">throws</span></em><em class="property">&#160; <span class="pre">where</span> <span class="pre">is1DRectangularDomain(d)</span> <span class="pre">&amp;&amp;</span> <span class="pre">is1DRectangularDomain(dw)</span> <span class="pre">&amp;&amp;</span> <span class="pre">isRealType(wt)</span></em></dt>
<dd><p>Randomly sample <code class="docutils literal notranslate"><span class="pre">n</span></code> elements from an array, where each array element has
a corresponding weight.</p>
<p>Elements with relatively larger weights are more likely to be sampled.</p>
<dl class="field-list simple">
<dt class="field-odd">Arguments<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>arr</strong> – The 1D rectangular array to sample from</p></li>
<li><p><strong>n</strong> – The number of elements to sample</p></li>
<li><p><strong>weights</strong> – An array of real-valued weights corresponding to the elements in <code class="docutils literal notranslate"><span class="pre">arr</span></code></p></li>
<li><p><strong>withReplacement</strong> – Whether or not to sample with replacement</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>A zero-based 1D array of <code class="docutils literal notranslate"><span class="pre">n</span></code> random elements sampled from the array</p>
</dd>
<dt class="field-odd">Throws<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>IllegalArgumentError</strong> – If <code class="docutils literal notranslate"><span class="pre">n</span> <span class="pre">&lt;</span> <span class="pre">1</span></code> or if <code class="docutils literal notranslate"><span class="pre">n</span> <span class="pre">&gt;</span> <span class="pre">arr.size</span></code> and
<code class="docutils literal notranslate"><span class="pre">withReplacement=false</span></code>. If <code class="docutils literal notranslate"><span class="pre">arr</span></code> is
empty. If <code class="docutils literal notranslate"><span class="pre">weights</span></code> does not have the same
size as <code class="docutils literal notranslate"><span class="pre">arr</span></code>.</p>
</dd>
</dl>
</dd></dl>

<dl class="chpl function">
<dt class="sig sig-object chpl">
<em class="property"><span class="pre">proc</span> </em><span class="sig-name descname"><span class="pre">sample</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="pre">const</span> <span class="pre">ref</span> <span class="pre">arr:</span> <span class="pre">[?d]</span> <span class="pre">?t</span></em>, <em class="sig-param"><span class="pre">n:</span> <span class="pre">int</span></em>, <em class="sig-param"><span class="pre">const</span> <span class="pre">ref</span> <span class="pre">weights:</span> <span class="pre">[?dw]</span> <span class="pre">?wt</span></em>, <em class="sig-param"><span class="pre">withReplacement</span> <span class="pre">=</span> <span class="pre">false</span></em>, <em class="sig-param"><span class="pre">seed:</span> <span class="pre">int</span></em><span class="sig-paren">)</span><em class="property"> <span class="pre">:</span> <span class="pre">[]</span> <span class="pre">t</span> <span class="pre">throws</span></em><em class="property">&#160; <span class="pre">where</span> <span class="pre">is1DRectangularDomain(d)</span> <span class="pre">&amp;&amp;</span> <span class="pre">is1DRectangularDomain(dw)</span> <span class="pre">&amp;&amp;</span> <span class="pre">isRealType(wt)</span></em></dt>
<dd><p>Randomly sample <code class="docutils literal notranslate"><span class="pre">n</span></code> elements from an array, where each array element has
a corresponding weight.</p>
<p>Elements with relatively larger weights are more likely to be sampled.</p>
<dl class="field-list simple">
<dt class="field-odd">Arguments<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>arr</strong> – The 1D rectangular array to sample from</p></li>
<li><p><strong>n</strong> – The number of elements to sample</p></li>
<li><p><strong>weights</strong> – An array of real-valued weights corresponding to the elements in <code class="docutils literal notranslate"><span class="pre">arr</span></code></p></li>
<li><p><strong>withReplacement</strong> – Whether or not to sample with replacement</p></li>
<li><p><strong>seed</strong> – The seed to use when creating the <code class="docutils literal notranslate"><span class="pre">randomStream</span></code></p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>A zero-based 1D array of <code class="docutils literal notranslate"><span class="pre">n</span></code> random elements sampled from the array</p>
</dd>
<dt class="field-odd">Throws<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>IllegalArgumentError</strong> – If <code class="docutils literal notranslate"><span class="pre">n</span> <span class="pre">&lt;</span> <span class="pre">1</span></code> or if <code class="docutils literal notranslate"><span class="pre">n</span> <span class="pre">&gt;</span> <span class="pre">arr.size</span></code> and
<code class="docutils literal notranslate"><span class="pre">withReplacement=false</span></code>. If <code class="docutils literal notranslate"><span class="pre">arr</span></code> is
empty. If <code class="docutils literal notranslate"><span class="pre">weights</span></code> does not have the same
size as <code class="docutils literal notranslate"><span class="pre">arr</span></code>.</p>
</dd>
</dl>
</dd></dl>

<dl class="chpl function">
<dt class="sig sig-object chpl">
<em class="property"><span class="pre">proc</span> </em><span class="sig-name descname"><span class="pre">sample</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="pre">d:</span> <span class="pre">domain(?)</span></em>, <em class="sig-param"><span class="pre">n:</span> <span class="pre">int</span></em>, <em class="sig-param"><span class="pre">withReplacement</span> <span class="pre">=</span> <span class="pre">false</span></em><span class="sig-paren">)</span><em class="property"> <span class="pre">:</span> <span class="pre">[]</span> <span class="pre">d.fullIdxType</span> <span class="pre">throws</span></em><em class="property">&#160; <span class="pre">where</span> <span class="pre">d.isRectangular()</span></em></dt>
<dd><p>Randomly sample <code class="docutils literal notranslate"><span class="pre">n</span></code> indices from a domain.</p>
<dl class="field-list simple">
<dt class="field-odd">Arguments<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>d</strong> – The rectangular domain to sample from</p></li>
<li><p><strong>n</strong> – The number of indices to sample</p></li>
<li><p><strong>withReplacement</strong> – Whether or not to sample with replacement</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>A zero-based 1D array of <code class="docutils literal notranslate"><span class="pre">n</span></code> random indices sampled from the domain</p>
</dd>
<dt class="field-odd">Throws<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>IllegalArgumentError</strong> – If <code class="docutils literal notranslate"><span class="pre">n</span> <span class="pre">&lt;</span> <span class="pre">1</span></code> or if <code class="docutils literal notranslate"><span class="pre">n</span> <span class="pre">&gt;</span> <span class="pre">arr.size</span></code> and
<code class="docutils literal notranslate"><span class="pre">withReplacement=false</span></code>. If <code class="docutils literal notranslate"><span class="pre">d</span></code> is
empty.</p>
</dd>
</dl>
</dd></dl>

<dl class="chpl function">
<dt class="sig sig-object chpl">
<em class="property"><span class="pre">proc</span> </em><span class="sig-name descname"><span class="pre">sample</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="pre">d:</span> <span class="pre">domain(?)</span></em>, <em class="sig-param"><span class="pre">n:</span> <span class="pre">int</span></em>, <em class="sig-param"><span class="pre">withReplacement</span> <span class="pre">=</span> <span class="pre">false</span></em>, <em class="sig-param"><span class="pre">seed:</span> <span class="pre">int</span></em><span class="sig-paren">)</span><em class="property"> <span class="pre">:</span> <span class="pre">[]</span> <span class="pre">d.fullIdxType</span> <span class="pre">throws</span></em><em class="property">&#160; <span class="pre">where</span> <span class="pre">d.isRectangular()</span></em></dt>
<dd><p>Randomly sample <code class="docutils literal notranslate"><span class="pre">n</span></code> indices from a domain.</p>
<dl class="field-list simple">
<dt class="field-odd">Arguments<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>d</strong> – The rectangular domain to sample from</p></li>
<li><p><strong>n</strong> – The number of indices to sample</p></li>
<li><p><strong>withReplacement</strong> – Whether or not to sample with replacement</p></li>
<li><p><strong>seed</strong> – The seed to use when creating the <code class="docutils literal notranslate"><span class="pre">randomStream</span></code></p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>A zero-based 1D array of <code class="docutils literal notranslate"><span class="pre">n</span></code> random indices sampled from the domain</p>
</dd>
<dt class="field-odd">Throws<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>IllegalArgumentError</strong> – If <code class="docutils literal notranslate"><span class="pre">n</span> <span class="pre">&lt;</span> <span class="pre">1</span></code> or if <code class="docutils literal notranslate"><span class="pre">n</span> <span class="pre">&gt;</span> <span class="pre">arr.size</span></code> and
<code class="docutils literal notranslate"><span class="pre">withReplacement=false</span></code>. If <code class="docutils literal notranslate"><span class="pre">d</span></code> is
empty.</p>
</dd>
</dl>
</dd></dl>

<dl class="chpl function">
<dt class="sig sig-object chpl">
<em class="property"><span class="pre">proc</span> </em><span class="sig-name descname"><span class="pre">sample</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="pre">d:</span> <span class="pre">domain(?)</span></em>, <em class="sig-param"><span class="pre">n:</span> <span class="pre">int</span></em>, <em class="sig-param"><span class="pre">const</span> <span class="pre">ref</span> <span class="pre">weights:</span> <span class="pre">[?dw]</span> <span class="pre">?wt</span></em>, <em class="sig-param"><span class="pre">withReplacement</span> <span class="pre">=</span> <span class="pre">false</span></em><span class="sig-paren">)</span><em class="property"> <span class="pre">:</span> <span class="pre">[]</span> <span class="pre">d.idxType</span> <span class="pre">throws</span></em><em class="property">&#160; <span class="pre">where</span> <span class="pre">is1DRectangularDomain(d)</span> <span class="pre">&amp;&amp;</span> <span class="pre">is1DRectangularDomain(dw)</span> <span class="pre">&amp;&amp;</span> <span class="pre">isRealType(wt)</span></em></dt>
<dd><p>Randomly sample <code class="docutils literal notranslate"><span class="pre">n</span></code> indices from a domain, where each index has a
corresponding weight.</p>
<p>Indices with relatively larger weights are more likely to be sampled.</p>
<dl class="field-list simple">
<dt class="field-odd">Arguments<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>d</strong> – The 1D rectangular domain to sample from</p></li>
<li><p><strong>n</strong> – The number of indices to sample</p></li>
<li><p><strong>weights</strong> – An array of real-valued weights corresponding to the indices in <code class="docutils literal notranslate"><span class="pre">d</span></code></p></li>
<li><p><strong>withReplacement</strong> – Whether or not to sample with replacement</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>A zero-based 1D array of <code class="docutils literal notranslate"><span class="pre">n</span></code> random indices sampled from the domain</p>
</dd>
<dt class="field-odd">Throws<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>IllegalArgumentError</strong> – If <code class="docutils literal notranslate"><span class="pre">n</span> <span class="pre">&lt;</span> <span class="pre">1</span></code> or if <code class="docutils literal notranslate"><span class="pre">n</span> <span class="pre">&gt;</span> <span class="pre">d.size</span></code> and
<code class="docutils literal notranslate"><span class="pre">withReplacement=false</span></code>. If <code class="docutils literal notranslate"><span class="pre">d</span></code> is
empty. If <code class="docutils literal notranslate"><span class="pre">weights</span></code> does not have the same
size as <code class="docutils literal notranslate"><span class="pre">d</span></code>.</p>
</dd>
</dl>
</dd></dl>

<dl class="chpl function">
<dt class="sig sig-object chpl">
<em class="property"><span class="pre">proc</span> </em><span class="sig-name descname"><span class="pre">sample</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="pre">d:</span> <span class="pre">domain(?)</span></em>, <em class="sig-param"><span class="pre">n:</span> <span class="pre">int</span></em>, <em class="sig-param"><span class="pre">const</span> <span class="pre">ref</span> <span class="pre">weights:</span> <span class="pre">[?dw]</span> <span class="pre">?wt</span></em>, <em class="sig-param"><span class="pre">withReplacement</span> <span class="pre">=</span> <span class="pre">false</span></em>, <em class="sig-param"><span class="pre">seed:</span> <span class="pre">int</span></em><span class="sig-paren">)</span><em class="property"> <span class="pre">:</span> <span class="pre">[]</span> <span class="pre">d.idxType</span> <span class="pre">throws</span></em><em class="property">&#160; <span class="pre">where</span> <span class="pre">is1DRectangularDomain(d)</span> <span class="pre">&amp;&amp;</span> <span class="pre">is1DRectangularDomain(dw)</span> <span class="pre">&amp;&amp;</span> <span class="pre">isRealType(wt)</span></em></dt>
<dd><p>Randomly sample <code class="docutils literal notranslate"><span class="pre">n</span></code> indices from a domain, where each index has a
corresponding weight.</p>
<p>Indices with relatively larger weights are more likely to be sampled.</p>
<dl class="field-list simple">
<dt class="field-odd">Arguments<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>d</strong> – The 1D rectangular domain to sample from</p></li>
<li><p><strong>n</strong> – The number of elements to sample</p></li>
<li><p><strong>weights</strong> – An array of real-valued weights corresponding to the elements in <code class="docutils literal notranslate"><span class="pre">d</span></code></p></li>
<li><p><strong>withReplacement</strong> – Whether or not to sample with replacement</p></li>
<li><p><strong>seed</strong> – The seed to use when creating the <code class="docutils literal notranslate"><span class="pre">randomStream</span></code></p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>A zero-based 1D array of <code class="docutils literal notranslate"><span class="pre">n</span></code> random indices sampled from the domain</p>
</dd>
<dt class="field-odd">Throws<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>IllegalArgumentError</strong> – If <code class="docutils literal notranslate"><span class="pre">n</span> <span class="pre">&lt;</span> <span class="pre">1</span></code> or if <code class="docutils literal notranslate"><span class="pre">n</span> <span class="pre">&gt;</span> <span class="pre">d.size</span></code> and
<code class="docutils literal notranslate"><span class="pre">withReplacement=false</span></code>. If <code class="docutils literal notranslate"><span class="pre">d</span></code> is
empty. If <code class="docutils literal notranslate"><span class="pre">weights</span></code> does not have the same
size as <code class="docutils literal notranslate"><span class="pre">d</span></code>.</p>
</dd>
</dl>
</dd></dl>

<dl class="chpl function">
<dt class="sig sig-object chpl">
<em class="property"><span class="pre">proc</span> </em><span class="sig-name descname"><span class="pre">sample</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="pre">r:</span> <span class="pre">range(bounds</span> <span class="pre">=</span> <span class="pre">boundKind.both</span></em>, <em class="sig-param"><span class="pre">?)</span></em>, <em class="sig-param"><span class="pre">n:</span> <span class="pre">int</span></em>, <em class="sig-param"><span class="pre">withReplacement</span> <span class="pre">=</span> <span class="pre">false</span></em><span class="sig-paren">)</span><em class="property"> <span class="pre">:</span> <span class="pre">[]</span> <span class="pre">r.idxType</span> <span class="pre">throws</span></em></dt>
<dd><p>Randomly sample <code class="docutils literal notranslate"><span class="pre">n</span></code> values from a range.</p>
<dl class="field-list simple">
<dt class="field-odd">Arguments<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>r</strong> – A fully bounded range to sample from</p></li>
<li><p><strong>n</strong> – The number of values to sample</p></li>
<li><p><strong>withReplacement</strong> – Whether or not to sample with replacement</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>A zero-based array of <code class="docutils literal notranslate"><span class="pre">n</span></code> random values sampled from the range</p>
</dd>
<dt class="field-odd">Throws<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>IllegalArgumentError</strong> – If <code class="docutils literal notranslate"><span class="pre">n</span> <span class="pre">&lt;</span> <span class="pre">1</span></code> or if <code class="docutils literal notranslate"><span class="pre">n</span> <span class="pre">&gt;</span> <span class="pre">r.size</span></code> and
<code class="docutils literal notranslate"><span class="pre">withReplacement=false</span></code>. If <code class="docutils literal notranslate"><span class="pre">r</span></code> is
empty.</p>
</dd>
</dl>
</dd></dl>

<dl class="chpl function">
<dt class="sig sig-object chpl">
<em class="property"><span class="pre">proc</span> </em><span class="sig-name descname"><span class="pre">sample</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="pre">r:</span> <span class="pre">range(bounds</span> <span class="pre">=</span> <span class="pre">boundKind.both</span></em>, <em class="sig-param"><span class="pre">?)</span></em>, <em class="sig-param"><span class="pre">n:</span> <span class="pre">int</span></em>, <em class="sig-param"><span class="pre">withReplacement</span> <span class="pre">=</span> <span class="pre">false</span></em>, <em class="sig-param"><span class="pre">seed:</span> <span class="pre">int</span></em><span class="sig-paren">)</span><em class="property"> <span class="pre">:</span> <span class="pre">[]</span> <span class="pre">r.idxType</span> <span class="pre">throws</span></em></dt>
<dd><p>Randomly sample <code class="docutils literal notranslate"><span class="pre">n</span></code> values from a range.</p>
<dl class="field-list simple">
<dt class="field-odd">Arguments<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>r</strong> – A fully bounded range to sample from</p></li>
<li><p><strong>n</strong> – The number of values to sample</p></li>
<li><p><strong>withReplacement</strong> – Whether or not to sample with replacement</p></li>
<li><p><strong>seed</strong> – The seed to use when creating the <code class="docutils literal notranslate"><span class="pre">randomStream</span></code></p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>A zero-based array of <code class="docutils literal notranslate"><span class="pre">n</span></code> random values sampled from the range</p>
</dd>
<dt class="field-odd">Throws<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>IllegalArgumentError</strong> – If <code class="docutils literal notranslate"><span class="pre">n</span> <span class="pre">&lt;</span> <span class="pre">1</span></code> or if <code class="docutils literal notranslate"><span class="pre">n</span> <span class="pre">&gt;</span> <span class="pre">r.size</span></code> and
<code class="docutils literal notranslate"><span class="pre">withReplacement=false</span></code>. If <code class="docutils literal notranslate"><span class="pre">r</span></code> is
empty.</p>
</dd>
</dl>
</dd></dl>

<dl class="chpl function">
<dt class="sig sig-object chpl">
<em class="property"><span class="pre">proc</span> </em><span class="sig-name descname"><span class="pre">sample</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="pre">r:</span> <span class="pre">range(bounds</span> <span class="pre">=</span> <span class="pre">boundKind.both</span></em>, <em class="sig-param"><span class="pre">?)</span></em>, <em class="sig-param"><span class="pre">n:</span> <span class="pre">int</span></em>, <em class="sig-param"><span class="pre">const</span> <span class="pre">ref</span> <span class="pre">weights:</span> <span class="pre">[?dw]</span> <span class="pre">?wt</span></em>, <em class="sig-param"><span class="pre">withReplacement</span> <span class="pre">=</span> <span class="pre">false</span></em><span class="sig-paren">)</span><em class="property"> <span class="pre">:</span> <span class="pre">[]</span> <span class="pre">r.idxType</span> <span class="pre">throws</span></em><em class="property">&#160; <span class="pre">where</span> <span class="pre">is1DRectangularDomain(dw)</span> <span class="pre">&amp;&amp;</span> <span class="pre">isRealType(wt)</span></em></dt>
<dd><p>Randomly sample <code class="docutils literal notranslate"><span class="pre">n</span></code> values from a range, where each value has a
corresponding weight.</p>
<p>Values with relatively larger weights are more likely to be sampled.</p>
<dl class="field-list simple">
<dt class="field-odd">Arguments<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>r</strong> – A fully bounded range to sample from</p></li>
<li><p><strong>n</strong> – The number of values to sample</p></li>
<li><p><strong>weights</strong> – An array of real-valued weights corresponding to the values in <code class="docutils literal notranslate"><span class="pre">r</span></code></p></li>
<li><p><strong>withReplacement</strong> – Whether or not to sample with replacement</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>A zero-based array of <code class="docutils literal notranslate"><span class="pre">n</span></code> random values sampled from the range</p>
</dd>
<dt class="field-odd">Throws<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>IllegalArgumentError</strong> – If <code class="docutils literal notranslate"><span class="pre">n</span> <span class="pre">&lt;</span> <span class="pre">1</span></code> or if <code class="docutils literal notranslate"><span class="pre">n</span> <span class="pre">&gt;</span> <span class="pre">r.size</span></code> and
<code class="docutils literal notranslate"><span class="pre">withReplacement=false</span></code>. If <code class="docutils literal notranslate"><span class="pre">r</span></code> is
empty. If <code class="docutils literal notranslate"><span class="pre">weights</span></code> does not have the same
size as <code class="docutils literal notranslate"><span class="pre">r</span></code>.</p>
</dd>
</dl>
</dd></dl>

<dl class="chpl function">
<dt class="sig sig-object chpl">
<em class="property"><span class="pre">proc</span> </em><span class="sig-name descname"><span class="pre">sample</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="pre">r:</span> <span class="pre">range(bounds</span> <span class="pre">=</span> <span class="pre">boundKind.both</span></em>, <em class="sig-param"><span class="pre">?)</span></em>, <em class="sig-param"><span class="pre">n:</span> <span class="pre">int</span></em>, <em class="sig-param"><span class="pre">const</span> <span class="pre">ref</span> <span class="pre">weights:</span> <span class="pre">[?dw]</span> <span class="pre">?wt</span></em>, <em class="sig-param"><span class="pre">withReplacement</span> <span class="pre">=</span> <span class="pre">false</span></em>, <em class="sig-param"><span class="pre">seed:</span> <span class="pre">int</span></em><span class="sig-paren">)</span><em class="property"> <span class="pre">:</span> <span class="pre">[]</span> <span class="pre">r.idxType</span> <span class="pre">throws</span></em><em class="property">&#160; <span class="pre">where</span> <span class="pre">is1DRectangularDomain(dw)</span> <span class="pre">&amp;&amp;</span> <span class="pre">isRealType(wt)</span></em></dt>
<dd><p>Randomly sample <code class="docutils literal notranslate"><span class="pre">n</span></code> values from a range, where each value has a
corresponding weight.</p>
<p>Values with relatively larger weights are more likely to be sampled.</p>
<dl class="field-list simple">
<dt class="field-odd">Arguments<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>r</strong> – A fully bounded range to sample from</p></li>
<li><p><strong>n</strong> – The number of values to sample</p></li>
<li><p><strong>weights</strong> – An array of real-valued weights corresponding to the values in <code class="docutils literal notranslate"><span class="pre">r</span></code></p></li>
<li><p><strong>withReplacement</strong> – Whether or not to sample with replacement</p></li>
<li><p><strong>seed</strong> – The seed to use when creating the <code class="docutils literal notranslate"><span class="pre">randomStream</span></code></p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>A zero-based array of <code class="docutils literal notranslate"><span class="pre">n</span></code> random values sampled from the range</p>
</dd>
<dt class="field-odd">Throws<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>IllegalArgumentError</strong> – If <code class="docutils literal notranslate"><span class="pre">n</span> <span class="pre">&lt;</span> <span class="pre">1</span></code> or if <code class="docutils literal notranslate"><span class="pre">n</span> <span class="pre">&gt;</span> <span class="pre">r.size</span></code> and
<code class="docutils literal notranslate"><span class="pre">withReplacement=false</span></code>. If <code class="docutils literal notranslate"><span class="pre">r</span></code> is
empty. If <code class="docutils literal notranslate"><span class="pre">weights</span></code> does not have the same
size as <code class="docutils literal notranslate"><span class="pre">r</span></code>.</p>
</dd>
</dl>
</dd></dl>

<dl class="chpl record">
<dt class="sig sig-object chpl" id="Random.randomStream">
<em class="property"><span class="pre">record</span> </em><span class="sig-name descname"><span class="pre">randomStream</span></span><em class="property"> <span class="pre">:</span> <span class="pre">writeSerializable</span></em><a class="headerlink" href="#Random.randomStream" title="Link to this definition">¶</a></dt>
<dd><p>A <a class="reference internal" href="#Random.randomStream" title="Random.randomStream"><code class="xref chpl chpl-record docutils literal notranslate"><span class="pre">randomStream</span></code></a> represents a stream of pseudorandom numbers of a
particular type. Numeric and bool types are supported.</p>
<p>Conceptually it can be thought of as an indexed sequence of numbers ranging
from 0 to infinity. Each index in the sequence corresponds to a random
number of the specified type. This allows for the generation of random
numbers in parallel, where each task involved in the parallel iteration can
request random numbers within a particular range and traverse that range of
the sequence independently of other tasks (see <a class="reference internal" href="#Random.randomStream.next" title="Random.randomStream.next"><code class="xref chpl chpl-proc docutils literal notranslate"><span class="pre">randomStream.next</span></code></a>).</p>
<p>Although parallel iteration is supported, the type itself is not
thread-safe. In particular, it is not safe to call methods such as
<a class="reference internal" href="#Random.randomStream.next" title="Random.randomStream.next"><code class="xref chpl chpl-proc docutils literal notranslate"><span class="pre">next</span></code></a> or <a class="reference internal" href="#Random.randomStream.fill" title="Random.randomStream.fill"><code class="xref chpl chpl-proc docutils literal notranslate"><span class="pre">fill</span></code></a> on the same <code class="docutils literal notranslate"><span class="pre">randomStream</span></code> from multiple
tasks concurrently. When multiple tasks need to generate random numbers
concurrently, a couple of approaches can be taken (other than using a
parallel safe lock to protect the <code class="docutils literal notranslate"><span class="pre">randomStream</span></code>):</p>
<ul class="simple">
<li><p>Use the randomStream’s parallel iteration methods:</p></li>
</ul>
<div class="highlight-chapel notranslate"><div class="highlight"><pre><span></span><span class="kd">var</span> <span class="nx">A</span><span class="p">:</span> <span class="p">[</span><span class="mi">1</span><span class="o">..</span><span class="nx">n</span><span class="p">]</span> <span class="kt">int</span><span class="p">;</span>
<span class="kd">var</span> <span class="nx">rs</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">randomStream</span><span class="p">(</span><span class="kt">int</span><span class="p">);</span>

<span class="k">forall</span> <span class="p">(</span><span class="nx">r</span><span class="p">,</span> <span class="nx">a</span><span class="p">)</span> <span class="kd">in</span> <span class="k">zip</span><span class="p">(</span><span class="nx">rs</span><span class="p">.</span><span class="nx">next</span><span class="p">(</span><span class="nx">A</span><span class="p">.</span><span class="k">domain</span><span class="p">),</span> <span class="nx">A</span><span class="p">)</span> <span class="k">do</span> <span class="nx">a</span> <span class="o">=</span> <span class="nx">r</span><span class="p">;</span>
</pre></div>
</div>
<ul class="simple">
<li><p>Create a random stream for each task using task-private variables:</p></li>
</ul>
<div class="highlight-chapel notranslate"><div class="highlight"><pre><span></span><span class="kd">var</span> <span class="nx">A</span><span class="p">:</span> <span class="p">[</span><span class="mi">1</span><span class="o">..</span><span class="nx">n</span><span class="p">]</span> <span class="kt">int</span><span class="p">;</span>

<span class="k">forall</span> <span class="nx">a</span> <span class="kd">in</span> <span class="nx">A</span> <span class="k">with</span> <span class="p">(</span><span class="kd">var</span> <span class="nx">rs</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">randomStream</span><span class="p">(</span><span class="kt">int</span><span class="p">))</span> <span class="k">do</span> <span class="nx">a</span> <span class="o">=</span> <span class="nx">rs</span><span class="p">.</span><span class="nx">next</span><span class="p">();</span>
</pre></div>
</div>
<p>The <code class="docutils literal notranslate"><span class="pre">randomStream</span></code> provides several methods to generate random numbers or
to manipulate arrays using random numbers:</p>
<blockquote>
<div><ul class="simple">
<li><p><a class="reference internal" href="#Random.randomStream.fill" title="Random.randomStream.fill"><code class="xref chpl chpl-proc docutils literal notranslate"><span class="pre">randomStream.fill</span></code></a>: fill an array with random numbers</p></li>
<li><p><a class="reference internal" href="#Random.randomStream.shuffle" title="Random.randomStream.shuffle"><code class="xref chpl chpl-proc docutils literal notranslate"><span class="pre">randomStream.shuffle</span></code></a>: randomly re-arrange the elements of
an array</p></li>
<li><p><a class="reference internal" href="#Random.randomStream.permute" title="Random.randomStream.permute"><code class="xref chpl chpl-proc docutils literal notranslate"><span class="pre">randomStream.permute</span></code></a>: create a random permutation of an
array, domain, or range</p></li>
<li><p><a class="reference internal" href="#Random.randomStream.choose" title="Random.randomStream.choose"><code class="xref chpl chpl-proc docutils literal notranslate"><span class="pre">randomStream.choose</span></code></a> randomly sample an element from an array,
domain or range</p></li>
<li><p><a class="reference internal" href="#Random.randomStream.sample" title="Random.randomStream.sample"><code class="xref chpl chpl-proc docutils literal notranslate"><span class="pre">randomStream.sample</span></code></a> randomly sample elements from an array,
domain, or range (with or without replacement)</p></li>
</ul>
</div></blockquote>
<p>Note that the module provides top-level counterparts to these methods that
internally create a <code class="docutils literal notranslate"><span class="pre">randomStream</span></code> and then call the corresponding method
on it — convenient for one-off uses. To generate many random numbers, it is
generally more efficient to create a <code class="docutils literal notranslate"><span class="pre">randomStream</span></code> and call the relevant
method on it repeatedly.</p>
<p>An individual random number can be generated using
<a class="reference internal" href="#Random.randomStream.next" title="Random.randomStream.next"><code class="xref chpl chpl-proc docutils literal notranslate"><span class="pre">randomStream.next</span></code></a> which will advance the stream to the next
position and return the value at that position. The position of the stream
can also be manipulated directly using <a class="reference internal" href="#Random.randomStream.skipTo" title="Random.randomStream.skipTo"><code class="xref chpl chpl-proc docutils literal notranslate"><span class="pre">randomStream.skipTo</span></code></a>.</p>
<p>When copied, the <code class="docutils literal notranslate"><span class="pre">randomStream</span></code>’s seed, state, and position in the stream
will also be copied. This means that the copy and original will produce the
same sequence of random numbers without affecting each others state.</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p><strong>Implementation Details:</strong></p>
<p>This stream is implemented using the PCG random number generator algorithm.
See <a class="reference external" href="http://www.pcg-random.org/">http://www.pcg-random.org/</a> and the paper, <cite>PCG: A Family
of Simple Fast Space-Efficient Statistically Good Algorithms for Random
Number Generation</cite> by M.E. O’Neill.</p>
<p>This record builds upon the <a class="reference internal" href="Random/PCGRandomLib.html#PCGRandomLib.pcg_setseq_64_xsh_rr_32_rng" title="PCGRandomLib.pcg_setseq_64_xsh_rr_32_rng"><code class="xref chpl chpl-record docutils literal notranslate"><span class="pre">pcg_setseq_64_xsh_rr_32_rng</span></code></a>
PCG RNG which has 64 bits of state and 32 bits of output.</p>
<p>While the PCG RNG used here is believed to have good statistical
properties, it is not suitable for generating key material for encryption
since the output of this RNG may be predictable.
Additionally, if statistical properties of the random numbers are very
important, another strategy may be required.</p>
<p>We have good confidence that the random numbers generated by this record
match the C PCG reference implementation and have specifically verified
equal output given the same seed. However, this implementation differs
from the C PCG reference implementation in how it produces random integers
within particular bounds (with <a class="reference internal" href="#Random.randomStream.next" title="Random.randomStream.next"><code class="xref chpl chpl-proc docutils literal notranslate"><span class="pre">randomStream.next</span></code></a> using <code class="docutils literal notranslate"><span class="pre">min</span></code>
and <code class="docutils literal notranslate"><span class="pre">max</span></code> arguments). In addition, this implementation directly supports
the generation of random <code class="docutils literal notranslate"><span class="pre">real</span></code> values, unlike the C PCG implementation.</p>
<p>Smaller numbers, such as <code class="docutils literal notranslate"><span class="pre">uint(8)</span></code> or <code class="docutils literal notranslate"><span class="pre">uint(16)</span></code>, are generated from
the high-order bits of the 32-bit output.</p>
<p>To generate larger numbers, several 32-bit-output RNGs are composed
together. Each of these 32-bit RNGs has a different sequence constant and
so will be independent and uncorrelated. For example, to generate 128-bit
complex numbers, this RNG will use four 32-bit PCG RNGs with different
sequence constants. One impact of this approach is that this implementation
will only generate 2**64 different complex numbers with a given seed
(for example).</p>
<p>This record also supports generating integers within particular bounds.
When that is required, it uses a strategy different from the PCG
reference implementation to support efficient parallel iteration. In
particular, when more than 1 random value is required as part of
generating a value in a range, conceptually it uses more composed
RNGs (as with the 32x2 strategy). Each new value beyond the first that
is computed will be computed with a different RNG. This strategy is meant
to avoid statistical bias. While we have tested this strategy to our
satisfaction, it has not been subject to rigorous analysis and may
have undesirable statistical properties.</p>
<p>When generating a real, imaginary, or complex number, this implementation
uses the strategy of generating a 64-bit unsigned integer and then
multiplying it by 2.0**-64 in order to convert it to a floating point
number. While this does construct a uniform distribution on rounded
floating point values, it leaves out many possible real values (for
example, 2**-128). We believe that this strategy has reasonable
statistical properties. One side effect of this strategy is that the real
number 1.0 can be generated because of rounding. The real number 0.0 can
be generated because PCG can produce the value 0 as a random integer.</p>
<p>We have tested this implementation with TestU01 (available at
<a class="reference external" href="http://simul.iro.umontreal.ca/testu01/tu01.html">http://simul.iro.umontreal.ca/testu01/tu01.html</a> ).  We measured our
implementation with TestU01 1.2.3 and the Crush suite, which consists of
144 statistical tests. The results were:</p>
<blockquote>
<div><ul class="simple">
<li><p>no failures for generating uniform reals</p></li>
<li><p>1 failure for generating 32-bit values (which is also true for the
reference version of PCG with the same configuration)</p></li>
<li><p>0 failures for generating 64-bit values (which we provided to TestU01
as 2 different 32-bit values since it only accepts 32 bits at a time)</p></li>
<li><p>0 failures for generating bounded integers (which we provided to
TestU01 by requesting values in [0..,2**31+2**30+1) until we
had two values &lt; 2**31, removing the top 0 bit, and then combining
the top 16 bits into the value provided to TestU01).</p></li>
</ul>
</div></blockquote>
</div>
<dl class="chpl attribute">
<dt class="sig sig-object chpl" id="Random.randomStream.eltType">
<em class="property"><span class="pre">type</span> </em><span class="sig-name descname"><span class="pre">eltType</span></span><a class="headerlink" href="#Random.randomStream.eltType" title="Link to this definition">¶</a></dt>
<dd><p>Specifies the type of value generated by the random stream. Currently,
numeric and bool types are supported.</p>
</dd></dl>

<dl class="chpl attribute">
<dt class="sig sig-object chpl" id="Random.randomStream.seed">
<em class="property"><span class="pre">const</span> </em><span class="sig-name descname"><span class="pre">seed</span></span><em class="property"> <span class="pre">:</span> <span class="pre">int</span></em><a class="headerlink" href="#Random.randomStream.seed" title="Link to this definition">¶</a></dt>
<dd><p>The seed value for the PCG random number generator.</p>
</dd></dl>

<dl class="chpl method">
<dt class="sig sig-object chpl" id="Random.randomStream.init">
<em class="property"><span class="pre">proc</span> </em><span class="sig-name descname"><span class="pre">init</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="pre">type</span> <span class="pre">eltType</span></em>, <em class="sig-param"><span class="pre">seed:</span> <span class="pre">int</span></em><span class="sig-paren">)</span><em class="property">&#160; <span class="pre">where</span> <span class="pre">isNumericOrBoolType(eltType)</span></em><a class="headerlink" href="#Random.randomStream.init" title="Link to this definition">¶</a></dt>
<dd><p>Create a new <code class="docutils literal notranslate"><span class="pre">randomStream</span></code> using the specified seed.</p>
</dd></dl>

<dl class="chpl method">
<dt class="sig sig-object chpl">
<em class="property"><span class="pre">proc</span> </em><span class="sig-name descname"><span class="pre">init</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="pre">type</span> <span class="pre">eltType</span></em><span class="sig-paren">)</span><em class="property">&#160; <span class="pre">where</span> <span class="pre">isNumericOrBoolType(eltType)</span></em></dt>
<dd><p>Create a new <code class="docutils literal notranslate"><span class="pre">randomStream</span></code>.</p>
<p>A seed value will be generated in an implementation specific manner
designed to minimize the chance that two distinct invocations of this
initializer will produce the same seed.</p>
</dd></dl>

<dl class="chpl method">
<dt class="sig sig-object chpl" id="Random.randomStream.fill">
<em class="property"><span class="pre">proc</span> <span class="pre">ref</span> </em><span class="sig-name descname"><span class="pre">fill</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="pre">ref</span> <span class="pre">arr:</span> <span class="pre">[?d]</span></em><span class="sig-paren">)</span><em class="property">&#160; <span class="pre">where</span> <span class="pre">arr.isRectangular()</span></em><a class="headerlink" href="#Random.randomStream.fill" title="Link to this definition">¶</a></dt>
<dd><p>Fill the array with pseudorandom values sampled from this stream in
parallel.</p>
<dl class="field-list simple">
<dt class="field-odd">Arguments<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>arr</strong> – The rectangular array to be filled</p>
</dd>
</dl>
</dd></dl>

<dl class="chpl method">
<dt class="sig sig-object chpl">
<em class="property"><span class="pre">proc</span> <span class="pre">ref</span> </em><span class="sig-name descname"><span class="pre">fill</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="pre">ref</span> <span class="pre">arr:</span> <span class="pre">[?d]</span> <span class="pre">?t</span></em>, <em class="sig-param"><span class="pre">min:</span> <span class="pre">t</span></em>, <em class="sig-param"><span class="pre">max:</span> <span class="pre">t</span></em><span class="sig-paren">)</span><em class="property">&#160; <span class="pre">where</span> <span class="pre">arr.isRectangular()</span></em></dt>
<dd><p>Fill the array with pseudorandom values within a particular range in
parallel. Each array element is set to a number in [<code class="docutils literal notranslate"><span class="pre">min</span></code>, <code class="docutils literal notranslate"><span class="pre">max</span></code>]
(inclusive) sampled from this stream.</p>
<dl class="field-list simple">
<dt class="field-odd">Arguments<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>arr</strong> – The rectangular array to be filled</p></li>
<li><p><strong>min</strong> – The minimum value to sample</p></li>
<li><p><strong>max</strong> – The maximum value to sample</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="chpl method">
<dt class="sig sig-object chpl" id="Random.randomStream.shuffle">
<em class="property"><span class="pre">proc</span> <span class="pre">ref</span> </em><span class="sig-name descname"><span class="pre">shuffle</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="pre">ref</span> <span class="pre">arr:</span> <span class="pre">[?d]</span></em><span class="sig-paren">)</span><em class="property">&#160; <span class="pre">where</span> <span class="pre">d.isRectangular()</span> <span class="pre">&amp;&amp;</span> <span class="pre">isCoercible(this.eltType,</span> <span class="pre">d.idxType)</span></em><a class="headerlink" href="#Random.randomStream.shuffle" title="Link to this definition">¶</a></dt>
<dd><p>Randomly rearrange an array using values from this random stream.</p>
<dl class="field-list simple">
<dt class="field-odd">Arguments<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>arr</strong> – The array to shuffle. Its domain’s <code class="docutils literal notranslate"><span class="pre">idxType</span></code> should be
coercible from this stream’s <a class="reference internal" href="#Random.randomStream.eltType" title="Random.randomStream.eltType"><code class="xref chpl chpl-type docutils literal notranslate"><span class="pre">eltType</span></code></a>.</p>
</dd>
</dl>
</dd></dl>

<dl class="chpl method">
<dt class="sig sig-object chpl" id="Random.randomStream.permute">
<em class="property"><span class="pre">proc</span> <span class="pre">ref</span> </em><span class="sig-name descname"><span class="pre">permute</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="pre">const</span> <span class="pre">ref</span> <span class="pre">arr:</span> <span class="pre">[?d]</span> <span class="pre">?t</span></em><span class="sig-paren">)</span><em class="property"> <span class="pre">:</span> <span class="pre">[]</span> <span class="pre">t</span></em><em class="property">&#160; <span class="pre">where</span> <span class="pre">d.isRectangular()</span> <span class="pre">&amp;&amp;</span> <span class="pre">isCoercible(this.eltType,</span> <span class="pre">d.idxType)</span></em><a class="headerlink" href="#Random.randomStream.permute" title="Link to this definition">¶</a></dt>
<dd><p>Produce a random permutation of an array’s elements</p>
<dl class="field-list simple">
<dt class="field-odd">Arguments<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>arr</strong> – A rectangular array whose domain’s <code class="docutils literal notranslate"><span class="pre">idxType</span></code>
must be coercible from this stream’s <code class="docutils literal notranslate"><span class="pre">eltType</span></code>.</p>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>A new array (defined over the domain <code class="docutils literal notranslate"><span class="pre">d</span></code>) containing each of
the values from <code class="docutils literal notranslate"><span class="pre">arr</span></code> in a pseudo-random order.</p>
</dd>
</dl>
</dd></dl>

<dl class="chpl method">
<dt class="sig sig-object chpl">
<em class="property"><span class="pre">proc</span> <span class="pre">ref</span> </em><span class="sig-name descname"><span class="pre">permute</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="pre">d:</span> <span class="pre">domain(?)</span></em><span class="sig-paren">)</span><em class="property"> <span class="pre">:</span> <span class="pre">[]</span> <span class="pre">d.fullIdxType</span></em><em class="property">&#160; <span class="pre">where</span> <span class="pre">d.isRectangular()</span> <span class="pre">&amp;&amp;</span> <span class="pre">isCoercible(this.eltType,</span> <span class="pre">d.idxType)</span></em></dt>
<dd><p>Produce a random permutation of the indices in a domain.</p>
<dl class="field-list simple">
<dt class="field-odd">Arguments<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>d</strong> – A rectangular domain whose <code class="docutils literal notranslate"><span class="pre">idxType</span></code> must be coercible
from this stream’s <code class="docutils literal notranslate"><span class="pre">eltType</span></code>.</p>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>An array (defined over the domain <code class="docutils literal notranslate"><span class="pre">d</span></code>) containing each of the
indices from <code class="docutils literal notranslate"><span class="pre">d</span></code> in a pseudo-random order.</p>
</dd>
</dl>
</dd></dl>

<dl class="chpl method">
<dt class="sig sig-object chpl">
<em class="property"><span class="pre">proc</span> <span class="pre">ref</span> </em><span class="sig-name descname"><span class="pre">permute</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="pre">r:</span> <span class="pre">range(bounds</span> <span class="pre">=</span> <span class="pre">boundKind.both</span></em>, <em class="sig-param"><span class="pre">?)</span></em><span class="sig-paren">)</span><em class="property"> <span class="pre">:</span> <span class="pre">[]</span> <span class="pre">r.idxType</span></em><em class="property">&#160; <span class="pre">where</span> <span class="pre">isCoercible(this.eltType,</span> <span class="pre">r.idxType)</span></em></dt>
<dd><p>Produce a random permutation of the values in a range.</p>
<dl class="field-list simple">
<dt class="field-odd">Arguments<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>r</strong> – A fully bounded range whose <code class="docutils literal notranslate"><span class="pre">idxType</span></code> must be coercible from
this stream’s <code class="docutils literal notranslate"><span class="pre">eltType</span></code>.</p>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>An array (defined over the domain <code class="docutils literal notranslate"><span class="pre">{r}</span></code>) containing each of
the values from <code class="docutils literal notranslate"><span class="pre">r</span></code> in a pseudo-random order.</p>
</dd>
</dl>
</dd></dl>

<dl class="chpl method">
<dt class="sig sig-object chpl" id="Random.randomStream.choose">
<em class="property"><span class="pre">proc</span> <span class="pre">ref</span> </em><span class="sig-name descname"><span class="pre">choose</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="pre">const</span> <span class="pre">ref</span> <span class="pre">arr:</span> <span class="pre">[?d]</span> <span class="pre">?t</span></em><span class="sig-paren">)</span><em class="property"> <span class="pre">:</span> <span class="pre">t</span></em><em class="property">&#160; <span class="pre">where</span> <span class="pre">d.isRectangular()</span> <span class="pre">&amp;&amp;</span> <span class="pre">isCoercible(this.eltType,</span> <span class="pre">d.idxType)</span></em><a class="headerlink" href="#Random.randomStream.choose" title="Link to this definition">¶</a></dt>
<dd><p>Choose a random element from an array.</p>
<dl class="field-list simple">
<dt class="field-odd">Arguments<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>arr</strong> – The rectangular array to choose from. Its domain’s <code class="docutils literal notranslate"><span class="pre">idxType</span></code>
should be coercible from this stream’s <code class="docutils literal notranslate"><span class="pre">eltType</span></code>.</p>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>A random element from the array</p>
</dd>
</dl>
</dd></dl>

<dl class="chpl method">
<dt class="sig sig-object chpl">
<em class="property"><span class="pre">proc</span> <span class="pre">ref</span> </em><span class="sig-name descname"><span class="pre">choose</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="pre">d:</span> <span class="pre">domain(?)</span></em><span class="sig-paren">)</span><em class="property"> <span class="pre">:</span> <span class="pre">d.fullIdxType</span></em><em class="property">&#160; <span class="pre">where</span> <span class="pre">d.isRectangular()</span> <span class="pre">&amp;&amp;</span> <span class="pre">isCoercible(this.eltType,</span> <span class="pre">d.idxType)</span></em></dt>
<dd><p>Choose a random index from a domain.</p>
<dl class="field-list simple">
<dt class="field-odd">Arguments<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>d</strong> – The rectangular domain to choose from. Its <code class="docutils literal notranslate"><span class="pre">idxType</span></code> should
be coercible from this stream’s <code class="docutils literal notranslate"><span class="pre">eltType</span></code>.</p>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>A random index from the domain</p>
</dd>
</dl>
</dd></dl>

<dl class="chpl method">
<dt class="sig sig-object chpl">
<em class="property"><span class="pre">proc</span> <span class="pre">ref</span> </em><span class="sig-name descname"><span class="pre">choose</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="pre">r:</span> <span class="pre">range(bounds</span> <span class="pre">=</span> <span class="pre">boundKind.both</span></em>, <em class="sig-param"><span class="pre">?)</span></em><span class="sig-paren">)</span><em class="property"> <span class="pre">:</span> <span class="pre">r.idxType</span></em><em class="property">&#160; <span class="pre">where</span> <span class="pre">isCoercible(this.eltType,</span> <span class="pre">r.idxType)</span></em></dt>
<dd><p>Choose a random value from a range.</p>
<dl class="field-list simple">
<dt class="field-odd">Arguments<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>r</strong> – The fully bounded range to choose from. Its <code class="docutils literal notranslate"><span class="pre">idxType</span></code> should
be coercible from this stream’s <code class="docutils literal notranslate"><span class="pre">eltType</span></code>.</p>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>A random value from the range</p>
</dd>
</dl>
</dd></dl>

<dl class="chpl method">
<dt class="sig sig-object chpl" id="Random.randomStream.sample">
<em class="property"><span class="pre">proc</span> <span class="pre">ref</span> </em><span class="sig-name descname"><span class="pre">sample</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="pre">const</span> <span class="pre">ref</span> <span class="pre">arr:</span> <span class="pre">[?d]</span> <span class="pre">?t</span></em>, <em class="sig-param"><span class="pre">n:</span> <span class="pre">int</span></em>, <em class="sig-param"><span class="pre">withReplacement</span> <span class="pre">=</span> <span class="pre">false</span></em><span class="sig-paren">)</span><em class="property"> <span class="pre">:</span> <span class="pre">[]</span> <span class="pre">t</span> <span class="pre">throws</span></em><em class="property">&#160; <span class="pre">where</span> <span class="pre">d.isRectangular()</span> <span class="pre">&amp;&amp;</span> <span class="pre">isCoercible(this.eltType,</span> <span class="pre">d.idxType)</span></em><a class="headerlink" href="#Random.randomStream.sample" title="Link to this definition">¶</a></dt>
<dd><p>Sample <code class="docutils literal notranslate"><span class="pre">n</span></code> random elements from an array.</p>
<dl class="field-list simple">
<dt class="field-odd">Arguments<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>arr</strong> – The rectangular array to sample from. Its domain’s <code class="docutils literal notranslate"><span class="pre">idxType</span></code>
should be coercible from this stream’s <code class="docutils literal notranslate"><span class="pre">eltType</span></code>.</p></li>
<li><p><strong>n</strong> – The number of elements to sample</p></li>
<li><p><strong>withReplacement</strong> – Whether or not to sample with replacement</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>A zero-based 1D array of <code class="docutils literal notranslate"><span class="pre">n</span></code> random elements sampled from the array</p>
</dd>
<dt class="field-odd">Throws<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>IllegalArgumentError</strong> – If <code class="docutils literal notranslate"><span class="pre">n</span> <span class="pre">&lt;</span> <span class="pre">1</span></code> or if <code class="docutils literal notranslate"><span class="pre">n</span> <span class="pre">&gt;</span> <span class="pre">arr.size</span></code> and
<code class="docutils literal notranslate"><span class="pre">withReplacement=false</span></code>. If <code class="docutils literal notranslate"><span class="pre">arr</span></code> is
empty.</p>
</dd>
</dl>
</dd></dl>

<dl class="chpl method">
<dt class="sig sig-object chpl">
<em class="property"><span class="pre">proc</span> <span class="pre">ref</span> </em><span class="sig-name descname"><span class="pre">sample</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="pre">const</span> <span class="pre">ref</span> <span class="pre">arr:</span> <span class="pre">[?d]</span> <span class="pre">?t</span></em>, <em class="sig-param"><span class="pre">n:</span> <span class="pre">int</span></em>, <em class="sig-param"><span class="pre">const</span> <span class="pre">ref</span> <span class="pre">weights:</span> <span class="pre">[?dw]</span> <span class="pre">?wt</span></em>, <em class="sig-param"><span class="pre">withReplacement</span> <span class="pre">=</span> <span class="pre">false</span></em><span class="sig-paren">)</span><em class="property"> <span class="pre">:</span> <span class="pre">[]</span> <span class="pre">t</span> <span class="pre">throws</span></em><em class="property">&#160; <span class="pre">where</span> <span class="pre">is1DRectangularDomain(d)</span> <span class="pre">&amp;&amp;</span> <span class="pre">isCoercible(this.eltType,</span> <span class="pre">wt)</span></em></dt>
<dd><p>Sample <code class="docutils literal notranslate"><span class="pre">n</span></code> random elements from an array, where each array element has
a corresponding weight.</p>
<p>Elements with relatively larger weights are more likely to be sampled.</p>
<dl class="field-list simple">
<dt class="field-odd">Arguments<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>arr</strong> – The 1D rectangular array to sample from. Its domain’s <code class="docutils literal notranslate"><span class="pre">idxType</span></code>
should be coercible from this stream’s <code class="docutils literal notranslate"><span class="pre">eltType</span></code>.</p></li>
<li><p><strong>n</strong> – The number of elements to sample</p></li>
<li><p><strong>weights</strong> – An array of weights corresponding to the elements in <code class="docutils literal notranslate"><span class="pre">arr</span></code></p></li>
<li><p><strong>withReplacement</strong> – Whether or not to sample with replacement</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>A zero-based 1D array of <code class="docutils literal notranslate"><span class="pre">n</span></code> random elements sampled from the array</p>
</dd>
<dt class="field-odd">Throws<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>IllegalArgumentError</strong> – If <code class="docutils literal notranslate"><span class="pre">n</span> <span class="pre">&lt;</span> <span class="pre">1</span></code> or if <code class="docutils literal notranslate"><span class="pre">n</span> <span class="pre">&gt;</span> <span class="pre">arr.size</span></code> and
<code class="docutils literal notranslate"><span class="pre">withReplacement=false</span></code>. If <code class="docutils literal notranslate"><span class="pre">arr</span></code> is
empty. If <code class="docutils literal notranslate"><span class="pre">weights</span></code> does not have the same
size as <code class="docutils literal notranslate"><span class="pre">arr</span></code>.</p>
</dd>
</dl>
</dd></dl>

<dl class="chpl method">
<dt class="sig sig-object chpl">
<em class="property"><span class="pre">proc</span> <span class="pre">ref</span> </em><span class="sig-name descname"><span class="pre">sample</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="pre">d:</span> <span class="pre">domain</span></em>, <em class="sig-param"><span class="pre">n:</span> <span class="pre">int</span></em>, <em class="sig-param"><span class="pre">withReplacement</span> <span class="pre">=</span> <span class="pre">false</span></em><span class="sig-paren">)</span><em class="property"> <span class="pre">:</span> <span class="pre">[]</span> <span class="pre">d.fullIdxType</span> <span class="pre">throws</span></em><em class="property">&#160; <span class="pre">where</span> <span class="pre">d.isRectangular()</span> <span class="pre">&amp;&amp;</span> <span class="pre">isCoercible(this.eltType,</span> <span class="pre">d.idxType)</span></em></dt>
<dd><p>Sample <code class="docutils literal notranslate"><span class="pre">n</span></code> random indices from a domain.</p>
<dl class="field-list simple">
<dt class="field-odd">Arguments<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>d</strong> – The rectangular domain to sample from. Its <code class="docutils literal notranslate"><span class="pre">idxType</span></code> should
be coercible from this stream’s <code class="docutils literal notranslate"><span class="pre">eltType</span></code>.</p></li>
<li><p><strong>n</strong> – The number of indices to sample</p></li>
<li><p><strong>withReplacement</strong> – Whether or not to sample with replacement</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>A zero-based 1D array of <code class="docutils literal notranslate"><span class="pre">n</span></code> random indices sampled from the domain</p>
</dd>
<dt class="field-odd">Throws<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>IllegalArgumentError</strong> – If <code class="docutils literal notranslate"><span class="pre">n</span> <span class="pre">&lt;</span> <span class="pre">1</span></code> or if <code class="docutils literal notranslate"><span class="pre">n</span> <span class="pre">&gt;</span> <span class="pre">arr.size</span></code> and
<code class="docutils literal notranslate"><span class="pre">withReplacement=false</span></code>. If <code class="docutils literal notranslate"><span class="pre">d</span></code> is
empty.</p>
</dd>
</dl>
</dd></dl>

<dl class="chpl method">
<dt class="sig sig-object chpl">
<em class="property"><span class="pre">proc</span> <span class="pre">ref</span> </em><span class="sig-name descname"><span class="pre">sample</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="pre">d:</span> <span class="pre">domain</span></em>, <em class="sig-param"><span class="pre">n:</span> <span class="pre">int</span></em>, <em class="sig-param"><span class="pre">const</span> <span class="pre">ref</span> <span class="pre">weights:</span> <span class="pre">[?dw]</span> <span class="pre">?wt</span></em>, <em class="sig-param"><span class="pre">withReplacement</span> <span class="pre">=</span> <span class="pre">false</span></em><span class="sig-paren">)</span><em class="property"> <span class="pre">:</span> <span class="pre">[]</span> <span class="pre">d.idxType</span> <span class="pre">throws</span></em><em class="property">&#160; <span class="pre">where</span> <span class="pre">is1DRectangularDomain(d)</span> <span class="pre">&amp;&amp;</span> <span class="pre">is1DRectangularDomain(dw)</span> <span class="pre">&amp;&amp;</span> <span class="pre">isCoercible(this.eltType,</span> <span class="pre">wt)</span></em></dt>
<dd><p>Sample <code class="docutils literal notranslate"><span class="pre">n</span></code> random indices from a domain, where each index has a
corresponding weight.</p>
<p>Indices with relatively larger weights are more likely to be sampled.</p>
<dl class="field-list simple">
<dt class="field-odd">Arguments<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>d</strong> – The 1D rectangular domain to sample from. Its <code class="docutils literal notranslate"><span class="pre">idxType</span></code> should
be coercible from this stream’s <code class="docutils literal notranslate"><span class="pre">eltType</span></code>.</p></li>
<li><p><strong>n</strong> – The number of indices to sample</p></li>
<li><p><strong>weights</strong> – An array of weights corresponding to the indices in <code class="docutils literal notranslate"><span class="pre">d</span></code></p></li>
<li><p><strong>withReplacement</strong> – Whether or not to sample with replacement</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>A zero-based array of <code class="docutils literal notranslate"><span class="pre">n</span></code> random indices sampled from the domain</p>
</dd>
<dt class="field-odd">Throws<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>IllegalArgumentError</strong> – If <code class="docutils literal notranslate"><span class="pre">n</span> <span class="pre">&lt;</span> <span class="pre">1</span></code> or if <code class="docutils literal notranslate"><span class="pre">n</span> <span class="pre">&gt;</span> <span class="pre">d.size</span></code> and
<code class="docutils literal notranslate"><span class="pre">withReplacement=false</span></code>. If <code class="docutils literal notranslate"><span class="pre">d</span></code> is
empty. If <code class="docutils literal notranslate"><span class="pre">weights</span></code> does not have the same
size as <code class="docutils literal notranslate"><span class="pre">d</span></code>.</p>
</dd>
</dl>
</dd></dl>

<dl class="chpl method">
<dt class="sig sig-object chpl">
<em class="property"><span class="pre">proc</span> <span class="pre">ref</span> </em><span class="sig-name descname"><span class="pre">sample</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="pre">r:</span> <span class="pre">range(bounds</span> <span class="pre">=</span> <span class="pre">boundKind.both</span></em>, <em class="sig-param"><span class="pre">?)</span></em>, <em class="sig-param"><span class="pre">n:</span> <span class="pre">int</span></em>, <em class="sig-param"><span class="pre">withReplacement</span> <span class="pre">=</span> <span class="pre">false</span></em><span class="sig-paren">)</span><em class="property"> <span class="pre">:</span> <span class="pre">[]</span> <span class="pre">r.idxType</span> <span class="pre">throws</span></em><em class="property">&#160; <span class="pre">where</span> <span class="pre">isCoercible(this.eltType,</span> <span class="pre">r.idxType)</span></em></dt>
<dd><p>Sample <code class="docutils literal notranslate"><span class="pre">n</span></code> random values from a range.</p>
<dl class="field-list simple">
<dt class="field-odd">Arguments<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>r</strong> – The fully bounded range to sample from. Its <code class="docutils literal notranslate"><span class="pre">idxType</span></code> should
be coercible from this stream’s <code class="docutils literal notranslate"><span class="pre">eltType</span></code>.</p></li>
<li><p><strong>n</strong> – The number of values to sample</p></li>
<li><p><strong>withReplacement</strong> – Whether or not to sample with replacement</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>A zero-based array of <code class="docutils literal notranslate"><span class="pre">n</span></code> random values sampled from the range</p>
</dd>
<dt class="field-odd">Throws<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>IllegalArgumentError</strong> – If <code class="docutils literal notranslate"><span class="pre">n</span> <span class="pre">&lt;</span> <span class="pre">1</span></code> or if <code class="docutils literal notranslate"><span class="pre">n</span> <span class="pre">&gt;</span> <span class="pre">arr.size</span></code> and
<code class="docutils literal notranslate"><span class="pre">withReplacement=false</span></code>. If <code class="docutils literal notranslate"><span class="pre">r</span></code> is
empty.</p>
</dd>
</dl>
</dd></dl>

<dl class="chpl method">
<dt class="sig sig-object chpl">
<em class="property"><span class="pre">proc</span> <span class="pre">ref</span> </em><span class="sig-name descname"><span class="pre">sample</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="pre">r:</span> <span class="pre">range(bounds</span> <span class="pre">=</span> <span class="pre">boundKind.both</span></em>, <em class="sig-param"><span class="pre">?)</span></em>, <em class="sig-param"><span class="pre">n:</span> <span class="pre">int</span></em>, <em class="sig-param"><span class="pre">const</span> <span class="pre">ref</span> <span class="pre">weights:</span> <span class="pre">[?dw]</span> <span class="pre">?wt</span></em>, <em class="sig-param"><span class="pre">withReplacement</span> <span class="pre">=</span> <span class="pre">false</span></em><span class="sig-paren">)</span><em class="property"> <span class="pre">:</span> <span class="pre">[]</span> <span class="pre">r.idxType</span> <span class="pre">throws</span></em><em class="property">&#160; <span class="pre">where</span> <span class="pre">is1DRectangularDomain(dw)</span> <span class="pre">&amp;&amp;</span> <span class="pre">isCoercible(this.eltType,</span> <span class="pre">wt)</span></em></dt>
<dd><p>Sample <code class="docutils literal notranslate"><span class="pre">n</span></code> random values from a range where each value has a
corresponding weight.</p>
<p>Values with relatively larger weights are more likely to be sampled.</p>
<dl class="field-list simple">
<dt class="field-odd">Arguments<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>r</strong> – The fully bounded range to sample from. Its <code class="docutils literal notranslate"><span class="pre">idxType</span></code> should
be coercible from this stream’s <code class="docutils literal notranslate"><span class="pre">eltType</span></code>.</p></li>
<li><p><strong>n</strong> – The number of values to sample</p></li>
<li><p><strong>weights</strong> – An array of weights corresponding to the values in <code class="docutils literal notranslate"><span class="pre">r</span></code></p></li>
<li><p><strong>withReplacement</strong> – Whether or not to sample with replacement</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>A zero-based array of <code class="docutils literal notranslate"><span class="pre">n</span></code> random values sampled from the range</p>
</dd>
<dt class="field-odd">Throws<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>IllegalArgumentError</strong> – If <code class="docutils literal notranslate"><span class="pre">n</span> <span class="pre">&lt;</span> <span class="pre">1</span></code> or if <code class="docutils literal notranslate"><span class="pre">n</span> <span class="pre">&gt;</span> <span class="pre">r.size</span></code> and
<code class="docutils literal notranslate"><span class="pre">withReplacement=false</span></code>. If <code class="docutils literal notranslate"><span class="pre">r</span></code> is
empty. If <code class="docutils literal notranslate"><span class="pre">weights</span></code> does not have the same
size as <code class="docutils literal notranslate"><span class="pre">r</span></code>.</p>
</dd>
</dl>
</dd></dl>

<dl class="chpl method">
<dt class="sig sig-object chpl" id="Random.randomStream.next">
<em class="property"><span class="pre">proc</span> <span class="pre">ref</span> </em><span class="sig-name descname"><span class="pre">next</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><em class="property"> <span class="pre">:</span> <span class="pre">eltType</span></em><a class="headerlink" href="#Random.randomStream.next" title="Link to this definition">¶</a></dt>
<dd><p>Get the next value in the random stream and advance its position by one.</p>
<p>Generated <code class="docutils literal notranslate"><span class="pre">real</span></code> values are in the range <code class="docutils literal notranslate"><span class="pre">[0,1]</span></code>. Analogously, <code class="docutils literal notranslate"><span class="pre">imag</span></code>
and <code class="docutils literal notranslate"><span class="pre">complex</span></code> numbers are in the range <code class="docutils literal notranslate"><span class="pre">[0i,1i]</span></code> and <code class="docutils literal notranslate"><span class="pre">[0+0i,1+1i]</span></code>
respectively.</p>
<p>Generated integers cover the full range of the type.</p>
</dd></dl>

<dl class="chpl method">
<dt class="sig sig-object chpl">
<em class="property"><span class="pre">proc</span> <span class="pre">ref</span> </em><span class="sig-name descname"><span class="pre">next</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="pre">min:</span> <span class="pre">eltType</span></em>, <em class="sig-param"><span class="pre">max:</span> <span class="pre">eltType</span></em><span class="sig-paren">)</span><em class="property"> <span class="pre">:</span> <span class="pre">eltType</span></em></dt>
<dd><p>Get the next random value from the stream within a given range. Returns
a number in [<code class="docutils literal notranslate"><span class="pre">min</span></code>, <code class="docutils literal notranslate"><span class="pre">max</span></code>] (inclusive).</p>
<p>This method will halt if checks are enabled and <code class="docutils literal notranslate"><span class="pre">min</span> <span class="pre">&gt;</span> <span class="pre">max</span></code>.</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>For integers, this type uses a strategy for generating a value
in a particular range that has not been subject to rigorous
study and may have statistical problems.</p>
<p>For real numbers, this type generates a random value in [max, min]
by computing a random value in [0,1] and scaling and shifting that
value. Note that not all possible floating point values in
the interval [<cite>min</cite>, <cite>max</cite>] can be constructed in this way.</p>
</div>
<dl class="field-list simple">
<dt class="field-odd">Arguments<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>min</strong> – The minimum value to sample</p></li>
<li><p><strong>max</strong> – The maximum value to sample</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="chpl method">
<dt class="sig sig-object chpl">
<em class="property"><span class="pre">proc</span> <span class="pre">ref</span> </em><span class="sig-name descname"><span class="pre">next</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="pre">d:</span> <span class="pre">domain</span></em><span class="sig-paren">)</span></dt>
<dd><p>Return an iterable object yielding values from the random stream.</p>
<p>For example, a rectangular array <code class="docutils literal notranslate"><span class="pre">A</span></code> could be filled with random values using:</p>
<div class="highlight-chapel notranslate"><div class="highlight"><pre><span></span><span class="kd">var</span> <span class="nx">rs</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">randomStream</span><span class="p">(</span><span class="kt">int</span><span class="p">),</span>
    <span class="nx">A</span><span class="p">:</span> <span class="p">[</span><span class="mi">1</span><span class="o">..</span><span class="mi">1000</span><span class="p">]</span> <span class="kt">int</span><span class="p">;</span>

<span class="k">forall</span> <span class="p">(</span><span class="nx">a</span><span class="p">,</span> <span class="nx">r</span><span class="p">)</span> <span class="kd">in</span> <span class="k">zip</span><span class="p">(</span><span class="nx">A</span><span class="p">,</span> <span class="nx">rs</span><span class="p">.</span><span class="nx">next</span><span class="p">(</span><span class="nx">A</span><span class="p">.</span><span class="k">domain</span><span class="p">))</span> <span class="k">do</span>
  <span class="nx">a</span> <span class="o">=</span> <span class="nx">r</span><span class="p">;</span>
</pre></div>
</div>
<p><em>Note that :proc:`randomStream.fill` also serves the same purpose.</em></p>
<dl class="field-list simple">
<dt class="field-odd">Arguments<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>d</strong> – domain associated with the iteration. <code class="docutils literal notranslate"><span class="pre">d.size</span></code> values will be yielded
by the iterator. When <code class="docutils literal notranslate"><span class="pre">d</span></code> is the first argument in a zippered iteration,
its parallelization strategy will be used.</p>
</dd>
</dl>
</dd></dl>

<dl class="chpl method">
<dt class="sig sig-object chpl">
<em class="property"><span class="pre">proc</span> <span class="pre">ref</span> </em><span class="sig-name descname"><span class="pre">next</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="pre">d:</span> <span class="pre">domain</span></em>, <em class="sig-param"><span class="pre">min:</span> <span class="pre">eltType</span></em>, <em class="sig-param"><span class="pre">max:</span> <span class="pre">eltType</span></em><span class="sig-paren">)</span></dt>
<dd><p>Return an iterable object yielding values from the random stream within
a given range.</p>
<dl class="field-list simple">
<dt class="field-odd">Arguments<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>d</strong> – domain associated with the iteration. <code class="docutils literal notranslate"><span class="pre">d.size</span></code> values will be yielded
by the iterator. When <code class="docutils literal notranslate"><span class="pre">d</span></code> is the first argument in a zippered iteration,
its parallelization strategy will be used.</p></li>
<li><p><strong>min</strong> – The minimum value to sample</p></li>
<li><p><strong>max</strong> – The maximum value to sample</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="chpl method">
<dt class="sig sig-object chpl" id="Random.randomStream.skipTo">
<em class="property"><span class="pre">proc</span> <span class="pre">ref</span> </em><span class="sig-name descname"><span class="pre">skipTo</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="pre">n:</span> <span class="pre">int</span></em><span class="sig-paren">)</span><a class="headerlink" href="#Random.randomStream.skipTo" title="Link to this definition">¶</a></dt>
<dd><p>Advance or rewind the random stream to the <code class="docutils literal notranslate"><span class="pre">n</span></code>-th position in the
pseudorandom sequence (where <code class="docutils literal notranslate"><span class="pre">n=0</span></code> is the starting position)</p>
<p>This method will halt for negative arguments if checks are enabled.</p>
<dl class="field-list simple">
<dt class="field-odd">Arguments<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>n</strong> – The position to skip to</p>
</dd>
</dl>
</dd></dl>

<dl class="chpl method">
<dt class="sig sig-object chpl" id="Random.randomStream.serialize">
<em class="property"><span class="pre">proc</span> </em><span class="sig-name descname"><span class="pre">serialize</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="pre">writer</span></em>, <em class="sig-param"><span class="pre">ref</span> <span class="pre">serializer</span></em><span class="sig-paren">)</span><span class="w"> </span><em class="property"> <span class="pre">throws</span></em><a class="headerlink" href="#Random.randomStream.serialize" title="Link to this definition">¶</a></dt>
<dd><p>serialize the <code class="docutils literal notranslate"><span class="pre">randomStream</span></code> as a record with two fields: <code class="docutils literal notranslate"><span class="pre">eltType</span></code> and <code class="docutils literal notranslate"><span class="pre">seed</span></code>.</p>
</dd></dl>

</dd></dl>

</section>
</section>


           </div>
          </div>
          <footer><div class="rst-footer-buttons" role="navigation" aria-label="Footer">
        <a href="GMP.html" class="btn btn-neutral float-left" title="GMP" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left" aria-hidden="true"></span> Previous</a>
        <a href="Random/PCGRandomLib.html" class="btn btn-neutral float-right" title="PCGRandomLib" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right" aria-hidden="true"></span></a>
    </div>

  <hr/>

  <div role="contentinfo">
    <p>&#169; Copyright 2024, Hewlett Packard Enterprise Development LP.</p>
  </div>

   

</footer>
        </div>
      </div>
    </section>
  </div>
  <script>
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script>
 



</body>
</html>