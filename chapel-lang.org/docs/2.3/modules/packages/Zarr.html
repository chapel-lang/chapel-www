<!DOCTYPE html>
<html class="writer-html5" lang="en" data-content_root="../../">
<head>
  <meta charset="utf-8" /><meta name="viewport" content="width=device-width, initial-scale=1" />

  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Zarr &mdash; Chapel Documentation 2.3</title>
      <link rel="stylesheet" type="text/css" href="../../_static/pygments.css?v=80d5e7a1" />
      <link rel="stylesheet" type="text/css" href="../../_static/css/theme.css?v=19f00094" />
      <link rel="stylesheet" type="text/css" href="../../_static/style.css?v=70f659a1" />

  
    <link rel="shortcut icon" href="../../_static/favicon.ico"/>
  <!--[if lt IE 9]>
    <script src="../../_static/js/html5shiv.min.js"></script>
  <![endif]-->
  
        <script src="../../_static/jquery.js?v=5d32c60e"></script>
        <script src="../../_static/_sphinx_javascript_frameworks_compat.js?v=2cd50e6c"></script>
        <script src="../../_static/documentation_options.js?v=c3c8ae58"></script>
        <script src="../../_static/doctools.js?v=888ff710"></script>
        <script src="../../_static/sphinx_highlight.js?v=dc90522c"></script>
    <script src="../../_static/js/theme.js"></script>
    <link rel="index" title="Index" href="../../genindex.html" />
    <link rel="search" title="Search" href="../../search.html" />
    <link rel="next" title="Python" href="Python.html" />
    <link rel="prev" title="LibYamlUtils" href="YAML/LibYamlUtils.html" />
   
  

</head>

<body class="wy-body-for-nav"> 
  <div class="wy-grid-for-nav">
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >

<a href="../../index.html" class="icon icon-home"> Chapel Documentation

<!-- display version if button won't be rendered -->
<?php if (false) { ?>
<br>2.3
<?php } ?>

</a>

<?php
// Variables given by sphinx
$chplTitle = "2.3";
$pagename = "modules/packages/Zarr";
include "../..//versionButton.php";
?>


<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" aria-label="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>


        </div><div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="Navigation menu">
  
              <p class="caption" role="heading"><span class="caption-text">Compiling and Running Chapel</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../usingchapel/QUICKSTART.html">Quickstart Instructions</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../usingchapel/index.html">Using Chapel</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../platforms/index.html">Platform-Specific Notes</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../technotes/index.html">Technical Notes</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../tools/index.html">Tools</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../developer/index.html">Docs for Contributors</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Writing Chapel Programs</span></p>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../../language/reference.html">Quick Reference</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../examples/index.html">Hello World Variants</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../primers/index.html">Primers</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../language/spec/index.html">Language Specification</a></li>
<li class="toctree-l1"><a class="reference internal" href="../standard.html">Standard Modules</a></li>
<li class="toctree-l1 current"><a class="reference internal" href="../packages.html">Package Modules</a><ul class="current">
<li class="toctree-l2"><a class="reference internal" href="../packages.html#algorithms">Algorithms</a></li>
<li class="toctree-l2"><a class="reference internal" href="../packages.html#communication-inter-locale">Communication (Inter-Locale)</a></li>
<li class="toctree-l2"><a class="reference internal" href="../packages.html#data-structures">Data Structures</a></li>
<li class="toctree-l2 current"><a class="reference internal" href="../packages.html#file-formats-and-i-o">File Formats and I/O</a><ul class="current">
<li class="toctree-l3"><a class="reference internal" href="ChplFormat.html">ChplFormat</a></li>
<li class="toctree-l3"><a class="reference internal" href="HDF5.html">HDF5</a></li>
<li class="toctree-l3"><a class="reference internal" href="HDFS.html">HDFS</a></li>
<li class="toctree-l3"><a class="reference internal" href="Image.html">Image</a></li>
<li class="toctree-l3"><a class="reference internal" href="NetCDF.html">NetCDF</a></li>
<li class="toctree-l3"><a class="reference internal" href="ObjectSerialization.html">ObjectSerialization</a></li>
<li class="toctree-l3"><a class="reference internal" href="ParallelIO.html">ParallelIO</a></li>
<li class="toctree-l3"><a class="reference internal" href="PrecisionSerializer.html">PrecisionSerializer</a></li>
<li class="toctree-l3"><a class="reference internal" href="RecordParser.html">RecordParser</a></li>
<li class="toctree-l3"><a class="reference internal" href="TOML.html">TOML</a></li>
<li class="toctree-l3"><a class="reference internal" href="YAML.html">YAML</a></li>
<li class="toctree-l3 current"><a class="current reference internal" href="#">Zarr</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../packages.html#interoperability">Interoperability</a></li>
<li class="toctree-l2"><a class="reference internal" href="../packages.html#math-numerical-computing">Math / Numerical Computing</a></li>
<li class="toctree-l2"><a class="reference internal" href="../packages.html#memory-management">Memory Management</a></li>
<li class="toctree-l2"><a class="reference internal" href="../packages.html#networking-inter-process-communication">Networking / Inter-Process Communication</a></li>
<li class="toctree-l2"><a class="reference internal" href="../packages.html#parallel-computing">Parallel Computing</a></li>
<li class="toctree-l2"><a class="reference internal" href="../packages.html#tool-support">Tool Support</a></li>
<li class="toctree-l2"><a class="reference internal" href="../packages.html#utilities">Utilities</a></li>
<li class="toctree-l2"><a class="reference internal" href="../packages.html#miscellaneous">Miscellaneous</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../layoutdist.html">Standard Layouts and Distributions</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../mason-packages/index.html">Mason Packages</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../users-guide/index.html">Chapel Users Guide (WIP)</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Language History</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../language/evolution.html">Chapel Evolution</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../language/archivedSpecs.html">Documentation Archives</a></li>
</ul>

  <p class="caption" role="heading"><span class="caption-text">Indexes</span></p>
  <ul>
    <li class="toctree-11"><a class="reference internal" href="../../chpl-modindex.html">Chapel Module Index</a></li>
    <li class="toctree-11"><a class="reference internal" href="../../genindex.html">Complete Docs Index</a></li>
  </ul>

        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap"><nav class="wy-nav-top" aria-label="Mobile navigation menu" >
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../../index.html">Chapel Documentation</a>
      </nav>

      <div class="wy-nav-content">
        <div class="rst-content">
          <div role="navigation" aria-label="Page navigation">
  <ul class="wy-breadcrumbs">
      <li><a href="../../index.html" class="icon icon-home" aria-label="Home"></a></li>
          <li class="breadcrumb-item"><a href="../packages.html">Package Modules</a></li>
      <li class="breadcrumb-item active">Zarr</li>
      <li class="wy-breadcrumbs-aside">
            <a href="../../_sources/modules/packages/Zarr.rst.txt" rel="nofollow"> View page source</a>
      </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
             
  <section id="zarr">
<span id="module-Zarr"></span><h1>Zarr<a class="headerlink" href="#zarr" title="Link to this heading">¶</a></h1>
<p><strong>Usage</strong></p>
<div class="highlight-chapel notranslate"><div class="highlight"><pre><span></span><span class="k">use</span> <span class="nx">Zarr</span><span class="p">;</span>
</pre></div>
</div>
<p>or</p>
<div class="highlight-chapel notranslate"><div class="highlight"><pre><span></span><span class="k">import</span> <span class="nx">Zarr</span><span class="p">;</span>
</pre></div>
</div>
<p>Support for reading and writing of Zarr stores.</p>
<p>Support is limited to v2 Zarr arrays stored on local filesystems. NFS
is not supported. The module uses c-blosc to compress and decompress chunks.
Zarr specification: <a class="reference external" href="https://zarr-specs.readthedocs.io/en/latest/v2/v2.0.html">https://zarr-specs.readthedocs.io/en/latest/v2/v2.0.html</a></p>
<dl class="chpl data">
<dt class="sig sig-object chpl" id="Zarr.zarrProfiling">
<em class="property"><span class="pre">config</span> <span class="pre">param</span> </em><span class="sig-name descname"><span class="pre">zarrProfiling</span></span><span class="w"> </span><em class="property"> <span class="pre">=</span> <span class="pre">false</span></em><a class="headerlink" href="#Zarr.zarrProfiling" title="Link to this definition">¶</a></dt>
<dd><p>Turns on/off profiling of Zarr IO</p>
</dd></dl>

<dl class="chpl iterfunction">
<dt class="sig sig-object chpl" id="Zarr.zarrProfilingResults">
<em class="property"><span class="pre">iter</span> </em><span class="sig-name descname"><span class="pre">zarrProfilingResults</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><span class="w"> </span><em class="property"> <span class="pre">throws</span></em><a class="headerlink" href="#Zarr.zarrProfilingResults" title="Link to this definition">¶</a></dt>
<dd><p>Returns a map of profiling results for Zarr IO operations. The keys are
the names of the operations and the values are the total time spent in
each operation across all threads. Requires that zarrProfiling be set to
true.</p>
</dd></dl>

<dl class="chpl function">
<dt class="sig sig-object chpl" id="Zarr.resetZarrProfiling">
<em class="property"><span class="pre">proc</span> </em><span class="sig-name descname"><span class="pre">resetZarrProfiling</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#Zarr.resetZarrProfiling" title="Link to this definition">¶</a></dt>
<dd><p>Resets the profiling timer for Zarr IO operations. Should only be
used when compiled with zarrProfiling set to true.</p>
</dd></dl>

<dl class="chpl record">
<dt class="sig sig-object chpl" id="Zarr.zarrMetadataV2">
<em class="property"><span class="pre">record</span> </em><span class="sig-name descname"><span class="pre">zarrMetadataV2</span></span><a class="headerlink" href="#Zarr.zarrMetadataV2" title="Link to this definition">¶</a></dt>
<dd><dl class="chpl attribute">
<dt class="sig sig-object chpl" id="Zarr.zarrMetadataV2.zarr_format">
<em class="property"><span class="pre">var</span> </em><span class="sig-name descname"><span class="pre">zarr_format</span></span><em class="property"> <span class="pre">:</span> <span class="pre">int</span></em><a class="headerlink" href="#Zarr.zarrMetadataV2.zarr_format" title="Link to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="chpl attribute">
<dt class="sig sig-object chpl" id="Zarr.zarrMetadataV2.chunks">
<em class="property"><span class="pre">var</span> </em><span class="sig-name descname"><span class="pre">chunks</span></span><em class="property"> <span class="pre">:</span> <span class="pre">list(int)</span></em><a class="headerlink" href="#Zarr.zarrMetadataV2.chunks" title="Link to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="chpl attribute">
<dt class="sig sig-object chpl" id="Zarr.zarrMetadataV2.dtype">
<em class="property"><span class="pre">var</span> </em><span class="sig-name descname"><span class="pre">dtype</span></span><em class="property"> <span class="pre">:</span> <span class="pre">string</span></em><a class="headerlink" href="#Zarr.zarrMetadataV2.dtype" title="Link to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="chpl attribute">
<dt class="sig sig-object chpl" id="Zarr.zarrMetadataV2.shape">
<em class="property"><span class="pre">var</span> </em><span class="sig-name descname"><span class="pre">shape</span></span><em class="property"> <span class="pre">:</span> <span class="pre">list(int)</span></em><a class="headerlink" href="#Zarr.zarrMetadataV2.shape" title="Link to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="chpl attribute">
<dt class="sig sig-object chpl" id="Zarr.zarrMetadataV2.compressor">
<em class="property"><span class="pre">var</span> </em><span class="sig-name descname"><span class="pre">compressor</span></span><em class="property"> <span class="pre">:</span> <span class="pre">string</span></em><a class="headerlink" href="#Zarr.zarrMetadataV2.compressor" title="Link to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="chpl record">
<dt class="sig sig-object chpl" id="Zarr.zarrMetadataV2Required">
<em class="property"><span class="pre">record</span> </em><span class="sig-name descname"><span class="pre">zarrMetadataV2Required</span></span><a class="headerlink" href="#Zarr.zarrMetadataV2Required" title="Link to this definition">¶</a></dt>
<dd><dl class="chpl attribute">
<dt class="sig sig-object chpl" id="Zarr.zarrMetadataV2Required.zarr_format">
<em class="property"><span class="pre">var</span> </em><span class="sig-name descname"><span class="pre">zarr_format</span></span><em class="property"> <span class="pre">:</span> <span class="pre">int</span></em><a class="headerlink" href="#Zarr.zarrMetadataV2Required.zarr_format" title="Link to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="chpl attribute">
<dt class="sig sig-object chpl" id="Zarr.zarrMetadataV2Required.chunks">
<em class="property"><span class="pre">var</span> </em><span class="sig-name descname"><span class="pre">chunks</span></span><em class="property"> <span class="pre">:</span> <span class="pre">list(int)</span></em><a class="headerlink" href="#Zarr.zarrMetadataV2Required.chunks" title="Link to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="chpl attribute">
<dt class="sig sig-object chpl" id="Zarr.zarrMetadataV2Required.dtype">
<em class="property"><span class="pre">var</span> </em><span class="sig-name descname"><span class="pre">dtype</span></span><em class="property"> <span class="pre">:</span> <span class="pre">string</span></em><a class="headerlink" href="#Zarr.zarrMetadataV2Required.dtype" title="Link to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="chpl attribute">
<dt class="sig sig-object chpl" id="Zarr.zarrMetadataV2Required.shape">
<em class="property"><span class="pre">var</span> </em><span class="sig-name descname"><span class="pre">shape</span></span><em class="property"> <span class="pre">:</span> <span class="pre">list(int)</span></em><a class="headerlink" href="#Zarr.zarrMetadataV2Required.shape" title="Link to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="chpl record">
<dt class="sig sig-object chpl" id="Zarr.zarrMetadataV2Optional">
<em class="property"><span class="pre">record</span> </em><span class="sig-name descname"><span class="pre">zarrMetadataV2Optional</span></span><a class="headerlink" href="#Zarr.zarrMetadataV2Optional" title="Link to this definition">¶</a></dt>
<dd><dl class="chpl attribute">
<dt class="sig sig-object chpl" id="Zarr.zarrMetadataV2Optional.compressor">
<em class="property"><span class="pre">var</span> </em><span class="sig-name descname"><span class="pre">compressor</span></span><em class="property"> <span class="pre">:</span> <span class="pre">string</span></em><a class="headerlink" href="#Zarr.zarrMetadataV2Optional.compressor" title="Link to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="chpl record">
<dt class="sig sig-object chpl" id="Zarr.zarrMetadataV3">
<em class="property"><span class="pre">record</span> </em><span class="sig-name descname"><span class="pre">zarrMetadataV3</span></span><a class="headerlink" href="#Zarr.zarrMetadataV3" title="Link to this definition">¶</a></dt>
<dd><p>Unused until support is added for v3.0 stores</p>
<dl class="chpl attribute">
<dt class="sig sig-object chpl" id="Zarr.zarrMetadataV3.zarr_format">
<em class="property"><span class="pre">var</span> </em><span class="sig-name descname"><span class="pre">zarr_format</span></span><em class="property"> <span class="pre">:</span> <span class="pre">int</span></em><a class="headerlink" href="#Zarr.zarrMetadataV3.zarr_format" title="Link to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="chpl attribute">
<dt class="sig sig-object chpl" id="Zarr.zarrMetadataV3.node_type">
<em class="property"><span class="pre">var</span> </em><span class="sig-name descname"><span class="pre">node_type</span></span><em class="property"> <span class="pre">:</span> <span class="pre">string</span></em><a class="headerlink" href="#Zarr.zarrMetadataV3.node_type" title="Link to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="chpl attribute">
<dt class="sig sig-object chpl" id="Zarr.zarrMetadataV3.shape">
<em class="property"><span class="pre">var</span> </em><span class="sig-name descname"><span class="pre">shape</span></span><em class="property"> <span class="pre">:</span> <span class="pre">list(int)</span></em><a class="headerlink" href="#Zarr.zarrMetadataV3.shape" title="Link to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="chpl attribute">
<dt class="sig sig-object chpl" id="Zarr.zarrMetadataV3.data_type">
<em class="property"><span class="pre">var</span> </em><span class="sig-name descname"><span class="pre">data_type</span></span><em class="property"> <span class="pre">:</span> <span class="pre">string</span></em><a class="headerlink" href="#Zarr.zarrMetadataV3.data_type" title="Link to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="chpl attribute">
<dt class="sig sig-object chpl" id="Zarr.zarrMetadataV3.dimension_names">
<em class="property"><span class="pre">var</span> </em><span class="sig-name descname"><span class="pre">dimension_names</span></span><em class="property"> <span class="pre">:</span> <span class="pre">list(string)</span></em><a class="headerlink" href="#Zarr.zarrMetadataV3.dimension_names" title="Link to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="chpl function">
<dt class="sig sig-object chpl" id="Zarr.getLocalChunks">
<em class="property"><span class="pre">proc</span> </em><span class="sig-name descname"><span class="pre">getLocalChunks</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="pre">D:</span> <span class="pre">domain(?)</span></em>, <em class="sig-param"><span class="pre">localD:</span> <span class="pre">domain(?)</span></em>, <em class="sig-param"><span class="pre">chunkShape:</span> <span class="pre">?dimCount*int</span></em><span class="sig-paren">)</span><em class="property"> <span class="pre">:</span> <span class="pre">domain(dimCount)</span></em><a class="headerlink" href="#Zarr.getLocalChunks" title="Link to this definition">¶</a></dt>
<dd><p>Returns the indices of the chunks that contain elements present in a subdomain of the array.</p>
</dd></dl>

<dl class="chpl function">
<dt class="sig sig-object chpl" id="Zarr.getChunkDomain">
<em class="property"><span class="pre">proc</span> </em><span class="sig-name descname"><span class="pre">getChunkDomain</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="pre">chunkShape:</span> <span class="pre">?dimCount*int</span></em>, <em class="sig-param"><span class="pre">chunkIndex:</span> <span class="pre">dimCount*int</span></em><span class="sig-paren">)</span><a class="headerlink" href="#Zarr.getChunkDomain" title="Link to this definition">¶</a></dt>
<dd><p>Returns the domain of a chunk for a store with a given chunk shape.</p>
<dl class="field-list simple">
<dt class="field-odd">Arguments<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>chunkShape</strong> – A tuple of the extents of the dimensions of each chunk in the store.</p></li>
<li><p><strong>chunkIndex</strong> – A tuple of the indices of the chunk to get the domain for.</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>The domain of the chunk.</p>
</dd>
</dl>
</dd></dl>

<dl class="chpl function">
<dt class="sig sig-object chpl" id="Zarr.readChunk">
<em class="property"><span class="pre">proc</span> </em><span class="sig-name descname"><span class="pre">readChunk</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="pre">param</span> <span class="pre">dimCount:</span> <span class="pre">int</span></em>, <em class="sig-param"><span class="pre">chunkPath:</span> <span class="pre">string</span></em>, <em class="sig-param"><span class="pre">chunkDomain:</span> <span class="pre">domain(dimCount)</span></em>, <em class="sig-param"><span class="pre">ref</span> <span class="pre">arraySlice:</span> <span class="pre">[]</span> <span class="pre">?t</span></em><span class="sig-paren">)</span><span class="w"> </span><em class="property"> <span class="pre">throws</span></em><a class="headerlink" href="#Zarr.readChunk" title="Link to this definition">¶</a></dt>
<dd><p>Reads a chunk from storage and fills <cite>arraySlice</cite> with its corresponding
values.</p>
<dl class="field-list simple">
<dt class="field-odd">Arguments<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>dimCount</strong> – Dimensionality of the array being read.</p></li>
<li><p><strong>chunkPath</strong> – Relative or absolute path to the chunk being read.</p></li>
<li><p><strong>chunkDomain</strong> – Domain of the chunk being read. Because boundary chunks
are padded with zeros, the chunk’s domain may be larger in some
dimensions than the array’s.</p></li>
<li><p><strong>arraySlice</strong> – Reference to the portion of the calling locale’s section
of the array that this chunk will update. The domain of this slice
should be a subset of the chunk’s.</p></li>
</ul>
</dd>
<dt class="field-even">Throws<span class="colon">:</span></dt>
<dd class="field-even"><p><strong>Error</strong> – If the decompression fails</p>
</dd>
</dl>
</dd></dl>

<dl class="chpl function">
<dt class="sig sig-object chpl" id="Zarr.writeChunk">
<em class="property"><span class="pre">proc</span> </em><span class="sig-name descname"><span class="pre">writeChunk</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="pre">param</span> <span class="pre">dimCount</span></em>, <em class="sig-param"><span class="pre">chunkPath:</span> <span class="pre">string</span></em>, <em class="sig-param"><span class="pre">chunkDomain:</span> <span class="pre">domain(dimCount)</span></em>, <em class="sig-param"><span class="pre">ref</span> <span class="pre">arraySlice:</span> <span class="pre">[]</span> <span class="pre">?t</span></em>, <em class="sig-param"><span class="pre">bloscLevel:</span> <span class="pre">int(32)</span> <span class="pre">=</span> <span class="pre">9</span></em>, <em class="sig-param"><span class="pre">compressor:</span> <span class="pre">string</span> <span class="pre">=</span> <span class="pre">&quot;blosclz&quot;</span></em><span class="sig-paren">)</span><span class="w"> </span><em class="property"> <span class="pre">throws</span></em><a class="headerlink" href="#Zarr.writeChunk" title="Link to this definition">¶</a></dt>
<dd><p>Updates a chunk in storage with a locale’s contribution to that chunk.
The calling function is expected to manage synchronization among locales.
If the locale contributes the entire chunk, it will immediately compress
and write the chunk’s data. If the contribution is partial, it decompresses
the chunk, updates the necessary values, then compresses and writes the
chunk to storage.</p>
<dl class="field-list simple">
<dt class="field-odd">Arguments<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>dimCount</strong> – Dimensionality of the array being written.</p></li>
<li><p><strong>chunkPath</strong> – Relative or absolute path to the chunk being written.</p></li>
<li><p><strong>chunkDomain</strong> – Domain of the chunk being updated. Because boundary
chunks are padded with zeros, the chunk’s domain may be larger in
some dimensions than the array’s.</p></li>
<li><p><strong>arraySlice</strong> – The portion of the array that the calling locale
contributes to this chunk.</p></li>
<li><p><strong>bloscLevel</strong> – Compression level to use. 0 indicates no compression,
9 (default) indicates maximum compression. Values outside of this range
will be clipped to a value between 0 and 9.</p></li>
</ul>
</dd>
<dt class="field-even">Throws<span class="colon">:</span></dt>
<dd class="field-even"><p><strong>Error</strong> – If the compression fails</p>
</dd>
</dl>
</dd></dl>

<dl class="chpl function">
<dt class="sig sig-object chpl" id="Zarr.readZarrArray">
<em class="property"><span class="pre">proc</span> </em><span class="sig-name descname"><span class="pre">readZarrArray</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="pre">directoryPath:</span> <span class="pre">string</span></em>, <em class="sig-param"><span class="pre">type</span> <span class="pre">dtype</span></em>, <em class="sig-param"><span class="pre">param</span> <span class="pre">dimCount:</span> <span class="pre">int</span></em>, <em class="sig-param"><span class="pre">bloscThreads:</span> <span class="pre">int(32)</span> <span class="pre">=</span> <span class="pre">1</span></em>, <em class="sig-param"><span class="pre">targetLocales:</span> <span class="pre">[]</span> <span class="pre">locale</span> <span class="pre">=</span> <span class="pre">Locales</span></em><span class="sig-paren">)</span><span class="w"> </span><em class="property"> <span class="pre">throws</span></em><a class="headerlink" href="#Zarr.readZarrArray" title="Link to this definition">¶</a></dt>
<dd><p>Reads a v2.0 zarr store from storage using all locales, returning a
block distributed array. Each locale reads and decompresses the chunks
with elements in its subdomain. This method assumes a shared filesystem
where all nodes can access the store directory.</p>
<dl class="field-list simple">
<dt class="field-odd">Arguments<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>directoryPath</strong> – Relative or absolute path to the root of the zarr
store. The store is expected to contain a ‘.zarray’ metadata file</p></li>
<li><p><strong>dtype</strong> – Chapel type of the store’s data</p></li>
<li><p><strong>dimCount</strong> – Dimensionality of the zarr array</p></li>
<li><p><strong>bloscThreads</strong> – The number of threads to use during compression (default=1)</p></li>
<li><p><strong>targetLocales</strong> – The locales to use for reading the array in the shape the
array will be distributed</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="chpl function">
<dt class="sig sig-object chpl" id="Zarr.writeZarrArray">
<em class="property"><span class="pre">proc</span> </em><span class="sig-name descname"><span class="pre">writeZarrArray</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="pre">directoryPath:</span> <span class="pre">string</span></em>, <em class="sig-param"><span class="pre">const</span> <span class="pre">ref</span> <span class="pre">A:</span> <span class="pre">[?domainType]</span> <span class="pre">?dtype</span></em>, <em class="sig-param"><span class="pre">chunkShape:</span> <span class="pre">?dimCount*int</span></em>, <em class="sig-param"><span class="pre">bloscLevel:</span> <span class="pre">int(32)</span> <span class="pre">=</span> <span class="pre">9</span></em>, <em class="sig-param"><span class="pre">compressor</span> <span class="pre">=</span> <span class="pre">&quot;blosclz&quot;</span></em><span class="sig-paren">)</span><span class="w"> </span><em class="property"> <span class="pre">throws</span></em><a class="headerlink" href="#Zarr.writeZarrArray" title="Link to this definition">¶</a></dt>
<dd><p>Writes an array to storage as a v2.0 zarr store. The array metadata and
chunks will be stored within the <cite>directoryPath</cite> directory, which is created
if it does not yet exist. The chunks will have the dimensions given in the
<cite>chunkShape</cite> argument. This function writes chunks in parallel, and supports
distributed execution. It assumes a shared filesystem where all nodes can
access the store directory.</p>
<dl class="field-list simple">
<dt class="field-odd">Arguments<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>directoryPath</strong> – Relative or absolute path to the root of the zarr store.
The directory and all necessary parent directories will be created if it
does not exist.</p></li>
<li><p><strong>A</strong> – The array to write to storage.</p></li>
<li><p><strong>chunkShape</strong> – The dimension extents to use when breaking A into chunks.</p></li>
<li><p><strong>bloscLevel</strong> – Compression level to use. 0 indicates no compression,
9 (default) indicates maximum compression.</p></li>
<li><p><strong>compressor</strong> – Compression algorithm to use. Supported values are “blosclz” (default),
“lz4”, “lz4hc”, “zlib”, and “zstd”.</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="chpl function">
<dt class="sig sig-object chpl" id="Zarr.readZarrArrayPartial">
<em class="property"><span class="pre">proc</span> </em><span class="sig-name descname"><span class="pre">readZarrArrayPartial</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="pre">directoryPath:</span> <span class="pre">string</span></em>, <em class="sig-param"><span class="pre">type</span> <span class="pre">dtype</span></em>, <em class="sig-param"><span class="pre">param</span> <span class="pre">dimCount:</span> <span class="pre">int</span></em>, <em class="sig-param"><span class="pre">partialDomain</span></em>, <em class="sig-param"><span class="pre">bloscThreads:</span> <span class="pre">int(32)</span> <span class="pre">=</span> <span class="pre">1</span></em>, <em class="sig-param"><span class="pre">targetLocales:</span> <span class="pre">[]</span> <span class="pre">locale</span> <span class="pre">=</span> <span class="pre">Locales</span></em><span class="sig-paren">)</span><span class="w"> </span><em class="property"> <span class="pre">throws</span></em><a class="headerlink" href="#Zarr.readZarrArrayPartial" title="Link to this definition">¶</a></dt>
<dd><p>Reads part of a v2.0 zarr store from storage using all locales, returning a
block distributed array. Each locale reads and decompresses the chunks
with elements in its subdomain. This method assumes a shared filesystem
where all nodes can access the store directory.</p>
<dl class="field-list simple">
<dt class="field-odd">Arguments<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>directoryPath</strong> – Relative or absolute path to the root of the zarr
store. The store is expected to contain a ‘.zarray’ metadata file</p></li>
<li><p><strong>dtype</strong> – Chapel type of the store’s data</p></li>
<li><p><strong>dimCount</strong> – Dimensionality of the zarr array</p></li>
<li><p><strong>partialDomain</strong> – The domain of the elements of the array that should be read</p></li>
<li><p><strong>bloscThreads</strong> – The number of threads to use during compression (default=1)</p></li>
<li><p><strong>targetLocales</strong> – The locales to use for reading the array in the shape the
array will be distributed</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="chpl function">
<dt class="sig sig-object chpl" id="Zarr.readZarrArrayLocal">
<em class="property"><span class="pre">proc</span> </em><span class="sig-name descname"><span class="pre">readZarrArrayLocal</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="pre">directoryPath:</span> <span class="pre">string</span></em>, <em class="sig-param"><span class="pre">type</span> <span class="pre">dtype</span></em>, <em class="sig-param"><span class="pre">param</span> <span class="pre">dimCount:</span> <span class="pre">int</span></em><span class="sig-paren">)</span><span class="w"> </span><em class="property"> <span class="pre">throws</span></em><a class="headerlink" href="#Zarr.readZarrArrayLocal" title="Link to this definition">¶</a></dt>
<dd><p>Reads a v2.0 zarr store from storage using a single locale, returning a
locally allocated array. This method assumes a shared filesystem
where the current locale can access the store directory.</p>
<dl class="field-list simple">
<dt class="field-odd">Arguments<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>directoryPath</strong> – Relative or absolute path to the root of the zarr
store. The store is expected to contain a ‘.zarray’ metadata file</p></li>
<li><p><strong>dtype</strong> – Chapel type of the store’s data</p></li>
<li><p><strong>dimCount</strong> – Dimensionality of the zarr array</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="chpl function">
<dt class="sig sig-object chpl" id="Zarr.writeZarrArrayLocal">
<em class="property"><span class="pre">proc</span> </em><span class="sig-name descname"><span class="pre">writeZarrArrayLocal</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="pre">directoryPath:</span> <span class="pre">string</span></em>, <em class="sig-param"><span class="pre">ref</span> <span class="pre">A:</span> <span class="pre">[?domainType]</span> <span class="pre">?dtype</span></em>, <em class="sig-param"><span class="pre">chunkShape:</span> <span class="pre">?dimCount*int</span></em>, <em class="sig-param"><span class="pre">bloscLevel:</span> <span class="pre">int(32)</span> <span class="pre">=</span> <span class="pre">9</span></em>, <em class="sig-param"><span class="pre">compressor</span> <span class="pre">=</span> <span class="pre">&quot;blosclz&quot;</span></em><span class="sig-paren">)</span><span class="w"> </span><em class="property"> <span class="pre">throws</span></em><a class="headerlink" href="#Zarr.writeZarrArrayLocal" title="Link to this definition">¶</a></dt>
<dd><p>Writes an array to storage as a v2.0 zarr store using a single locale. The
array metadata and chunks will be stored within the <cite>directoryPath</cite>
directory, which is created if it does not yet exist. The chunks will
have the dimensions given in the`chunkShape` argument.</p>
<dl class="field-list simple">
<dt class="field-odd">Arguments<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>directoryPath</strong> – Relative or absolute path to the root of the zarr store.
The directory and all necessary parent directories will be created if it
does not exist.</p></li>
<li><p><strong>A</strong> – The array to write to storage.</p></li>
<li><p><strong>chunkShape</strong> – The dimension extents to use when breaking A into chunks.</p></li>
<li><p><strong>bloscLevel</strong> – Compression level to use. 0 indicates no compression,
9 (default) indicates maximum compression.</p></li>
<li><p><strong>compressor</strong> – Compression algorithm to use. Supported values are “blosclz” (default),
“lz4”, “lz4hc”, “zlib”, and “zstd”.</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="chpl function">
<dt class="sig sig-object chpl" id="Zarr.updateZarrChunk">
<em class="property"><span class="pre">proc</span> </em><span class="sig-name descname"><span class="pre">updateZarrChunk</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="pre">directoryPath:</span> <span class="pre">string</span></em>, <em class="sig-param"><span class="pre">ref</span> <span class="pre">A:</span> <span class="pre">[?domainType]</span> <span class="pre">?dtype</span></em>, <em class="sig-param"><span class="pre">chunkIndex:</span> <span class="pre">?dimCount*int</span></em><span class="sig-paren">)</span><span class="w"> </span><em class="property"> <span class="pre">throws</span></em><a class="headerlink" href="#Zarr.updateZarrChunk" title="Link to this definition">¶</a></dt>
<dd><p>Updates a single chunk within a Zarr store with the data in <cite>A</cite>. The
Zarr store and the associated metadata file must already exist.</p>
<dl class="field-list simple">
<dt class="field-odd">Arguments<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>directoryPath</strong> – Relative or absolute path to the root of the zarr
store. This directory should exist and contain a ‘.zarray’ metadata file.</p></li>
<li><p><strong>A</strong> – The array to update the chunk with.</p></li>
<li><p><strong>chunkIndex</strong> – The index of the chunk to update.</p></li>
<li><p><strong>bloscThreads</strong> – The number of threads to use during compression (default=1)</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="chpl function">
<dt class="sig sig-object chpl">
<em class="property"><span class="pre">proc</span> </em><span class="sig-name descname"><span class="pre">updateZarrChunk</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="pre">directoryPath:</span> <span class="pre">string</span></em>, <em class="sig-param"><span class="pre">ref</span> <span class="pre">A:</span> <span class="pre">[?domainType]</span> <span class="pre">?dtype</span></em>, <em class="sig-param"><span class="pre">chunkIndex:</span> <span class="pre">int</span></em><span class="sig-paren">)</span><span class="w"> </span><em class="property"> <span class="pre">throws</span></em></dt>
<dd></dd></dl>

</section>


           </div>
          </div>
          <footer><div class="rst-footer-buttons" role="navigation" aria-label="Footer">
        <a href="YAML/LibYamlUtils.html" class="btn btn-neutral float-left" title="LibYamlUtils" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left" aria-hidden="true"></span> Previous</a>
        <a href="Python.html" class="btn btn-neutral float-right" title="Python" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right" aria-hidden="true"></span></a>
    </div>

  <hr/>

  <div role="contentinfo">
    <p>&#169; Copyright 2024, Hewlett Packard Enterprise Development LP.</p>
  </div>

   

</footer>
        </div>
      </div>
    </section>
  </div>
  <script>
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script>
 



</body>
</html>