<!DOCTYPE html>
<html class="writer-html5" lang="en" data-content_root="../../">
<head>
  <meta charset="utf-8" /><meta name="viewport" content="width=device-width, initial-scale=1" />

  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Python &mdash; Chapel Documentation 2.3</title>
      <link rel="stylesheet" type="text/css" href="../../_static/pygments.css?v=80d5e7a1" />
      <link rel="stylesheet" type="text/css" href="../../_static/css/theme.css?v=19f00094" />
      <link rel="stylesheet" type="text/css" href="../../_static/style.css?v=70f659a1" />

  
    <link rel="shortcut icon" href="../../_static/favicon.ico"/>
  <!--[if lt IE 9]>
    <script src="../../_static/js/html5shiv.min.js"></script>
  <![endif]-->
  
        <script src="../../_static/jquery.js?v=5d32c60e"></script>
        <script src="../../_static/_sphinx_javascript_frameworks_compat.js?v=2cd50e6c"></script>
        <script src="../../_static/documentation_options.js?v=c3c8ae58"></script>
        <script src="../../_static/doctools.js?v=888ff710"></script>
        <script src="../../_static/sphinx_highlight.js?v=dc90522c"></script>
    <script src="../../_static/js/theme.js"></script>
    <link rel="index" title="Index" href="../../genindex.html" />
    <link rel="search" title="Search" href="../../search.html" />
    <link rel="next" title="BLAS" href="BLAS.html" />
    <link rel="prev" title="Zarr" href="Zarr.html" />
   
  

</head>

<body class="wy-body-for-nav"> 
  <div class="wy-grid-for-nav">
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >

<a href="../../index.html" class="icon icon-home"> Chapel Documentation

<!-- display version if button won't be rendered -->
<?php if (false) { ?>
<br>2.3
<?php } ?>

</a>

<?php
// Variables given by sphinx
$chplTitle = "2.3";
$pagename = "modules/packages/Python";
include "../..//versionButton.php";
?>


<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" aria-label="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>


        </div><div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="Navigation menu">
  
              <p class="caption" role="heading"><span class="caption-text">Compiling and Running Chapel</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../usingchapel/QUICKSTART.html">Quickstart Instructions</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../usingchapel/index.html">Using Chapel</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../platforms/index.html">Platform-Specific Notes</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../technotes/index.html">Technical Notes</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../tools/index.html">Tools</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../developer/index.html">Docs for Contributors</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Writing Chapel Programs</span></p>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../../language/reference.html">Quick Reference</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../examples/index.html">Hello World Variants</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../primers/index.html">Primers</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../language/spec/index.html">Language Specification</a></li>
<li class="toctree-l1"><a class="reference internal" href="../standard.html">Standard Modules</a></li>
<li class="toctree-l1 current"><a class="reference internal" href="../packages.html">Package Modules</a><ul class="current">
<li class="toctree-l2"><a class="reference internal" href="../packages.html#algorithms">Algorithms</a></li>
<li class="toctree-l2"><a class="reference internal" href="../packages.html#communication-inter-locale">Communication (Inter-Locale)</a></li>
<li class="toctree-l2"><a class="reference internal" href="../packages.html#data-structures">Data Structures</a></li>
<li class="toctree-l2"><a class="reference internal" href="../packages.html#file-formats-and-i-o">File Formats and I/O</a></li>
<li class="toctree-l2 current"><a class="reference internal" href="../packages.html#interoperability">Interoperability</a><ul class="current">
<li class="toctree-l3 current"><a class="current reference internal" href="#">Python</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#compiling-chapel-code">Compiling Chapel code</a></li>
<li class="toctree-l4"><a class="reference internal" href="#parallel-execution">Parallel Execution</a></li>
<li class="toctree-l4"><a class="reference internal" href="#using-python-modules-with-distributed-code">Using Python Modules With Distributed Code</a></li>
<li class="toctree-l4"><a class="reference internal" href="#defining-custom-types">Defining Custom Types</a></li>
<li class="toctree-l4"><a class="reference internal" href="#more-examples">More Examples:</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../packages.html#math-numerical-computing">Math / Numerical Computing</a></li>
<li class="toctree-l2"><a class="reference internal" href="../packages.html#memory-management">Memory Management</a></li>
<li class="toctree-l2"><a class="reference internal" href="../packages.html#networking-inter-process-communication">Networking / Inter-Process Communication</a></li>
<li class="toctree-l2"><a class="reference internal" href="../packages.html#parallel-computing">Parallel Computing</a></li>
<li class="toctree-l2"><a class="reference internal" href="../packages.html#tool-support">Tool Support</a></li>
<li class="toctree-l2"><a class="reference internal" href="../packages.html#utilities">Utilities</a></li>
<li class="toctree-l2"><a class="reference internal" href="../packages.html#miscellaneous">Miscellaneous</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../layoutdist.html">Standard Layouts and Distributions</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../mason-packages/index.html">Mason Packages</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../users-guide/index.html">Chapel Users Guide (WIP)</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Language History</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../language/evolution.html">Chapel Evolution</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../language/archivedSpecs.html">Documentation Archives</a></li>
</ul>

  <p class="caption" role="heading"><span class="caption-text">Indexes</span></p>
  <ul>
    <li class="toctree-11"><a class="reference internal" href="../../chpl-modindex.html">Chapel Module Index</a></li>
    <li class="toctree-11"><a class="reference internal" href="../../genindex.html">Complete Docs Index</a></li>
  </ul>

        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap"><nav class="wy-nav-top" aria-label="Mobile navigation menu" >
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../../index.html">Chapel Documentation</a>
      </nav>

      <div class="wy-nav-content">
        <div class="rst-content">
          <div role="navigation" aria-label="Page navigation">
  <ul class="wy-breadcrumbs">
      <li><a href="../../index.html" class="icon icon-home" aria-label="Home"></a></li>
          <li class="breadcrumb-item"><a href="../packages.html">Package Modules</a></li>
      <li class="breadcrumb-item active">Python</li>
      <li class="wy-breadcrumbs-aside">
            <a href="../../_sources/modules/packages/Python.rst.txt" rel="nofollow"> View page source</a>
      </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
             
  <section id="python">
<span id="module-Python"></span><h1>Python<a class="headerlink" href="#python" title="Link to this heading">¶</a></h1>
<p><strong>Usage</strong></p>
<div class="highlight-chapel notranslate"><div class="highlight"><pre><span></span><span class="k">use</span> <span class="nx">Python</span><span class="p">;</span>
</pre></div>
</div>
<p>or</p>
<div class="highlight-chapel notranslate"><div class="highlight"><pre><span></span><span class="k">import</span> <span class="nx">Python</span><span class="p">;</span>
</pre></div>
</div>
<div class="admonition warning">
<p class="admonition-title">Warning</p>
<p>The Python module’s interface is under active development and may change</p>
</div>
<p>Library for interfacing with Python from Chapel code.</p>
<p>This module provides a Chapel interface to a Python interpreter.
It allows manipulating native Python objects and libraries with minimal
wrapper code required.</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>This module is implemented using the Python C API, and as such, it is not
compatible with PyPy or other alternative Python implementations.</p>
</div>
<section id="compiling-chapel-code">
<h2>Compiling Chapel code<a class="headerlink" href="#compiling-chapel-code" title="Link to this heading">¶</a></h2>
<p>Compiling Chapel code that uses this module needs the <code class="docutils literal notranslate"><span class="pre">Python.h</span></code> header file
and requires linking with the Python library. If <code class="docutils literal notranslate"><span class="pre">python3</span></code> is installed,
this can be achieved with the following commands:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span><span class="nv">PYTHON_INCLUDE_DIR</span><span class="o">=</span><span class="k">$(</span>python3<span class="w"> </span>-c<span class="w"> </span><span class="s2">&quot;import sysconfig; print(sysconfig.get_paths()[&#39;include&#39;])&quot;</span><span class="k">)</span>
<span class="nv">PYTHON_LIB_DIR</span><span class="o">=</span><span class="k">$(</span>python3<span class="w"> </span>-c<span class="w"> </span><span class="s2">&quot;import sysconfig; print(sysconfig.get_config_var(&#39;LIBDIR&#39;))&quot;</span><span class="k">)</span>
<span class="nv">PYTHON_LDVERSION</span><span class="o">=</span><span class="k">$(</span>python3<span class="w"> </span>-c<span class="w"> </span><span class="s2">&quot;import sysconfig; print(sysconfig.get_config_var(&#39;LDVERSION&#39;))&quot;</span><span class="k">)</span>

chpl<span class="w"> </span>--ccflags<span class="w"> </span>-isystem<span class="nv">$PYTHON_INCLUDE_DIR</span><span class="w"> </span><span class="se">\</span>
<span class="w">     </span>-L<span class="nv">$PYTHON_LIB_DIR</span><span class="w"> </span>--ldflags<span class="w"> </span>-Wl,-rpath,<span class="nv">$PYTHON_LIB_DIR</span><span class="w"> </span><span class="se">\</span>
<span class="w">     </span>-lpython<span class="nv">$PYTHON_LDVERSION</span><span class="w"> </span>...Chapel<span class="w"> </span><span class="nb">source</span><span class="w"> </span>files...
</pre></div>
</div>
</section>
<section id="parallel-execution">
<h2>Parallel Execution<a class="headerlink" href="#parallel-execution" title="Link to this heading">¶</a></h2>
<p>Running any Python code in parallel from Chapel requires special care. Before
any parallel execution with Python code can occur, the thread state needs to
be saved. After the parallel execution, the thread state must to be restored.
Then for each thread, the Global Interpreter Lock (GIL) must be acquired and
released. This is necessary to prevent segmentation faults and deadlocks in
the Python interpreter.</p>
<p>The following demonstrates this when explicit tasks are introduced with a
<code class="docutils literal notranslate"><span class="pre">coforall</span></code>:</p>
<div class="highlight-chapel notranslate"><div class="highlight"><pre><span></span><span class="k">use</span> <span class="nx">Python</span><span class="p">;</span>

<span class="kd">var</span> <span class="nx">Arr</span><span class="p">:</span> <span class="p">[</span><span class="mi">1</span><span class="o">..</span><span class="mi">10</span><span class="p">]</span> <span class="kt">int</span> <span class="o">=</span> <span class="mi">1</span><span class="o">..</span><span class="mi">10</span><span class="p">;</span>

<span class="kd">var</span> <span class="nx">interp</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">Interpreter</span><span class="p">();</span>
<span class="kd">var</span> <span class="nx">func</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">Function</span><span class="p">(</span><span class="nx">interp</span><span class="p">,</span> <span class="s">&quot;lambda x,: x * x&quot;</span><span class="p">);</span>

<span class="kd">var</span> <span class="nx">ts</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">threadState</span><span class="p">();</span>
<span class="nx">ts</span><span class="p">.</span><span class="nx">save</span><span class="p">();</span> <span class="c1">// save the thread state</span>
<span class="k">coforall</span> <span class="nx">tid</span> <span class="kd">in</span> <span class="mi">1</span><span class="o">..</span><span class="mi">10</span> <span class="p">{</span>
  <span class="kd">var</span> <span class="nx">gil</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">GIL</span><span class="p">();</span> <span class="c1">// acquire the GIL</span>
  <span class="nx">Arr</span><span class="p">[</span><span class="nx">tid</span><span class="p">]</span> <span class="o">=</span> <span class="nx">func</span><span class="p">(</span><span class="kt">int</span><span class="p">,</span> <span class="nx">tid</span><span class="p">);</span>
  <span class="c1">// GIL is automatically released at the end of the block</span>
<span class="p">}</span>
<span class="nx">ts</span><span class="p">.</span><span class="nx">restore</span><span class="p">();</span> <span class="c1">// restore the thread state</span>
<span class="nx">writeln</span><span class="p">(</span><span class="nx">Arr</span><span class="p">);</span>
</pre></div>
</div>
<p>When using a data-parallel <code class="docutils literal notranslate"><span class="pre">forall</span></code>, the GIL should be acquired and released
as a task private variable.</p>
<div class="highlight-chapel notranslate"><div class="highlight"><pre><span></span><span class="k">use</span> <span class="nx">Python</span><span class="p">;</span>

<span class="kd">var</span> <span class="nx">Arr</span><span class="p">:</span> <span class="p">[</span><span class="mi">1</span><span class="o">..</span><span class="mi">10</span><span class="p">]</span> <span class="kt">int</span> <span class="o">=</span> <span class="mi">1</span><span class="o">..</span><span class="mi">10</span><span class="p">;</span>

<span class="kd">var</span> <span class="nx">interp</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">Interpreter</span><span class="p">();</span>
<span class="kd">var</span> <span class="nx">func</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">Function</span><span class="p">(</span><span class="nx">interp</span><span class="p">,</span> <span class="s">&quot;lambda x,: x * x&quot;</span><span class="p">);</span>

<span class="kd">var</span> <span class="nx">ts</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">threadState</span><span class="p">();</span>
<span class="nx">ts</span><span class="p">.</span><span class="nx">save</span><span class="p">();</span> <span class="c1">// save the thread state</span>
<span class="k">forall</span> <span class="nx">tid</span> <span class="kd">in</span> <span class="mi">1</span><span class="o">..</span><span class="mi">10</span> <span class="k">with</span> <span class="p">(</span><span class="kd">var</span> <span class="nx">gil</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">GIL</span><span class="p">())</span> <span class="p">{</span>
  <span class="nx">Arr</span><span class="p">[</span><span class="nx">tid</span><span class="p">]</span> <span class="o">=</span> <span class="nx">func</span><span class="p">(</span><span class="kt">int</span><span class="p">,</span> <span class="nx">tid</span><span class="p">);</span>
<span class="p">}</span>
<span class="nx">ts</span><span class="p">.</span><span class="nx">restore</span><span class="p">();</span> <span class="c1">// restore the thread state</span>
<span class="nx">writeln</span><span class="p">(</span><span class="nx">Arr</span><span class="p">);</span>
</pre></div>
</div>
<p>In the examples above, because the GIL is being acquired and released for the
entirety of each task, these examples will be no faster than running the tasks
serially.</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>Newer Python versions offer a free-threading mode that allows multiple threads concurrently, without the need for the GIL. In this mode, users can either remove the GIL acquisition code or not. Without the GIL, the GIL acquisition code will have no effect.</p>
</div>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>In the future, it may be possible to achieve better parallelism with Python
by using sub-interpreters. However, sub-interpreters are not yet supported
in Chapel.</p>
</div>
</section>
<section id="using-python-modules-with-distributed-code">
<h2>Using Python Modules With Distributed Code<a class="headerlink" href="#using-python-modules-with-distributed-code" title="Link to this heading">¶</a></h2>
<p>Python has no built-in support for distributed memory, so each locale must create its own interpreter (and subsequent Python objects).</p>
<p>The following example demonstrates how to create a Python interpreter and run a Python function on each locale:</p>
<div class="highlight-chapel notranslate"><div class="highlight"><pre><span></span><span class="k">use</span> <span class="nx">Python</span><span class="p">,</span> <span class="nx">BlockDist</span><span class="p">;</span>

<span class="kd">config</span> <span class="kd">const</span> <span class="nx">n</span> <span class="o">=</span> <span class="mi">100</span><span class="p">;</span>
<span class="kd">var</span> <span class="nx">Arr</span> <span class="o">=</span> <span class="nx">blockDist</span><span class="p">.</span><span class="nx">createArray</span><span class="p">({</span><span class="mi">1</span><span class="o">..</span><span class="nx">n</span><span class="p">},</span> <span class="kt">int</span><span class="p">);</span>
<span class="nx">Arr</span> <span class="o">=</span> <span class="mi">1</span><span class="o">..</span><span class="nx">n</span><span class="p">;</span>

<span class="k">coforall</span> <span class="nx">l</span> <span class="kd">in</span> <span class="nx">Arr</span><span class="p">.</span><span class="nx">targetLocales</span><span class="p">()</span> <span class="p">{</span>
  <span class="k">on</span> <span class="nx">l</span> <span class="p">{</span>
    <span class="c1">// each locale has its own interpreter</span>
    <span class="kd">const</span> <span class="nx">interp</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">Interpreter</span><span class="p">();</span>
    <span class="kd">const</span> <span class="nx">func</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">Function</span><span class="p">(</span><span class="nx">interp</span><span class="p">,</span> <span class="s">&quot;lambda x,: x + 1&quot;</span><span class="p">);</span>

    <span class="kd">var</span> <span class="nx">ts</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">threadState</span><span class="p">();</span>
    <span class="nx">ts</span><span class="p">.</span><span class="nx">save</span><span class="p">();</span>
    <span class="k">forall</span> <span class="nx">i</span> <span class="kd">in</span> <span class="nx">Arr</span><span class="p">.</span><span class="nx">localSubdomain</span><span class="p">()</span> <span class="k">with</span> <span class="p">(</span><span class="kd">var</span> <span class="nx">gil</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">GIL</span><span class="p">())</span> <span class="p">{</span>
      <span class="nx">Arr</span><span class="p">[</span><span class="nx">i</span><span class="p">]</span> <span class="o">=</span> <span class="nx">func</span><span class="p">(</span><span class="nx">Arr</span><span class="p">.</span><span class="nx">eltType</span><span class="p">,</span> <span class="nx">Arr</span><span class="p">[</span><span class="nx">i</span><span class="p">]);</span>
    <span class="p">}</span>
    <span class="nx">ts</span><span class="p">.</span><span class="nx">restore</span><span class="p">();</span>
  <span class="p">}</span>
<span class="p">}</span>
<span class="nx">writeln</span><span class="p">(</span><span class="nx">Arr</span><span class="p">);</span>
</pre></div>
</div>
<p>In this example, <code class="docutils literal notranslate"><span class="pre">interp</span></code> and <code class="docutils literal notranslate"><span class="pre">func</span></code> only exist for the body of the
<code class="docutils literal notranslate"><span class="pre">on</span></code> block,Python objects can be made to persist beyond the scope of a
given <code class="docutils literal notranslate"><span class="pre">on</span></code> block by creating a distributed array of Python objects.</p>
</section>
<section id="defining-custom-types">
<h2>Defining Custom Types<a class="headerlink" href="#defining-custom-types" title="Link to this heading">¶</a></h2>
<p>To translate custom Chapel types to Python objects, users should define and
register custom <a class="reference internal" href="#Python.TypeConverter" title="Python.TypeConverter"><code class="xref chpl chpl-type docutils literal notranslate"><span class="pre">TypeConverter</span></code></a> classes.</p>
</section>
<section id="more-examples">
<h2>More Examples:<a class="headerlink" href="#more-examples" title="Link to this heading">¶</a></h2>
<p>For more examples of using the Python module, see the test cases in
<a class="reference external" href="https://github.com/chapel-lang/chapel/tree/main/test/library/packages/Python/examples">$CHPL_HOME/test/library/packages/Python/examples</a>.</p>
<dl class="chpl record">
<dt class="sig sig-object chpl" id="Python.NoneType">
<em class="property"><span class="pre">record</span> </em><span class="sig-name descname"><span class="pre">NoneType</span></span><a class="headerlink" href="#Python.NoneType" title="Link to this definition">¶</a></dt>
<dd><p>Represents the python NoneType</p>
<dl class="chpl method">
<dt class="sig sig-object chpl" id="Python.NoneType.str">
<em class="property"><span class="pre">proc</span> </em><span class="sig-name descname"><span class="pre">str</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><em class="property"> <span class="pre">:</span> <span class="pre">string</span></em><a class="headerlink" href="#Python.NoneType.str" title="Link to this definition">¶</a></dt>
<dd><p>Returns the string representation of None.</p>
<p>Equivalent to calling <code class="docutils literal notranslate"><span class="pre">str(None)</span></code> in Python.</p>
</dd></dl>

</dd></dl>

<dl class="chpl data">
<dt class="sig sig-object chpl" id="Python.None">
<em class="property"><span class="pre">const</span> </em><span class="sig-name descname"><span class="pre">None</span></span><span class="w"> </span><em class="property"> <span class="pre">=</span> <span class="pre">new</span> <span class="pre">NoneType()</span></em><a class="headerlink" href="#Python.None" title="Link to this definition">¶</a></dt>
<dd><p>Represents the python value ‘None’</p>
</dd></dl>

<dl class="chpl class">
<dt class="sig sig-object chpl" id="Python.Interpreter">
<em class="property"><span class="pre">class</span> </em><span class="sig-name descname"><span class="pre">Interpreter</span></span><a class="headerlink" href="#Python.Interpreter" title="Link to this definition">¶</a></dt>
<dd><p>Represents the python interpreter. All code using the Python module should
create and maintain a single instance of this class.</p>
<div class="admonition warning">
<p class="admonition-title">Warning</p>
<p>Multiple/sub interpreters are not yet supported.
Do not create more than one instance of this class.</p>
</div>
<dl class="chpl method">
<dt class="sig sig-object chpl" id="Python.Interpreter.run">
<em class="property"><span class="pre">proc</span> </em><span class="sig-name descname"><span class="pre">run</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="pre">code:</span> <span class="pre">string</span></em><span class="sig-paren">)</span><span class="w"> </span><em class="property"> <span class="pre">throws</span></em><a class="headerlink" href="#Python.Interpreter.run" title="Link to this definition">¶</a></dt>
<dd><p>Run a string of python code.</p>
<p>This function will just run the code, it cannot be passed arguments or
return values.</p>
</dd></dl>

<dl class="chpl method">
<dt class="sig sig-object chpl" id="Python.Interpreter.registerConverter">
<em class="property"><span class="pre">proc</span> </em><span class="sig-name descname"><span class="pre">registerConverter</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="pre">in</span> <span class="pre">cvt:</span> <span class="pre">owned</span> <span class="pre">TypeConverter</span></em><span class="sig-paren">)</span><a class="headerlink" href="#Python.Interpreter.registerConverter" title="Link to this definition">¶</a></dt>
<dd><p>Register a custom <a class="reference internal" href="#Python.TypeConverter" title="Python.TypeConverter"><code class="xref chpl chpl-type docutils literal notranslate"><span class="pre">TypeConverter</span></code></a> with the interpreter. This allows
arbitrary Chapel types to be serialized/deserialized to and from Python
objects.</p>
<p>The registered converter will take precedence over the default converters,
allowing users to override the default behavior.</p>
</dd></dl>

<dl class="chpl method">
<dt class="sig sig-object chpl" id="Python.Interpreter.checkException">
<em class="property"><span class="pre">proc</span> </em><span class="sig-name descname"><span class="pre">checkException</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><span class="w"> </span><em class="property"> <span class="pre">throws</span></em><a class="headerlink" href="#Python.Interpreter.checkException" title="Link to this definition">¶</a></dt>
<dd><p>Query to see if an Python exception has occurred. If there is an
exception, the Python exception will be thrown as a <a class="reference internal" href="#Python.Exception" title="Python.Exception"><code class="xref chpl chpl-type docutils literal notranslate"><span class="pre">Exception</span></code></a>.</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>This method should be called after any Python API call that may fail.
The wrapping types in this module will call this method automatically,
most users should not need to call this method directly.</p>
</div>
</dd></dl>

<dl class="chpl method">
<dt class="sig sig-object chpl" id="Python.Interpreter.toPython">
<em class="property"><span class="pre">proc</span> </em><span class="sig-name descname"><span class="pre">toPython</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="pre">const</span> <span class="pre">val:</span> <span class="pre">?t</span></em><span class="sig-paren">)</span><em class="property"> <span class="pre">:</span> <span class="pre">PyObjectPtr</span> <span class="pre">throws</span></em><a class="headerlink" href="#Python.Interpreter.toPython" title="Link to this definition">¶</a></dt>
<dd><p>Convert a Chapel value to a python object. This clones the Chapel value.</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>Most users should not need to call this directly, except when writing
a <a class="reference internal" href="#Python.TypeConverter" title="Python.TypeConverter"><code class="xref chpl chpl-type docutils literal notranslate"><span class="pre">TypeConverter</span></code></a>.</p>
</div>
</dd></dl>

<dl class="chpl method">
<dt class="sig sig-object chpl" id="Python.Interpreter.fromPython">
<em class="property"><span class="pre">proc</span> </em><span class="sig-name descname"><span class="pre">fromPython</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="pre">type</span> <span class="pre">t</span></em>, <em class="sig-param"><span class="pre">obj:</span> <span class="pre">PyObjectPtr</span></em><span class="sig-paren">)</span><em class="property"> <span class="pre">:</span> <span class="pre">t</span> <span class="pre">throws</span></em><a class="headerlink" href="#Python.Interpreter.fromPython" title="Link to this definition">¶</a></dt>
<dd><p>Convert a Python object to a Chapel value. This clones the Python value.</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>Most users should not need to call this directly, except when writing
a <a class="reference internal" href="#Python.TypeConverter" title="Python.TypeConverter"><code class="xref chpl chpl-type docutils literal notranslate"><span class="pre">TypeConverter</span></code></a>.</p>
</div>
</dd></dl>

</dd></dl>

<dl class="chpl class">
<dt class="sig sig-object chpl" id="Python.Exception">
<em class="property"><span class="pre">class</span> </em><span class="sig-name descname"><span class="pre">Exception</span></span><em class="property"> <span class="pre">:</span> <span class="pre">Error</span></em><a class="headerlink" href="#Python.Exception" title="Link to this definition">¶</a></dt>
<dd><p>Represents a Python exception, either forwarded from Python (i.e. <a class="reference internal" href="#Python.Interpreter.checkException" title="Python.Interpreter.checkException"><code class="xref chpl chpl-proc docutils literal notranslate"><span class="pre">Interpreter.checkException</span></code></a>) or thrown directly in Chapel code.</p>
<dl class="chpl method">
<dt class="sig sig-object chpl" id="Python.Exception.init">
<em class="property"><span class="pre">proc</span> </em><span class="sig-name descname"><span class="pre">init</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="pre">in</span> <span class="pre">message:</span> <span class="pre">string</span></em><span class="sig-paren">)</span><a class="headerlink" href="#Python.Exception.init" title="Link to this definition">¶</a></dt>
<dd><p>Creates a new exception with the given message.</p>
</dd></dl>

</dd></dl>

<dl class="chpl class">
<dt class="sig sig-object chpl" id="Python.PythonException">
<em class="property"><span class="pre">class</span> </em><span class="sig-name descname"><span class="pre">PythonException</span></span><em class="property"> <span class="pre">:</span> <span class="pre">Exception</span></em><a class="headerlink" href="#Python.PythonException" title="Link to this definition">¶</a></dt>
<dd><p>Represents an exception caused in the Python code, forwarded by Chapel code</p>
<dl class="chpl method">
<dt class="sig sig-object chpl" id="Python.PythonException.init">
<em class="property"><span class="pre">proc</span> </em><span class="sig-name descname"><span class="pre">init</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="pre">in</span> <span class="pre">message:</span> <span class="pre">string</span></em><span class="sig-paren">)</span><a class="headerlink" href="#Python.PythonException.init" title="Link to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="chpl class">
<dt class="sig sig-object chpl" id="Python.ChapelException">
<em class="property"><span class="pre">class</span> </em><span class="sig-name descname"><span class="pre">ChapelException</span></span><em class="property"> <span class="pre">:</span> <span class="pre">Exception</span></em><a class="headerlink" href="#Python.ChapelException" title="Link to this definition">¶</a></dt>
<dd><p>Represents an exception caused by code in the Chapel module, not forwarded from Python.</p>
<dl class="chpl method">
<dt class="sig sig-object chpl" id="Python.ChapelException.init">
<em class="property"><span class="pre">proc</span> </em><span class="sig-name descname"><span class="pre">init</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="pre">in</span> <span class="pre">message:</span> <span class="pre">string</span></em><span class="sig-paren">)</span><a class="headerlink" href="#Python.ChapelException.init" title="Link to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="chpl class">
<dt class="sig sig-object chpl" id="Python.TypeConverter">
<em class="property"><span class="pre">class</span> </em><span class="sig-name descname"><span class="pre">TypeConverter</span></span><a class="headerlink" href="#Python.TypeConverter" title="Link to this definition">¶</a></dt>
<dd><p>Base class for Chapel/Python type converters.</p>
<p>To create a custom type converter, subclass this class and implement the
<a class="reference internal" href="#Python.TypeConverter.handlesType" title="Python.TypeConverter.handlesType"><code class="xref chpl chpl-proc docutils literal notranslate"><span class="pre">handlesType</span></code></a>, <a class="reference internal" href="#Python.TypeConverter.toPython" title="Python.TypeConverter.toPython"><code class="xref chpl chpl-proc docutils literal notranslate"><span class="pre">toPython</span></code></a>, and
<a class="reference internal" href="#Python.TypeConverter.fromPython" title="Python.TypeConverter.fromPython"><code class="xref chpl chpl-proc docutils literal notranslate"><span class="pre">fromPython</span></code></a> methods. Then register an instance of this
class with the interpreter by calling <a class="reference internal" href="#Python.Interpreter.registerConverter" title="Python.Interpreter.registerConverter"><code class="xref chpl chpl-proc docutils literal notranslate"><span class="pre">registerConverter</span></code></a>.</p>
<dl class="chpl method">
<dt class="sig sig-object chpl" id="Python.TypeConverter.handlesType">
<em class="property"><span class="pre">proc</span> </em><span class="sig-name descname"><span class="pre">handlesType</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="pre">type</span> <span class="pre">T</span></em><span class="sig-paren">)</span><em class="property"> <span class="pre">:</span> <span class="pre">bool</span></em><a class="headerlink" href="#Python.TypeConverter.handlesType" title="Link to this definition">¶</a></dt>
<dd><p>Check if the converter can handle the given Chapel type.</p>
<p>This method should return true if the converter can handle the given type,
and false otherwise.</p>
</dd></dl>

<dl class="chpl method">
<dt class="sig sig-object chpl" id="Python.TypeConverter.toPython">
<em class="property"><span class="pre">proc</span> </em><span class="sig-name descname"><span class="pre">toPython</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="pre">interpreter:</span> <span class="pre">borrowed</span> <span class="pre">Interpreter</span></em>, <em class="sig-param"><span class="pre">type</span> <span class="pre">T</span></em>, <em class="sig-param"><span class="pre">const</span> <span class="pre">value:</span> <span class="pre">T</span></em><span class="sig-paren">)</span><em class="property"> <span class="pre">:</span> <span class="pre">PyObjectPtr</span> <span class="pre">throws</span></em><a class="headerlink" href="#Python.TypeConverter.toPython" title="Link to this definition">¶</a></dt>
<dd><p>Convert a Chapel value to a Python object.</p>
<p>This method should convert the Chapel value to a Python object and return
the <a class="reference internal" href="../standard/CTypes.html#CTypes.c_ptr" title="CTypes.c_ptr"><code class="xref chpl chpl-type docutils literal notranslate"><span class="pre">c_ptr</span></code></a> to the underlying Python object.</p>
<p>The <a class="reference internal" href="#Python.Interpreter.toPython" title="Python.Interpreter.toPython"><code class="xref chpl chpl-proc docutils literal notranslate"><span class="pre">toPython</span></code></a> method will call this method.</p>
</dd></dl>

<dl class="chpl method">
<dt class="sig sig-object chpl" id="Python.TypeConverter.fromPython">
<em class="property"><span class="pre">proc</span> </em><span class="sig-name descname"><span class="pre">fromPython</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="pre">interpreter:</span> <span class="pre">borrowed</span> <span class="pre">Interpreter</span></em>, <em class="sig-param"><span class="pre">type</span> <span class="pre">T</span></em>, <em class="sig-param"><span class="pre">obj:</span> <span class="pre">PyObjectPtr</span></em><span class="sig-paren">)</span><em class="property"> <span class="pre">:</span> <span class="pre">T</span> <span class="pre">throws</span></em><a class="headerlink" href="#Python.TypeConverter.fromPython" title="Link to this definition">¶</a></dt>
<dd><p>Convert a Python object to a Chapel value.</p>
<p>This method should convert the Python object to a Chapel value and return
the Chapel value.</p>
<p>The <a class="reference internal" href="#Python.Interpreter.fromPython" title="Python.Interpreter.fromPython"><code class="xref chpl chpl-proc docutils literal notranslate"><span class="pre">fromPython</span></code></a> method will call this method.</p>
</dd></dl>

</dd></dl>

<dl class="chpl class">
<dt class="sig sig-object chpl" id="Python.Module">
<em class="property"><span class="pre">class</span> </em><span class="sig-name descname"><span class="pre">Module</span></span><a class="headerlink" href="#Python.Module" title="Link to this definition">¶</a></dt>
<dd><p>Represents a Python module.</p>
<dl class="chpl method">
<dt class="sig sig-object chpl" id="Python.Module.init">
<em class="property"><span class="pre">proc</span> </em><span class="sig-name descname"><span class="pre">init</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="pre">interpreter:</span> <span class="pre">borrowed</span> <span class="pre">Interpreter</span></em>, <em class="sig-param"><span class="pre">in</span> <span class="pre">modName:</span> <span class="pre">string</span></em><span class="sig-paren">)</span><span class="w"> </span><em class="property"> <span class="pre">throws</span></em><a class="headerlink" href="#Python.Module.init" title="Link to this definition">¶</a></dt>
<dd><p>Import a Python module by name.</p>
</dd></dl>

<dl class="chpl method">
<dt class="sig sig-object chpl" id="Python.Module.interpreter">
<em class="property"><span class="pre">proc</span> </em><span class="sig-name descname"><span class="pre">interpreter</span></span><a class="headerlink" href="#Python.Module.interpreter" title="Link to this definition">¶</a></dt>
<dd><p>Get the interpreter associated with this module.</p>
</dd></dl>

<dl class="chpl method">
<dt class="sig sig-object chpl" id="Python.Module.str">
<em class="property"><span class="pre">proc</span> </em><span class="sig-name descname"><span class="pre">str</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><em class="property"> <span class="pre">:</span> <span class="pre">string</span> <span class="pre">throws</span></em><a class="headerlink" href="#Python.Module.str" title="Link to this definition">¶</a></dt>
<dd><p>Returns the string representation of the object.
This is the same as casting to a string.</p>
<p>Equivalent to calling <code class="docutils literal notranslate"><span class="pre">str(obj)</span></code> in Python.</p>
</dd></dl>

</dd></dl>

<dl class="chpl class">
<dt class="sig sig-object chpl" id="Python.Function">
<em class="property"><span class="pre">class</span> </em><span class="sig-name descname"><span class="pre">Function</span></span><a class="headerlink" href="#Python.Function" title="Link to this definition">¶</a></dt>
<dd><p>Represents a Python function.</p>
<dl class="chpl method">
<dt class="sig sig-object chpl" id="Python.Function.init">
<em class="property"><span class="pre">proc</span> </em><span class="sig-name descname"><span class="pre">init</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="pre">mod:</span> <span class="pre">borrowed</span> <span class="pre">Module</span></em>, <em class="sig-param"><span class="pre">in</span> <span class="pre">fnName:</span> <span class="pre">string</span></em><span class="sig-paren">)</span><span class="w"> </span><em class="property"> <span class="pre">throws</span></em><a class="headerlink" href="#Python.Function.init" title="Link to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="chpl method">
<dt class="sig sig-object chpl">
<em class="property"><span class="pre">proc</span> </em><span class="sig-name descname"><span class="pre">init</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="pre">in</span> <span class="pre">fnName:</span> <span class="pre">string</span></em>, <em class="sig-param"><span class="pre">in</span> <span class="pre">fn:</span> <span class="pre">owned</span> <span class="pre">PyObject</span></em><span class="sig-paren">)</span><span class="w"> </span><em class="property"> <span class="pre">throws</span></em></dt>
<dd></dd></dl>

<dl class="chpl method">
<dt class="sig sig-object chpl">
<em class="property"><span class="pre">proc</span> </em><span class="sig-name descname"><span class="pre">init</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="pre">interpreter:</span> <span class="pre">borrowed</span> <span class="pre">Interpreter</span></em>, <em class="sig-param"><span class="pre">in</span> <span class="pre">lambdaFn:</span> <span class="pre">string</span></em><span class="sig-paren">)</span><span class="w"> </span><em class="property"> <span class="pre">throws</span></em></dt>
<dd></dd></dl>

<dl class="chpl method">
<dt class="sig sig-object chpl" id="Python.Function.interpreter">
<em class="property"><span class="pre">proc</span> </em><span class="sig-name descname"><span class="pre">interpreter</span></span><a class="headerlink" href="#Python.Function.interpreter" title="Link to this definition">¶</a></dt>
<dd><p>Get the interpreter associated with this function.</p>
</dd></dl>

<dl class="chpl method">
<dt class="sig sig-object chpl" id="Python.Function.str">
<em class="property"><span class="pre">proc</span> </em><span class="sig-name descname"><span class="pre">str</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><em class="property"> <span class="pre">:</span> <span class="pre">string</span> <span class="pre">throws</span></em><a class="headerlink" href="#Python.Function.str" title="Link to this definition">¶</a></dt>
<dd><p>Returns the string representation of the object.
This is the same as casting to a string.</p>
<p>Equivalent to calling <code class="docutils literal notranslate"><span class="pre">str(obj)</span></code> in Python.</p>
</dd></dl>

<dl class="chpl method">
<dt class="sig sig-object chpl" id="Python.Function.this">
<em class="property"><span class="pre">proc</span> </em><span class="sig-name descname"><span class="pre">this</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="pre">type</span> <span class="pre">retType</span></em>, <em class="sig-param"><span class="pre">const</span> <span class="pre">args</span> <span class="pre">...</span></em><span class="sig-paren">)</span><em class="property"> <span class="pre">:</span> <span class="pre">retType</span> <span class="pre">throws</span></em><a class="headerlink" href="#Python.Function.this" title="Link to this definition">¶</a></dt>
<dd><p>Call a python function with Chapel arguments and get a Chapel return value</p>
</dd></dl>

<dl class="chpl method">
<dt class="sig sig-object chpl">
<em class="property"><span class="pre">proc</span> </em><span class="sig-name descname"><span class="pre">this</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="pre">type</span> <span class="pre">retType</span></em><span class="sig-paren">)</span><em class="property"> <span class="pre">:</span> <span class="pre">retType</span> <span class="pre">throws</span></em></dt>
<dd></dd></dl>

<dl class="chpl method">
<dt class="sig sig-object chpl">
<em class="property"><span class="pre">proc</span> </em><span class="sig-name descname"><span class="pre">this</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="pre">type</span> <span class="pre">retType</span></em>, <em class="sig-param"><span class="pre">const</span> <span class="pre">args</span> <span class="pre">...</span></em>, <em class="sig-param"><span class="pre">kwargs:</span> <span class="pre">?t</span> <span class="pre">=</span> <span class="pre">none</span></em><span class="sig-paren">)</span><em class="property"> <span class="pre">:</span> <span class="pre">retType</span> <span class="pre">throws</span></em><em class="property">&#160; <span class="pre">where</span> <span class="pre">kwargs.isAssociative()</span></em></dt>
<dd></dd></dl>

<dl class="chpl method">
<dt class="sig sig-object chpl">
<em class="property"><span class="pre">proc</span> </em><span class="sig-name descname"><span class="pre">this</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="pre">type</span> <span class="pre">retType</span></em>, <em class="sig-param"><span class="pre">kwargs:</span> <span class="pre">?t</span> <span class="pre">=</span> <span class="pre">none</span></em><span class="sig-paren">)</span><em class="property"> <span class="pre">:</span> <span class="pre">retType</span> <span class="pre">throws</span></em><em class="property">&#160; <span class="pre">where</span> <span class="pre">kwargs.isAssociative()</span></em></dt>
<dd></dd></dl>

<dl class="chpl method">
<dt class="sig sig-object chpl" id="Python.Function.getAttr">
<em class="property"><span class="pre">proc</span> </em><span class="sig-name descname"><span class="pre">getAttr</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="pre">type</span> <span class="pre">t</span></em>, <em class="sig-param"><span class="pre">attr:</span> <span class="pre">string</span></em><span class="sig-paren">)</span><em class="property"> <span class="pre">:</span> <span class="pre">t</span> <span class="pre">throws</span></em><a class="headerlink" href="#Python.Function.getAttr" title="Link to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="chpl class">
<dt class="sig sig-object chpl" id="Python.Class">
<em class="property"><span class="pre">class</span> </em><span class="sig-name descname"><span class="pre">Class</span></span><a class="headerlink" href="#Python.Class" title="Link to this definition">¶</a></dt>
<dd><p>Represents a Python class.</p>
<dl class="chpl attribute">
<dt class="sig sig-object chpl" id="Python.Class.className">
<em class="property"><span class="pre">var</span> </em><span class="sig-name descname"><span class="pre">className</span></span><em class="property"> <span class="pre">:</span> <span class="pre">string</span></em><a class="headerlink" href="#Python.Class.className" title="Link to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="chpl attribute">
<dt class="sig sig-object chpl" id="Python.Class.cls">
<em class="property"><span class="pre">var</span> </em><span class="sig-name descname"><span class="pre">cls</span></span><em class="property"> <span class="pre">:</span> <span class="pre">owned</span> <span class="pre">PyObject</span></em><a class="headerlink" href="#Python.Class.cls" title="Link to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="chpl method">
<dt class="sig sig-object chpl" id="Python.Class.init">
<em class="property"><span class="pre">proc</span> </em><span class="sig-name descname"><span class="pre">init</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="pre">mod:</span> <span class="pre">borrowed</span> <span class="pre">Module</span></em>, <em class="sig-param"><span class="pre">in</span> <span class="pre">className:</span> <span class="pre">string</span></em><span class="sig-paren">)</span><span class="w"> </span><em class="property"> <span class="pre">throws</span></em><a class="headerlink" href="#Python.Class.init" title="Link to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="chpl method">
<dt class="sig sig-object chpl" id="Python.Class.interpreter">
<em class="property"><span class="pre">proc</span> </em><span class="sig-name descname"><span class="pre">interpreter</span></span><a class="headerlink" href="#Python.Class.interpreter" title="Link to this definition">¶</a></dt>
<dd><p>Get the interpreter associated with this class.</p>
</dd></dl>

<dl class="chpl method">
<dt class="sig sig-object chpl" id="Python.Class.str">
<em class="property"><span class="pre">proc</span> </em><span class="sig-name descname"><span class="pre">str</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><em class="property"> <span class="pre">:</span> <span class="pre">string</span> <span class="pre">throws</span></em><a class="headerlink" href="#Python.Class.str" title="Link to this definition">¶</a></dt>
<dd><p>Returns the string representation of the object.
This is the same as casting to a string.</p>
<p>Equivalent to calling <code class="docutils literal notranslate"><span class="pre">str(obj)</span></code> in Python.</p>
</dd></dl>

<dl class="chpl method">
<dt class="sig sig-object chpl" id="Python.Class.newInstance">
<em class="property"><span class="pre">proc</span> </em><span class="sig-name descname"><span class="pre">newInstance</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="pre">const</span> <span class="pre">args</span> <span class="pre">...</span></em><span class="sig-paren">)</span><em class="property"> <span class="pre">:</span> <span class="pre">owned</span> <span class="pre">PyObject</span> <span class="pre">throws</span></em><a class="headerlink" href="#Python.Class.newInstance" title="Link to this definition">¶</a></dt>
<dd><p>Create a new instance of a python class</p>
</dd></dl>

<dl class="chpl method">
<dt class="sig sig-object chpl" id="Python.Class.this">
<em class="property"><span class="pre">proc</span> </em><span class="sig-name descname"><span class="pre">this</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="pre">const</span> <span class="pre">args</span> <span class="pre">...</span></em><span class="sig-paren">)</span><em class="property"> <span class="pre">:</span> <span class="pre">owned</span> <span class="pre">ClassObject</span> <span class="pre">throws</span></em><a class="headerlink" href="#Python.Class.this" title="Link to this definition">¶</a></dt>
<dd><p>Create a new instance of a python class</p>
</dd></dl>

<dl class="chpl method">
<dt class="sig sig-object chpl">
<em class="property"><span class="pre">proc</span> </em><span class="sig-name descname"><span class="pre">this</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><em class="property"> <span class="pre">:</span> <span class="pre">owned</span> <span class="pre">ClassObject</span> <span class="pre">throws</span></em></dt>
<dd></dd></dl>

</dd></dl>

<dl class="chpl class">
<dt class="sig sig-object chpl" id="Python.ClassObject">
<em class="property"><span class="pre">class</span> </em><span class="sig-name descname"><span class="pre">ClassObject</span></span><a class="headerlink" href="#Python.ClassObject" title="Link to this definition">¶</a></dt>
<dd><p>Represents a Python class object.</p>
<dl class="chpl method">
<dt class="sig sig-object chpl" id="Python.ClassObject.init">
<em class="property"><span class="pre">proc</span> </em><span class="sig-name descname"><span class="pre">init</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="pre">cls:</span> <span class="pre">borrowed</span> <span class="pre">Class</span></em>, <em class="sig-param"><span class="pre">const</span> <span class="pre">args</span> <span class="pre">...</span></em><span class="sig-paren">)</span><span class="w"> </span><em class="property"> <span class="pre">throws</span></em><a class="headerlink" href="#Python.ClassObject.init" title="Link to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="chpl method">
<dt class="sig sig-object chpl">
<em class="property"><span class="pre">proc</span> </em><span class="sig-name descname"><span class="pre">init</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="pre">cls:</span> <span class="pre">borrowed</span> <span class="pre">Class</span></em><span class="sig-paren">)</span><span class="w"> </span><em class="property"> <span class="pre">throws</span></em></dt>
<dd></dd></dl>

<dl class="chpl method">
<dt class="sig sig-object chpl">
<em class="property"><span class="pre">proc</span> </em><span class="sig-name descname"><span class="pre">init</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="pre">in</span> <span class="pre">obj:</span> <span class="pre">owned</span> <span class="pre">PyObject?</span></em><span class="sig-paren">)</span><span class="w"> </span><em class="property"> <span class="pre">throws</span></em></dt>
<dd></dd></dl>

<dl class="chpl method">
<dt class="sig sig-object chpl" id="Python.ClassObject.interpreter">
<em class="property"><span class="pre">proc</span> </em><span class="sig-name descname"><span class="pre">interpreter</span></span><a class="headerlink" href="#Python.ClassObject.interpreter" title="Link to this definition">¶</a></dt>
<dd><p>Get the interpreter associated with this object.</p>
</dd></dl>

<dl class="chpl method">
<dt class="sig sig-object chpl" id="Python.ClassObject.str">
<em class="property"><span class="pre">proc</span> </em><span class="sig-name descname"><span class="pre">str</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><em class="property"> <span class="pre">:</span> <span class="pre">string</span> <span class="pre">throws</span></em><a class="headerlink" href="#Python.ClassObject.str" title="Link to this definition">¶</a></dt>
<dd><p>Returns the string representation of the object.
This is the same as casting to a string.</p>
<p>Equivalent to calling <code class="docutils literal notranslate"><span class="pre">str(obj)</span></code> in Python.</p>
</dd></dl>

<dl class="chpl method">
<dt class="sig sig-object chpl" id="Python.ClassObject.getAttr">
<em class="property"><span class="pre">proc</span> </em><span class="sig-name descname"><span class="pre">getAttr</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="pre">type</span> <span class="pre">t</span></em>, <em class="sig-param"><span class="pre">attr:</span> <span class="pre">string</span></em><span class="sig-paren">)</span><em class="property"> <span class="pre">:</span> <span class="pre">t</span> <span class="pre">throws</span></em><a class="headerlink" href="#Python.ClassObject.getAttr" title="Link to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="chpl method">
<dt class="sig sig-object chpl" id="Python.ClassObject.setAttr">
<em class="property"><span class="pre">proc</span> </em><span class="sig-name descname"><span class="pre">setAttr</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="pre">attr:</span> <span class="pre">string</span></em>, <em class="sig-param"><span class="pre">value</span></em><span class="sig-paren">)</span><span class="w"> </span><em class="property"> <span class="pre">throws</span></em><a class="headerlink" href="#Python.ClassObject.setAttr" title="Link to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="chpl method">
<dt class="sig sig-object chpl" id="Python.ClassObject.this">
<em class="property"><span class="pre">proc</span> </em><span class="sig-name descname"><span class="pre">this</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="pre">type</span> <span class="pre">retType</span></em>, <em class="sig-param"><span class="pre">const</span> <span class="pre">args</span> <span class="pre">...</span></em><span class="sig-paren">)</span><em class="property"> <span class="pre">:</span> <span class="pre">retType</span> <span class="pre">throws</span></em><a class="headerlink" href="#Python.ClassObject.this" title="Link to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="chpl method">
<dt class="sig sig-object chpl" id="Python.ClassObject.call">
<em class="property"><span class="pre">proc</span> </em><span class="sig-name descname"><span class="pre">call</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="pre">type</span> <span class="pre">retType</span></em>, <em class="sig-param"><span class="pre">method:</span> <span class="pre">string</span></em>, <em class="sig-param"><span class="pre">const</span> <span class="pre">args</span> <span class="pre">...</span></em><span class="sig-paren">)</span><em class="property"> <span class="pre">:</span> <span class="pre">retType</span> <span class="pre">throws</span></em><a class="headerlink" href="#Python.ClassObject.call" title="Link to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="chpl method">
<dt class="sig sig-object chpl">
<em class="property"><span class="pre">proc</span> </em><span class="sig-name descname"><span class="pre">call</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="pre">type</span> <span class="pre">retType</span></em>, <em class="sig-param"><span class="pre">method:</span> <span class="pre">string</span></em><span class="sig-paren">)</span><em class="property"> <span class="pre">:</span> <span class="pre">retType</span> <span class="pre">throws</span></em></dt>
<dd></dd></dl>

</dd></dl>

<dl class="chpl record">
<dt class="sig sig-object chpl" id="Python.GIL">
<em class="property"><span class="pre">record</span> </em><span class="sig-name descname"><span class="pre">GIL</span></span><a class="headerlink" href="#Python.GIL" title="Link to this definition">¶</a></dt>
<dd><p>Represents the Global Interpreter Lock, this is used to ensure that only one
thread is executing python code at a time. Each thread should have its own
<a class="reference internal" href="#Python.GIL" title="Python.GIL"><code class="xref chpl chpl-type docutils literal notranslate"><span class="pre">GIL</span></code></a> instance.</p>
<div class="admonition warning">
<p class="admonition-title">Warning</p>
<p>This is not thread safe, do not attempt to use the same instance from
multiple threads. This may cause a segfault or deadlock.</p>
</div>
<dl class="chpl method">
<dt class="sig sig-object chpl" id="Python.GIL.init">
<em class="property"><span class="pre">proc</span> </em><span class="sig-name descname"><span class="pre">init</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="pre">param</span> <span class="pre">acquire:</span> <span class="pre">bool</span> <span class="pre">=</span> <span class="pre">true</span></em><span class="sig-paren">)</span><a class="headerlink" href="#Python.GIL.init" title="Link to this definition">¶</a></dt>
<dd><p>Acquires the GIL on record creation by default.
Set <code class="docutils literal notranslate"><span class="pre">acquire</span></code> to false to delay acquisition.</p>
</dd></dl>

<dl class="chpl method">
<dt class="sig sig-object chpl" id="Python.GIL.acquire">
<em class="property"><span class="pre">proc</span> <span class="pre">ref</span> </em><span class="sig-name descname"><span class="pre">acquire</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#Python.GIL.acquire" title="Link to this definition">¶</a></dt>
<dd><p>Acquire the GIL. If the GIL is already acquired, this is a no-op.</p>
</dd></dl>

<dl class="chpl method">
<dt class="sig sig-object chpl" id="Python.GIL.release">
<em class="property"><span class="pre">proc</span> <span class="pre">ref</span> </em><span class="sig-name descname"><span class="pre">release</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#Python.GIL.release" title="Link to this definition">¶</a></dt>
<dd><p>Release the GIL. If the GIL is not acquired, this is a no-op.</p>
<p>This method is called automatically when the record is destroyed.</p>
</dd></dl>

</dd></dl>

<dl class="chpl record">
<dt class="sig sig-object chpl" id="Python.threadState">
<em class="property"><span class="pre">record</span> </em><span class="sig-name descname"><span class="pre">threadState</span></span><a class="headerlink" href="#Python.threadState" title="Link to this definition">¶</a></dt>
<dd><p>Represents the current thread state. This saves and restores the current thread
state.</p>
<div class="admonition warning">
<p class="admonition-title">Warning</p>
<p>This is not thread safe, do not attempt to use the same instance from
multiple threads. This may cause a segfault or deadlock.</p>
</div>
<dl class="chpl method">
<dt class="sig sig-object chpl" id="Python.threadState.init">
<em class="property"><span class="pre">proc</span> </em><span class="sig-name descname"><span class="pre">init</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="pre">param</span> <span class="pre">save:</span> <span class="pre">bool</span> <span class="pre">=</span> <span class="pre">false</span></em><span class="sig-paren">)</span><a class="headerlink" href="#Python.threadState.init" title="Link to this definition">¶</a></dt>
<dd><p>Saves the current thread state on record creation by default.
Set <code class="docutils literal notranslate"><span class="pre">save</span></code> to true to save the thread state on object creation.</p>
</dd></dl>

<dl class="chpl method">
<dt class="sig sig-object chpl" id="Python.threadState.save">
<em class="property"><span class="pre">proc</span> <span class="pre">ref</span> </em><span class="sig-name descname"><span class="pre">save</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#Python.threadState.save" title="Link to this definition">¶</a></dt>
<dd><p>Saves the current thread state. If the state is already saved, this is a no-op.</p>
</dd></dl>

<dl class="chpl method">
<dt class="sig sig-object chpl" id="Python.threadState.restore">
<em class="property"><span class="pre">proc</span> <span class="pre">ref</span> </em><span class="sig-name descname"><span class="pre">restore</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#Python.threadState.restore" title="Link to this definition">¶</a></dt>
<dd><p>Restores the thread state. If the state is not saved, this is a no-op.</p>
<p>This method is called automatically when the record is destroyed.</p>
</dd></dl>

</dd></dl>

<dl class="chpl class">
<dt class="sig sig-object chpl" id="Python.PyObject">
<em class="property"><span class="pre">class</span> </em><span class="sig-name descname"><span class="pre">PyObject</span></span><a class="headerlink" href="#Python.PyObject" title="Link to this definition">¶</a></dt>
<dd><p>Represents a Python value, it handles reference counting and is owned by default.</p>
<p>Most users should not need to use this directly.</p>
<dl class="chpl attribute">
<dt class="sig sig-object chpl" id="Python.PyObject.interpreter">
<em class="property"><span class="pre">var</span> </em><span class="sig-name descname"><span class="pre">interpreter</span></span><em class="property"> <span class="pre">:</span> <span class="pre">borrowed</span> <span class="pre">Interpreter</span></em><a class="headerlink" href="#Python.PyObject.interpreter" title="Link to this definition">¶</a></dt>
<dd><p>The interpreter that this object is associated with.</p>
</dd></dl>

<dl class="chpl method">
<dt class="sig sig-object chpl" id="Python.PyObject.init">
<em class="property"><span class="pre">proc</span> </em><span class="sig-name descname"><span class="pre">init</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="pre">in</span> <span class="pre">interpreter:</span> <span class="pre">borrowed</span> <span class="pre">Interpreter</span></em>, <em class="sig-param"><span class="pre">obj:</span> <span class="pre">PyObjectPtr</span></em>, <em class="sig-param"><span class="pre">isOwned:</span> <span class="pre">bool</span> <span class="pre">=</span> <span class="pre">true</span></em><span class="sig-paren">)</span><a class="headerlink" href="#Python.PyObject.init" title="Link to this definition">¶</a></dt>
<dd><p>Takes ownership of an existing Python object, pointed to by <code class="docutils literal notranslate"><span class="pre">obj</span></code></p>
<dl class="field-list simple">
<dt class="field-odd">Arguments<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>interpreter</strong> – The interpreter that this object is associated with.</p></li>
<li><p><strong>obj</strong> – The <a class="reference internal" href="../standard/CTypes.html#CTypes.c_ptr" title="CTypes.c_ptr"><code class="xref chpl chpl-type docutils literal notranslate"><span class="pre">c_ptr</span></code></a> to the existing object.</p></li>
<li><p><strong>isOwned</strong> – Whether this object owns the Python object. This is true by default.</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="chpl method">
<dt class="sig sig-object chpl">
<em class="property"><span class="pre">proc</span> </em><span class="sig-name descname"><span class="pre">init</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="pre">in</span> <span class="pre">interpreter:</span> <span class="pre">borrowed</span> <span class="pre">Interpreter</span></em>, <em class="sig-param"><span class="pre">value:</span> <span class="pre">?</span></em><span class="sig-paren">)</span></dt>
<dd><p>Creates a new Python object from a Chapel value.</p>
<dl class="field-list simple">
<dt class="field-odd">Arguments<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>interpreter</strong> – The interpreter that this object is associated with.</p></li>
<li><p><strong>value</strong> – The Chapel value to convert to a Python object.</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="chpl method">
<dt class="sig sig-object chpl" id="Python.PyObject.check">
<em class="property"><span class="pre">proc</span> </em><span class="sig-name descname"><span class="pre">check</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><span class="w"> </span><em class="property"> <span class="pre">throws</span></em><a class="headerlink" href="#Python.PyObject.check" title="Link to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="chpl method">
<dt class="sig sig-object chpl" id="Python.PyObject.get">
<em class="property"><span class="pre">proc</span> </em><span class="sig-name descname"><span class="pre">get</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#Python.PyObject.get" title="Link to this definition">¶</a></dt>
<dd><p>Returns the <a class="reference internal" href="../standard/CTypes.html#CTypes.c_ptr" title="CTypes.c_ptr"><code class="xref chpl chpl-type docutils literal notranslate"><span class="pre">c_ptr</span></code></a> to the underlying Python object.</p>
</dd></dl>

<dl class="chpl method">
<dt class="sig sig-object chpl" id="Python.PyObject.value">
<em class="property"><span class="pre">proc</span> </em><span class="sig-name descname"><span class="pre">value</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="pre">type</span> <span class="pre">value</span></em><span class="sig-paren">)</span><span class="w"> </span><em class="property"> <span class="pre">throws</span></em><a class="headerlink" href="#Python.PyObject.value" title="Link to this definition">¶</a></dt>
<dd><p>Returns the Chapel value of the object.</p>
<p>This is a shortcut for calling <a class="reference internal" href="#Python.Interpreter.fromPython" title="Python.Interpreter.fromPython"><code class="xref chpl chpl-proc docutils literal notranslate"><span class="pre">fromPython</span></code></a> on this object.</p>
</dd></dl>

<dl class="chpl method">
<dt class="sig sig-object chpl" id="Python.PyObject.release">
<em class="property"><span class="pre">proc</span> <span class="pre">type</span> </em><span class="sig-name descname"><span class="pre">release</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="pre">in</span> <span class="pre">self:</span> <span class="pre">owned</span> <span class="pre">PyObject</span></em><span class="sig-paren">)</span><em class="property"> <span class="pre">:</span> <span class="pre">PyObjectPtr</span></em><a class="headerlink" href="#Python.PyObject.release" title="Link to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="chpl method">
<dt class="sig sig-object chpl">
<em class="property"><span class="pre">proc</span> <span class="pre">type</span> </em><span class="sig-name descname"><span class="pre">release</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="pre">in</span> <span class="pre">self:</span> <span class="pre">owned</span> <span class="pre">ClassObject</span></em><span class="sig-paren">)</span><em class="property"> <span class="pre">:</span> <span class="pre">PyObjectPtr</span></em></dt>
<dd></dd></dl>

<dl class="chpl method">
<dt class="sig sig-object chpl" id="Python.PyObject.str">
<em class="property"><span class="pre">proc</span> </em><span class="sig-name descname"><span class="pre">str</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><em class="property"> <span class="pre">:</span> <span class="pre">string</span> <span class="pre">throws</span></em><a class="headerlink" href="#Python.PyObject.str" title="Link to this definition">¶</a></dt>
<dd><p>Returns the string representation of the object.
This is the same as casting to a string.</p>
<p>Equivalent to calling <code class="docutils literal notranslate"><span class="pre">str(obj)</span></code> in Python.</p>
</dd></dl>

</dd></dl>

</section>
</section>


           </div>
          </div>
          <footer><div class="rst-footer-buttons" role="navigation" aria-label="Footer">
        <a href="Zarr.html" class="btn btn-neutral float-left" title="Zarr" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left" aria-hidden="true"></span> Previous</a>
        <a href="BLAS.html" class="btn btn-neutral float-right" title="BLAS" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right" aria-hidden="true"></span></a>
    </div>

  <hr/>

  <div role="contentinfo">
    <p>&#169; Copyright 2024, Hewlett Packard Enterprise Development LP.</p>
  </div>

   

</footer>
        </div>
      </div>
    </section>
  </div>
  <script>
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script>
 



</body>
</html>