<!DOCTYPE html>
<html class="writer-html5" lang="en" >
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Submit a Package &mdash; Chapel Documentation 1.32</title>
      <link rel="stylesheet" href="../../../_static/pygments.css" type="text/css" />
      <link rel="stylesheet" href="../../../_static/css/theme.css" type="text/css" />
      <link rel="stylesheet" href="../../../_static/style.css" type="text/css" />
    <link rel="shortcut icon" href="../../../_static/favicon.ico"/>
  <!--[if lt IE 9]>
    <script src="../../../_static/js/html5shiv.min.js"></script>
  <![endif]-->
  
        <script data-url_root="../../../" id="documentation_options" src="../../../_static/documentation_options.js"></script>
        <script src="../../../_static/jquery.js"></script>
        <script src="../../../_static/underscore.js"></script>
        <script src="../../../_static/doctools.js"></script>
    <script src="../../../_static/js/theme.js"></script>
    <link rel="index" title="Index" href="../../../genindex.html" />
    <link rel="search" title="Search" href="../../../search.html" />
    <link rel="next" title="The Manifest File" href="manifestfile.html" />
    <link rel="prev" title="Mason-Registry" href="masonregistry.html" /> 
</head>

<body class="wy-body-for-nav"> 
  <div class="wy-grid-for-nav">
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >

<a href="../../../index.html" class="icon icon-home"> Chapel Documentation

<!-- display version if button won't be rendered -->
<?php if (false) { ?>
<br>1.32
<?php } ?>

</a>

<?php
// Variables given by sphinx
$chplTitle = "1.32";
$pagename = "tools/mason/guide/submitting";
include "../../..//versionButton.php";
?>


<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../../../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>


        </div><div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="Navigation menu">
  
              <p class="caption" role="heading"><span class="caption-text">Compiling and Running Chapel</span></p>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../../../usingchapel/QUICKSTART.html">Quickstart Instructions</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../usingchapel/index.html">Using Chapel</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../platforms/index.html">Platform-Specific Notes</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../technotes/index.html">Technical Notes</a></li>
<li class="toctree-l1 current"><a class="reference internal" href="../../index.html">Tools</a><ul class="current">
<li class="toctree-l2"><a class="reference internal" href="../../c2chapel/c2chapel.html">c2chapel</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../chpldoc/chpldoc.html">chpldoc</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../chplvis/chplvis.html">chplvis</a></li>
<li class="toctree-l2 current"><a class="reference internal" href="../mason.html">Mason</a><ul class="current">
<li class="toctree-l3"><a class="reference internal" href="../mason.html#overview">Overview</a></li>
<li class="toctree-l3"><a class="reference internal" href="../mason.html#getting-started-with-mason">Getting Started with Mason</a></li>
<li class="toctree-l3 current"><a class="reference internal" href="../mason.html#mason-guide">Mason Guide</a><ul class="current">
<li class="toctree-l4"><a class="reference internal" href="basicusage.html">Basic Usage</a></li>
<li class="toctree-l4"><a class="reference internal" href="buildingandrunning.html">Building and Running</a></li>
<li class="toctree-l4"><a class="reference internal" href="buildinglargerpackages.html">Building Larger Packages</a></li>
<li class="toctree-l4"><a class="reference internal" href="runtimearguments.html">Runtime/Compilation Arguments</a></li>
<li class="toctree-l4"><a class="reference internal" href="testing.html">Testing your Package</a></li>
<li class="toctree-l4"><a class="reference internal" href="examples.html">Creating and Running Examples</a></li>
<li class="toctree-l4"><a class="reference internal" href="documentation.html">Documenting a Package</a></li>
<li class="toctree-l4"><a class="reference internal" href="chapeldependencies.html">Using Chapel Dependencies</a></li>
<li class="toctree-l4"><a class="reference internal" href="gitdependencies.html">Specifying Dependencies from <code class="docutils literal notranslate"><span class="pre">git</span></code> Repositories</a></li>
<li class="toctree-l4"><a class="reference internal" href="externaldependencies.html">Using Non-Chapel Dependencies</a></li>
<li class="toctree-l4"><a class="reference internal" href="masonregistry.html">Mason-Registry</a></li>
<li class="toctree-l4"><a class="reference internal" href="masonregistry.html#local-registries">Local Registries</a></li>
<li class="toctree-l4 current"><a class="current reference internal" href="#">Submit a Package</a></li>
<li class="toctree-l4"><a class="reference internal" href="#semantic-versioning">Semantic Versioning</a></li>
<li class="toctree-l4"><a class="reference internal" href="#incompatible-version-resolution-strategy">Incompatible Version Resolution Strategy</a></li>
<li class="toctree-l4"><a class="reference internal" href="manifestfile.html">The Manifest File</a></li>
<li class="toctree-l4"><a class="reference internal" href="manifestfile.html#the-lock-file">The Lock File</a></li>
<li class="toctree-l4"><a class="reference internal" href="environmentvariables.html">Environment Variables</a></li>
<li class="toctree-l4"><a class="reference internal" href="namespacing.html">Namespacing</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../../protoc-gen-chpl/protoc-gen-chpl.html">Protocol Buffers Support in Chapel</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../../../developer/index.html">Docs for Contributors</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Writing Chapel Programs</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../../language/reference.html">Quick Reference</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../examples/index.html">Hello World Variants</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../primers/index.html">Primers</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../language/spec/index.html">Language Specification</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../modules/standard.html">Standard Modules</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../modules/packages.html">Package Modules</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../modules/layoutdist.html">Standard Layouts and Distributions</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../mason-packages/index.html">Mason Packages</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../users-guide/index.html">Chapel Users Guide (WIP)</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Language History</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../../language/evolution.html">Chapel Evolution</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../language/archivedSpecs.html">Documentation Archives</a></li>
</ul>

  <p class="caption" role="heading"><span class="caption-text">Indexes</span></p>
  <ul>
    <li class="toctree-11"><a class="reference internal" href="../../../chpl-modindex.html">Chapel Module Index</a></li>
    <li class="toctree-11"><a class="reference internal" href="../../../genindex.html">Complete Docs Index</a></li>
  </ul>

        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap"><nav class="wy-nav-top" aria-label="Mobile navigation menu" >
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../../../index.html">Chapel Documentation</a>
      </nav>

      <div class="wy-nav-content">
        <div class="rst-content">
          <div role="navigation" aria-label="Page navigation">
  <ul class="wy-breadcrumbs">
      <li><a href="../../../index.html" class="icon icon-home"></a> &raquo;</li>
          <li><a href="../../index.html">Tools</a> &raquo;</li>
          <li><a href="../mason.html">Mason</a> &raquo;</li>
      <li>Submit a Package</li>
      <li class="wy-breadcrumbs-aside">
            <a href="../../../_sources/tools/mason/guide/submitting.rst.txt" rel="nofollow"> View page source</a>
      </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
             
  <div class="section" id="submit-a-package">
<span id="id1"></span><h1>Submit a Package<a class="headerlink" href="#submit-a-package" title="Permalink to this headline">¶</a></h1>
<p>The mason registry will hold the manifest files for packages submitted by developers.
To contribute a package to the mason-registry a chapel developer will need to host their
package and submit a pull request to the mason-registry with the toml file pointing
to their package. For a more detailed description follow the steps below. Publishing
can be done with <code class="docutils literal notranslate"><span class="pre">mason</span> <span class="pre">publish</span></code> or manually.</p>
<dl class="simple">
<dt><code class="docutils literal notranslate"><span class="pre">mason</span> <span class="pre">publish</span></code> Steps:</dt><dd><ol class="arabic simple">
<li><p>Write a library or binary package in chapel using mason</p></li>
<li><p>Host the package in a git repository. (e.g. GitHub)</p></li>
<li><p>Fork the mason-registry on GitHub</p></li>
<li><p>Ensure your package has a remote origin.</p></li>
<li><p>Run <code class="docutils literal notranslate"><span class="pre">mason</span> <span class="pre">publish</span></code> in your package</p></li>
<li><p>Go to the link provided to open a pull request to the mason registry.</p></li>
<li><p>Wait for mason-registry gatekeepers to approve PR.</p></li>
</ol>
</dd>
<dt>Manual Steps:</dt><dd><ol class="arabic simple">
<li><p>Write a library or binary package in chapel using mason</p></li>
<li><p>Host that package in a git repository. (e.g. GitHub)</p></li>
<li><p>Create a tag of your package that corresponds to the version number prefixed with a ‘v’. (e.g. v0.1.0)</p></li>
<li><p>Fork the mason-registry on GitHub</p></li>
<li><p>Create a branch of the mason-registry and add your package’s <code class="docutils literal notranslate"><span class="pre">Mason.toml</span></code> under <code class="docutils literal notranslate"><span class="pre">Bricks/&lt;package_name&gt;/&lt;version&gt;.toml</span></code></p></li>
<li><p>Add a source field to your <code class="docutils literal notranslate"><span class="pre">&lt;version&gt;.toml</span></code> pointing to your package’s repository.</p></li>
<li><p>Open a PR in the mason-registry for your newly created branch containing just your &lt;version&gt;.toml.</p></li>
<li><p>Wait for mason-registry gatekeepers to approve the PR.</p></li>
</ol>
</dd>
</dl>
<p>Once your package is uploaded,  please notify the chapel team if your package should be taken down.
Your package may be removed by the Mason gatekeepers if the integrity of the package is not maintained.</p>
<p>If you have a personal remote registry, <code class="docutils literal notranslate"><span class="pre">mason</span> <span class="pre">publish</span> <span class="pre">&lt;path-to-registry&gt;</span></code>  also accepts
a remote path to a git repository. This will create a branch to your registry that adds
your package, and you can approve the PR to merge your new package into your registry.
Make sure to ensure that your package has a remote origin in order to publish remotely.</p>
<p>Publishing to a personal remote registry</p>
<div class="highlight-sh notranslate"><div class="highlight"><pre><span></span><span class="nb">cd</span> PackageA
mason publish &lt;remote-path-to-registry&gt;
</pre></div>
</div>
<p>To assess the ability of your package to be published to the mason-registry or
a personal registry, run <code class="docutils literal notranslate"><span class="pre">mason</span> <span class="pre">publish</span> <span class="pre">--dry-run</span> <span class="pre">&lt;path-to-registry&gt;</span></code> for a
series of quick checks or <code class="docutils literal notranslate"><span class="pre">mason</span> <span class="pre">publish</span> <span class="pre">--check</span> <span class="pre">&lt;path-to-registry</span></code> for a more
in depth check that will build your packages and run the full test suite.</p>
</div>
<div class="section" id="semantic-versioning">
<h1>Semantic Versioning<a class="headerlink" href="#semantic-versioning" title="Permalink to this headline">¶</a></h1>
<p>To assist version resolution, the mason registry will enforce the following conventions:</p>
<dl>
<dt>The format for all versions will be <code class="docutils literal notranslate"><span class="pre">a.b.c</span></code>.</dt><dd><p>Major versions are denoted by <code class="docutils literal notranslate"><span class="pre">a</span></code>.</p>
<p>Minor versions are denoted by <code class="docutils literal notranslate"><span class="pre">b</span></code>.</p>
<p>Bug fixes are denoted by <code class="docutils literal notranslate"><span class="pre">c</span></code>.</p>
</dd>
</dl>
<ul class="simple">
<li><p>If the major version is 0, no further conventions will be enforced.</p></li>
<li><p>The major version must be advanced if and only if the update causes breaking API changes,
such as updated data structures or removed methods and procedures. The minor and bug fix
versions will be zeroed out. (ex. 1.13.1 -&gt; 2.0.0)</p></li>
<li><p>The minor version must be advanced if and only if the update adds functionality to the API
while maintaining backward compatibility with the current major version. The bug fix
version will be zeroed out. (ex. 1.13.1 -&gt; 1.14.0)</p></li>
<li><p>The bug fix must be advanced for any update correcting functionality within a minor revision.
(ex. 1.13.1 -&gt; 1.13.2)</p></li>
</ul>
</div>
<div class="section" id="incompatible-version-resolution-strategy">
<h1>Incompatible Version Resolution Strategy<a class="headerlink" href="#incompatible-version-resolution-strategy" title="Permalink to this headline">¶</a></h1>
<dl class="simple">
<dt>The current resolution strategy for Mason 0.1.0 is the IVRS as described below:</dt><dd><ol class="arabic simple">
<li><p>If multiple bug fixes of a package are present in the package,
mason will use the latest bug fix. (ex. 1.1.0, 1.1.1 –&gt; 1.1.1)</p></li>
<li><p>If multiple minor versions of a package are present in the package,
mason will use the latest minor version within the common major version.
(ex. 1.4.3, 1.7.0 –&gt; 1.7)</p></li>
<li><p>If multiple major versions are present, mason will print an error.
(ex. 1.13.0, 2.1.0 –&gt; incompatible)</p></li>
</ol>
</dd>
</dl>
</div>


           </div>
          </div>
          <footer><div class="rst-footer-buttons" role="navigation" aria-label="Footer">
        <a href="masonregistry.html" class="btn btn-neutral float-left" title="Mason-Registry" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left" aria-hidden="true"></span> Previous</a>
        <a href="manifestfile.html" class="btn btn-neutral float-right" title="The Manifest File" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right" aria-hidden="true"></span></a>
    </div>

  <hr/>

  <div role="contentinfo">
    <p>&#169; Copyright 2023, Hewlett Packard Enterprise Development LP.</p>
  </div>

   

</footer>
        </div>
      </div>
    </section>
  </div>
  <script>
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script>
 



</body>
</html>