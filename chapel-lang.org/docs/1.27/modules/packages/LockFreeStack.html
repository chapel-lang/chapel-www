<!DOCTYPE html>
<html class="writer-html5" lang="en" >
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>LockFreeStack &mdash; Chapel Documentation 1.27</title>
      <link rel="stylesheet" href="../../_static/pygments.css" type="text/css" />
      <link rel="stylesheet" href="../../_static/css/theme.css" type="text/css" />
      <link rel="stylesheet" href="../../_static/style.css" type="text/css" />
    <link rel="shortcut icon" href="../../_static/favicon.ico"/>
  <!--[if lt IE 9]>
    <script src="../../_static/js/html5shiv.min.js"></script>
  <![endif]-->
  
        <script data-url_root="../../" id="documentation_options" src="../../_static/documentation_options.js"></script>
        <script src="../../_static/jquery.js"></script>
        <script src="../../_static/underscore.js"></script>
        <script src="../../_static/doctools.js"></script>
    <script src="../../_static/js/theme.js"></script>
    <link rel="index" title="Index" href="../../genindex.html" />
    <link rel="search" title="Search" href="../../search.html" />
    <link rel="next" title="SortedMap" href="SortedMap.html" />
    <link rel="prev" title="LockFreeQueue" href="LockFreeQueue.html" /> 
</head>

<body class="wy-body-for-nav"> 
  <div class="wy-grid-for-nav">
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >

<a href="../../index.html" class="icon icon-home"> Chapel Documentation

<!-- display version if button won't be rendered -->
<?php if (false) { ?>
<br>1.27
<?php } ?>

</a>

<?php
// Variables given by sphinx
$chplTitle = "1.27";
$pagename = "modules/packages/LockFreeStack";
include "../..//versionButton.php";
?>


<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>


        </div><div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="Navigation menu">
  
              <p class="caption" role="heading"><span class="caption-text">Compiling and Running Chapel</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../usingchapel/QUICKSTART.html">Quickstart Instructions</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../usingchapel/index.html">Using Chapel</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../platforms/index.html">Platform-Specific Notes</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../technotes/index.html">Technical Notes</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../tools/index.html">Tools</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../developer/index.html">Docs for Contributors</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Writing Chapel Programs</span></p>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../../language/reference.html">Quick Reference</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../examples/index.html">Hello World Variants</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../primers/index.html">Primers</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../language/spec/index.html">Language Specification</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../builtins/index.html">Built-in Types and Functions</a></li>
<li class="toctree-l1"><a class="reference internal" href="../standard.html">Standard Modules</a></li>
<li class="toctree-l1 current"><a class="reference internal" href="../packages.html">Package Modules</a><ul class="current">
<li class="toctree-l2"><a class="reference internal" href="../packages.html#algorithms">Algorithms</a></li>
<li class="toctree-l2"><a class="reference internal" href="../packages.html#communication-inter-locale">Communication (Inter-Locale)</a></li>
<li class="toctree-l2 current"><a class="reference internal" href="../packages.html#data-structures">Data Structures</a><ul class="current">
<li class="toctree-l3"><a class="reference internal" href="ConcurrentMap.html">ConcurrentMap</a></li>
<li class="toctree-l3"><a class="reference internal" href="DistributedBag.html">DistributedBag</a></li>
<li class="toctree-l3"><a class="reference internal" href="DistributedDeque.html">DistributedDeque</a></li>
<li class="toctree-l3"><a class="reference internal" href="DistributedIters.html">DistributedIters</a></li>
<li class="toctree-l3"><a class="reference internal" href="LinkedLists.html">LinkedLists</a></li>
<li class="toctree-l3"><a class="reference internal" href="LockFreeQueue.html">LockFreeQueue</a></li>
<li class="toctree-l3 current"><a class="current reference internal" href="#">LockFreeStack</a></li>
<li class="toctree-l3"><a class="reference internal" href="SortedMap.html">SortedMap</a></li>
<li class="toctree-l3"><a class="reference internal" href="SortedSet.html">SortedSet</a></li>
<li class="toctree-l3"><a class="reference internal" href="UnrolledLinkedList.html">UnrolledLinkedList</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../packages.html#file-formats-and-i-o">File Formats and I/O</a></li>
<li class="toctree-l2"><a class="reference internal" href="../packages.html#math-numerical-computing">Math / Numerical Computing</a></li>
<li class="toctree-l2"><a class="reference internal" href="../packages.html#memory-management">Memory Management</a></li>
<li class="toctree-l2"><a class="reference internal" href="../packages.html#networking-inter-process-communication">Networking / Inter-Process Communication</a></li>
<li class="toctree-l2"><a class="reference internal" href="../packages.html#parallel-computing">Parallel Computing</a></li>
<li class="toctree-l2"><a class="reference internal" href="../packages.html#tool-support">Tool Support</a></li>
<li class="toctree-l2"><a class="reference internal" href="../packages.html#utilities">Utilities</a></li>
<li class="toctree-l2"><a class="reference internal" href="../packages.html#miscellaneous">Miscellaneous</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../layoutdist.html">Standard Layouts and Distributions</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../mason-packages.html">Mason Packages</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../users-guide/index.html">Chapel Users Guide (WIP)</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Language History</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../language/evolution.html">Chapel Evolution</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../language/archivedSpecs.html">Documentation Archives</a></li>
</ul>

  <p class="caption" role="heading"><span class="caption-text">Indexes</span></p>
  <ul>
    <li class="toctree-11"><a class="reference internal" href="../../chpl-modindex.html">Chapel Module Index</a></li>
    <li class="toctree-11"><a class="reference internal" href="../../genindex.html">Complete Docs Index</a></li>
  </ul>

        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap"><nav class="wy-nav-top" aria-label="Mobile navigation menu" >
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../../index.html">Chapel Documentation</a>
      </nav>

      <div class="wy-nav-content">
        <div class="rst-content">
          <div role="navigation" aria-label="Page navigation">
  <ul class="wy-breadcrumbs">
      <li><a href="../../index.html" class="icon icon-home"></a> &raquo;</li>
          <li><a href="../packages.html">Package Modules</a> &raquo;</li>
      <li>LockFreeStack</li>
      <li class="wy-breadcrumbs-aside">
            <a href="../../_sources/modules/packages/LockFreeStack.rst.txt" rel="nofollow"> View page source</a>
      </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
             
  <span class="target" id="module-LockFreeStack"></span><div class="section" id="lockfreestack">
<h1>LockFreeStack<a class="headerlink" href="#lockfreestack" title="Permalink to this headline">¶</a></h1>
<p><strong>Usage</strong></p>
<div class="highlight-chapel notranslate"><div class="highlight"><pre><span></span><span class="k">use</span> <span class="nx">LockFreeStack</span><span class="p">;</span>
</pre></div>
</div>
<p>or</p>
<div class="highlight-chapel notranslate"><div class="highlight"><pre><span></span><span class="k">import</span> <span class="nx">LockFreeStack</span><span class="p">;</span>
</pre></div>
</div>
<p>Support for a lock-free Treiber stack.</p>
<div class="admonition warning">
<p class="admonition-title">Warning</p>
<p>This module relies on the <a class="reference internal" href="AtomicObjects.html#module-AtomicObjects" title="AtomicObjects: Support for atomic operations on pointers to 'unmanaged' classes."><code class="xref chpl chpl-mod docutils literal notranslate"><span class="pre">AtomicObjects</span></code></a> package module, which
has several platform restrictions in its current state:</p>
<blockquote>
<div><ul class="simple">
<li><p>It relies on Chapel <code class="docutils literal notranslate"><span class="pre">extern</span></code> code blocks and so requires that
the Chapel compiler is built with LLVM enabled.</p></li>
<li><p>Currently only <code class="docutils literal notranslate"><span class="pre">CHPL_TARGET_ARCH=x86_64</span></code> is supported as it uses
the x86-64 instruction: <a class="reference external" href="https://www.felixcloutier.com/x86/cmpxchg8b:cmpxchg16b">CMPXCHG16B</a>.</p></li>
<li><p>The implementation relies on <code class="docutils literal notranslate"><span class="pre">GCC</span></code> style inline assembly, and so
is restricted to a <code class="docutils literal notranslate"><span class="pre">CHPL_TARGET_COMPILER</span></code> value of <code class="docutils literal notranslate"><span class="pre">gnu</span></code>,
<code class="docutils literal notranslate"><span class="pre">clang</span></code>, or <code class="docutils literal notranslate"><span class="pre">llvm</span></code>.</p></li>
</ul>
</div></blockquote>
</div>
<p>An implementation of the Treiber Stack <a class="footnote-reference brackets" href="#id2" id="id1">1</a>, a lock-free stack. Concurrent safe
memory reclamation is handled by an internal <a class="reference internal" href="EpochManager.html#module-EpochManager" title="EpochManager: Support for Epoch-based Memory Reclamation."><code class="xref chpl chpl-record docutils literal notranslate"><span class="pre">EpochManager</span></code></a>. Usage of the
stack can be seen below.</p>
<div class="highlight-chpl notranslate"><div class="highlight"><pre><span></span><span class="kd">var</span> <span class="nx">lfs</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">LockFreeStack</span><span class="p">(</span><span class="kt">int</span><span class="p">);</span>
<span class="k">forall</span> <span class="nx">i</span> <span class="kd">in</span> <span class="mi">1</span><span class="o">..</span><span class="nx">N</span> <span class="k">do</span> <span class="nx">lfs</span><span class="p">.</span><span class="nx">push</span><span class="p">(</span><span class="nx">i</span><span class="p">);</span>
<span class="kd">var</span> <span class="nx">total</span> <span class="p">:</span> <span class="kt">int</span><span class="p">;</span>
<span class="k">coforall</span> <span class="nx">tid</span> <span class="kd">in</span> <span class="mi">1</span><span class="o">..</span><span class="nx">here</span><span class="p">.</span><span class="nx">maxTaskPar</span> <span class="k">with</span> <span class="p">(</span><span class="o">+</span> <span class="k">reduce</span> <span class="nx">total</span><span class="p">)</span> <span class="p">{</span>
  <span class="kd">var</span> <span class="p">(</span><span class="nx">hasElt</span><span class="p">,</span> <span class="nx">elt</span><span class="p">)</span> <span class="o">=</span> <span class="nx">lfs</span><span class="p">.</span><span class="nx">pop</span><span class="p">();</span>
  <span class="k">while</span> <span class="nx">hasElt</span> <span class="p">{</span>
    <span class="nx">total</span> <span class="o">+=</span> <span class="nx">elt</span><span class="p">;</span>
    <span class="p">(</span><span class="nx">hasElt</span><span class="p">,</span> <span class="nx">elt</span><span class="p">)</span> <span class="o">=</span> <span class="nx">lfs</span><span class="p">.</span><span class="nx">pop</span><span class="p">();</span>
  <span class="p">}</span>
<span class="p">}</span>
</pre></div>
</div>
<p>As an optimization, the user can register to receive a <a class="reference internal" href="EpochManager.html#EpochManager.TokenWrapper" title="EpochManager.TokenWrapper"><code class="xref chpl chpl-class docutils literal notranslate"><span class="pre">TokenWrapper</span></code></a>, and pass this
to the stack. This can provide significant improvement in performance by up to an order of magnitude
by avoiding the overhead of registering and unregistering for each operation.</p>
<div class="highlight-chpl notranslate"><div class="highlight"><pre><span></span><span class="kd">var</span> <span class="nx">lfs</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">LockFreeStack</span><span class="p">(</span><span class="kt">int</span><span class="p">);</span>
<span class="k">forall</span> <span class="nx">i</span> <span class="kd">in</span> <span class="mi">1</span><span class="o">..</span><span class="nx">N</span> <span class="k">with</span> <span class="p">(</span><span class="kd">var</span> <span class="nx">tok</span> <span class="o">=</span> <span class="nx">lfs</span><span class="p">.</span><span class="nx">getToken</span><span class="p">())</span> <span class="k">do</span> <span class="nx">lfs</span><span class="p">.</span><span class="nx">push</span><span class="p">(</span><span class="nx">i</span><span class="p">,</span><span class="nx">tok</span><span class="p">);</span>
<span class="kd">var</span> <span class="nx">total</span> <span class="p">:</span> <span class="kt">int</span><span class="p">;</span>
<span class="k">coforall</span> <span class="nx">tid</span> <span class="kd">in</span> <span class="mi">1</span><span class="o">..</span><span class="nx">here</span><span class="p">.</span><span class="nx">maxTaskPar</span> <span class="k">with</span> <span class="p">(</span><span class="o">+</span> <span class="k">reduce</span> <span class="nx">total</span><span class="p">)</span> <span class="p">{</span>
  <span class="kd">var</span> <span class="nx">tok</span> <span class="o">=</span> <span class="nx">lfs</span><span class="p">.</span><span class="nx">getToken</span><span class="p">();</span>
  <span class="kd">var</span> <span class="p">(</span><span class="nx">hasElt</span><span class="p">,</span> <span class="nx">elt</span><span class="p">)</span> <span class="o">=</span> <span class="nx">lfs</span><span class="p">.</span><span class="nx">pop</span><span class="p">(</span><span class="nx">tok</span><span class="p">);</span>
  <span class="k">while</span> <span class="nx">hasElt</span> <span class="p">{</span>
    <span class="nx">total</span> <span class="o">+=</span> <span class="nx">elt</span><span class="p">;</span>
    <span class="p">(</span><span class="nx">hasElt</span><span class="p">,</span> <span class="nx">elt</span><span class="p">)</span> <span class="o">=</span> <span class="nx">lfs</span><span class="p">.</span><span class="nx">pop</span><span class="p">(</span><span class="nx">tok</span><span class="p">);</span>
  <span class="p">}</span>
<span class="p">}</span>
</pre></div>
</div>
<p>Lastly, to safely reclaim memory, the user must explicitly invoke <code class="docutils literal notranslate"><span class="pre">tryReclaim</span></code>, or else
there will be a memory leak. This must be explicitly invoked so that the user may tune how often
reclamation will be attempted. Reclamation is concurrent-safe, but if called too frequently,
it can add unnecessary overhead. A complete example of what would be considered ‘optimal’
usage of this lock-free stack.</p>
<div class="highlight-chpl notranslate"><div class="highlight"><pre><span></span><span class="kd">var</span> <span class="nx">lfs</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">LockFreeStack</span><span class="p">(</span><span class="kt">int</span><span class="p">);</span>
<span class="k">forall</span> <span class="nx">i</span> <span class="kd">in</span> <span class="mi">1</span><span class="o">..</span><span class="nx">N</span> <span class="k">with</span> <span class="p">(</span><span class="kd">var</span> <span class="nx">tok</span> <span class="o">=</span> <span class="nx">lfs</span><span class="p">.</span><span class="nx">getToken</span><span class="p">())</span> <span class="k">do</span> <span class="nx">lfs</span><span class="p">.</span><span class="nx">push</span><span class="p">(</span><span class="nx">i</span><span class="p">,</span><span class="nx">tok</span><span class="p">);</span>
<span class="kd">var</span> <span class="nx">total</span> <span class="p">:</span> <span class="kt">int</span><span class="p">;</span>
<span class="k">coforall</span> <span class="nx">tid</span> <span class="kd">in</span> <span class="mi">1</span><span class="o">..</span><span class="nx">here</span><span class="p">.</span><span class="nx">maxTaskPar</span> <span class="k">with</span> <span class="p">(</span><span class="o">+</span> <span class="k">reduce</span> <span class="nx">total</span><span class="p">)</span> <span class="p">{</span>
  <span class="kd">var</span> <span class="nx">tok</span> <span class="o">=</span> <span class="nx">lfs</span><span class="p">.</span><span class="nx">getToken</span><span class="p">();</span>
  <span class="kd">var</span> <span class="p">(</span><span class="nx">hasElt</span><span class="p">,</span> <span class="nx">elt</span><span class="p">)</span> <span class="o">=</span> <span class="nx">lfs</span><span class="p">.</span><span class="nx">pop</span><span class="p">(</span><span class="nx">tok</span><span class="p">);</span>
  <span class="kd">var</span> <span class="nx">n</span> <span class="p">:</span> <span class="kt">int</span><span class="p">;</span>
  <span class="k">while</span> <span class="nx">hasElt</span> <span class="p">{</span>
    <span class="nx">total</span> <span class="o">+=</span> <span class="nx">elt</span><span class="p">;</span>
    <span class="p">(</span><span class="nx">hasElt</span><span class="p">,</span> <span class="nx">elt</span><span class="p">)</span> <span class="o">=</span> <span class="nx">lfs</span><span class="p">.</span><span class="nx">pop</span><span class="p">(</span><span class="nx">tok</span><span class="p">);</span>
    <span class="nx">n</span> <span class="o">+=</span> <span class="mi">1</span><span class="p">;</span>
    <span class="k">if</span> <span class="nx">n</span> <span class="o">%</span> <span class="nx">GC_THRESHOLD</span> <span class="o">==</span> <span class="mi">0</span> <span class="k">then</span> <span class="nx">lfs</span><span class="p">.</span><span class="nx">tryReclaim</span><span class="p">();</span>
  <span class="p">}</span>
<span class="p">}</span>
</pre></div>
</div>
<p>Also provided, is a utility method for draining the stack of all elements,
called <code class="docutils literal notranslate"><span class="pre">drain</span></code>. This iterator will implicitly call <code class="docutils literal notranslate"><span class="pre">tryReclaim</span></code> at the
end and will optimally create one token per task.</p>
<div class="highlight-chpl notranslate"><div class="highlight"><pre><span></span><span class="kd">var</span> <span class="nx">lfs</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">LockFreeStack</span><span class="p">(</span><span class="kt">int</span><span class="p">);</span>
<span class="k">forall</span> <span class="nx">i</span> <span class="kd">in</span> <span class="mi">1</span><span class="o">..</span><span class="nx">N</span> <span class="k">with</span> <span class="p">(</span><span class="kd">var</span> <span class="nx">tok</span> <span class="o">=</span> <span class="nx">lfs</span><span class="p">.</span><span class="nx">getToken</span><span class="p">())</span> <span class="k">do</span> <span class="nx">lfs</span><span class="p">.</span><span class="nx">push</span><span class="p">(</span><span class="nx">i</span><span class="p">,</span><span class="nx">tok</span><span class="p">);</span>
<span class="kd">var</span> <span class="nx">total</span> <span class="o">=</span> <span class="o">+</span> <span class="k">reduce</span> <span class="nx">lfs</span><span class="p">.</span><span class="nx">drain</span><span class="p">();</span>
</pre></div>
</div>
<dl class="footnote brackets">
<dt class="label" id="id2"><span class="brackets"><a class="fn-backref" href="#id1">1</a></span></dt>
<dd><p>Hendler, Danny, Nir Shavit, and Lena Yerushalmi.
“A scalable lock-free stack algorithm.” Proceedings of the sixteenth annual
ACM symposium on Parallelism in algorithms and architectures. ACM, 2004.</p>
</dd>
</dl>
<dl class="chpl class">
<dt class="sig sig-object chpl" id="LockFreeStack.Node">
<em class="property"><span class="pre">class</span> </em><span class="sig-name descname"><span class="pre">Node</span></span><a class="headerlink" href="#LockFreeStack.Node" title="Permalink to this definition">¶</a></dt>
<dd><dl class="chpl attribute">
<dt class="sig sig-object chpl" id="LockFreeStack.Node.eltType">
<em class="property"><span class="pre">type</span> </em><span class="sig-name descname"><span class="pre">eltType</span></span><a class="headerlink" href="#LockFreeStack.Node.eltType" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="chpl attribute">
<dt class="sig sig-object chpl" id="LockFreeStack.Node.val">
<em class="property"><span class="pre">var</span> </em><span class="sig-name descname"><span class="pre">val</span></span><span class="pre">:</span> <span class="pre">toNilableIfClassType(eltType)</span><a class="headerlink" href="#LockFreeStack.Node.val" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="chpl attribute">
<dt class="sig sig-object chpl" id="LockFreeStack.Node.next">
<em class="property"><span class="pre">var</span> </em><span class="sig-name descname"><span class="pre">next</span></span><span class="pre">:</span> <span class="pre">unmanaged</span> <span class="pre">nilable</span> <span class="pre">Node(eltType)</span><a class="headerlink" href="#LockFreeStack.Node.next" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="chpl method">
<dt class="sig sig-object chpl" id="LockFreeStack.Node.init">
<em class="property"><span class="pre">proc</span> </em><span class="sig-name descname"><span class="pre">init</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="pre">val:</span> <span class="pre">?eltType</span></em><span class="sig-paren">)</span><a class="headerlink" href="#LockFreeStack.Node.init" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="chpl method">
<dt class="sig sig-object chpl">
<em class="property"><span class="pre">proc</span> </em><span class="sig-name descname"><span class="pre">init</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="pre">type</span> <span class="pre">eltType</span></em><span class="sig-paren">)</span></dt>
<dd></dd></dl>

</dd></dl>

<dl class="chpl class">
<dt class="sig sig-object chpl" id="LockFreeStack.LockFreeStack">
<em class="property"><span class="pre">class</span> </em><span class="sig-name descname"><span class="pre">LockFreeStack</span></span><a class="headerlink" href="#LockFreeStack.LockFreeStack" title="Permalink to this definition">¶</a></dt>
<dd><dl class="chpl attribute">
<dt class="sig sig-object chpl" id="LockFreeStack.LockFreeStack.objType">
<em class="property"><span class="pre">type</span> </em><span class="sig-name descname"><span class="pre">objType</span></span><a class="headerlink" href="#LockFreeStack.LockFreeStack.objType" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="chpl attribute">
<dt class="sig sig-object chpl" id="LockFreeStack.LockFreeStack._top">
<em class="property"><span class="pre">var</span> </em><span class="sig-name descname"><span class="pre">_top</span></span><span class="pre">:</span> <span class="pre">AtomicObject(unmanaged</span> <span class="pre">nilable</span> <span class="pre">Node(objType),</span> <span class="pre">hasGlobalSupport</span> <span class="pre">=</span> <span class="pre">true,</span> <span class="pre">hasABASupport</span> <span class="pre">=</span> <span class="pre">false)</span><a class="headerlink" href="#LockFreeStack.LockFreeStack._top" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="chpl attribute">
<dt class="sig sig-object chpl" id="LockFreeStack.LockFreeStack._manager">
<em class="property"><span class="pre">var</span> </em><span class="sig-name descname"><span class="pre">_manager</span></span> <span class="pre">=</span> <span class="pre">new</span> <span class="pre">owned</span> <span class="pre">LocalEpochManager()</span><a class="headerlink" href="#LockFreeStack.LockFreeStack._manager" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="chpl method">
<dt class="sig sig-object chpl" id="LockFreeStack.LockFreeStack.objTypeOpt">
<em class="property"><span class="pre">proc</span> </em><span class="sig-name descname"><span class="pre">objTypeOpt</span></span> <span class="pre">type</span><a class="headerlink" href="#LockFreeStack.LockFreeStack.objTypeOpt" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="chpl method">
<dt class="sig sig-object chpl" id="LockFreeStack.LockFreeStack.init">
<em class="property"><span class="pre">proc</span> </em><span class="sig-name descname"><span class="pre">init</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="pre">type</span> <span class="pre">objType</span></em><span class="sig-paren">)</span><a class="headerlink" href="#LockFreeStack.LockFreeStack.init" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="chpl method">
<dt class="sig sig-object chpl" id="LockFreeStack.LockFreeStack.getToken">
<em class="property"><span class="pre">proc</span> </em><span class="sig-name descname"><span class="pre">getToken</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><span class="pre">:</span> <span class="pre">owned</span> <span class="pre">TokenWrapper</span><a class="headerlink" href="#LockFreeStack.LockFreeStack.getToken" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="chpl method">
<dt class="sig sig-object chpl" id="LockFreeStack.LockFreeStack.push">
<em class="property"><span class="pre">proc</span> </em><span class="sig-name descname"><span class="pre">push</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="pre">newObj:</span> <span class="pre">objType</span></em>, <em class="sig-param"><span class="pre">tok:</span> <span class="pre">owned</span> <span class="pre">TokenWrapper</span> <span class="pre">=</span> <span class="pre">getToken()</span></em><span class="sig-paren">)</span><a class="headerlink" href="#LockFreeStack.LockFreeStack.push" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="chpl method">
<dt class="sig sig-object chpl" id="LockFreeStack.LockFreeStack.pop">
<em class="property"><span class="pre">proc</span> </em><span class="sig-name descname"><span class="pre">pop</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="pre">tok:</span> <span class="pre">owned</span> <span class="pre">TokenWrapper</span> <span class="pre">=</span> <span class="pre">getToken()</span></em><span class="sig-paren">)</span><span class="pre">:</span> <span class="pre">(bool,</span> <span class="pre">objType)</span><a class="headerlink" href="#LockFreeStack.LockFreeStack.pop" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="chpl itermethod">
<dt class="sig sig-object chpl" id="LockFreeStack.LockFreeStack.drain">
<em class="property"><span class="pre">iter</span> </em><span class="sig-name descname"><span class="pre">drain</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><span class="pre">:</span> <span class="pre">objTypeOpt</span><a class="headerlink" href="#LockFreeStack.LockFreeStack.drain" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="chpl itermethod">
<dt class="sig sig-object chpl">
<em class="property"><span class="pre">iter</span> </em><span class="sig-name descname"><span class="pre">drain</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="pre">param</span> <span class="pre">tag:</span> <span class="pre">iterKind</span></em><span class="sig-paren">)</span><span class="pre">:</span> <span class="pre">objTypeOpt</span></dt>
<dd></dd></dl>

<dl class="chpl method">
<dt class="sig sig-object chpl" id="LockFreeStack.LockFreeStack.tryReclaim">
<em class="property"><span class="pre">proc</span> </em><span class="sig-name descname"><span class="pre">tryReclaim</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#LockFreeStack.LockFreeStack.tryReclaim" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

</div>


           </div>
          </div>
          <footer><div class="rst-footer-buttons" role="navigation" aria-label="Footer">
        <a href="LockFreeQueue.html" class="btn btn-neutral float-left" title="LockFreeQueue" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left" aria-hidden="true"></span> Previous</a>
        <a href="SortedMap.html" class="btn btn-neutral float-right" title="SortedMap" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right" aria-hidden="true"></span></a>
    </div>

  <hr/>

  <div role="contentinfo">
    <p>&#169; Copyright 2022, Hewlett Packard Enterprise Development LP.</p>
  </div>

   

</footer>
        </div>
      </div>
    </section>
  </div>
  <script>
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script>
 



</body>
</html>