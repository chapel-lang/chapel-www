<!DOCTYPE html>
<html class="writer-html5" lang="en">
<head>
  <meta charset="utf-8" /><meta name="generator" content="Docutils 0.18: http://docutils.sourceforge.net/" />

  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Ranges &mdash; Chapel Documentation 2.0</title>
      <link rel="stylesheet" type="text/css" href="../../_static/pygments.css" />
      <link rel="stylesheet" type="text/css" href="../../_static/css/theme.css" />
      <link rel="stylesheet" type="text/css" href="../../_static/style.css" />

  
    <link rel="shortcut icon" href="../../_static/favicon.ico"/>
  <!--[if lt IE 9]>
    <script src="../../_static/js/html5shiv.min.js"></script>
  <![endif]-->
  
        <script data-url_root="../../" id="documentation_options" src="../../_static/documentation_options.js"></script>
        <script src="../../_static/jquery.js"></script>
        <script src="../../_static/underscore.js"></script>
        <script src="../../_static/_sphinx_javascript_frameworks_compat.js"></script>
        <script src="../../_static/doctools.js"></script>
        <script src="../../_static/sphinx_highlight.js"></script>
        <script async="async" src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js"></script>
    <script src="../../_static/js/theme.js"></script>
    <link rel="index" title="Index" href="../../genindex.html" />
    <link rel="search" title="Search" href="../../search.html" />
    <link rel="next" title="Domains" href="domains.html" />
    <link rel="prev" title="Unions" href="unions.html" /> 
</head>

<body class="wy-body-for-nav"> 
  <div class="wy-grid-for-nav">
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >

<a href="../../index.html" class="icon icon-home"> Chapel Documentation

<!-- display version if button won't be rendered -->
<?php if (false) { ?>
<br>2.0
<?php } ?>

</a>

<?php
// Variables given by sphinx
$chplTitle = "2.0";
$pagename = "language/spec/ranges";
include "../..//versionButton.php";
?>


<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" aria-label="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>


        </div><div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="Navigation menu">
  
              <p class="caption" role="heading"><span class="caption-text">Compiling and Running Chapel</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../usingchapel/QUICKSTART.html">Quickstart Instructions</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../usingchapel/index.html">Using Chapel</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../platforms/index.html">Platform-Specific Notes</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../technotes/index.html">Technical Notes</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../tools/index.html">Tools</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../developer/index.html">Docs for Contributors</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Writing Chapel Programs</span></p>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../reference.html">Quick Reference</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../examples/index.html">Hello World Variants</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../primers/index.html">Primers</a></li>
<li class="toctree-l1 current"><a class="reference internal" href="index.html">Language Specification</a><ul class="current">
<li class="toctree-l2"><a class="reference internal" href="index.html#introductory-material">Introductory Material</a></li>
<li class="toctree-l2"><a class="reference internal" href="index.html#language-basics">Language Basics</a></li>
<li class="toctree-l2"><a class="reference internal" href="index.html#code-structures">Code Structures</a></li>
<li class="toctree-l2 current"><a class="reference internal" href="index.html#composite-types">Composite Types</a><ul class="current">
<li class="toctree-l3"><a class="reference internal" href="tuples.html">Tuples</a></li>
<li class="toctree-l3"><a class="reference internal" href="strings.html">Strings</a></li>
<li class="toctree-l3"><a class="reference internal" href="bytes.html">Bytes</a></li>
<li class="toctree-l3"><a class="reference internal" href="classes.html">Classes</a></li>
<li class="toctree-l3"><a class="reference internal" href="records.html">Records</a></li>
<li class="toctree-l3"><a class="reference internal" href="unions.html">Unions</a></li>
<li class="toctree-l3 current"><a class="current reference internal" href="#">Ranges</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#range-concepts">Range Concepts</a></li>
<li class="toctree-l4"><a class="reference internal" href="#range-types">Range Types</a></li>
<li class="toctree-l4"><a class="reference internal" href="#range-values">Range Values</a></li>
<li class="toctree-l4"><a class="reference internal" href="#common-operations">Common Operations</a></li>
<li class="toctree-l4"><a class="reference internal" href="#range-operators">Range Operators</a></li>
<li class="toctree-l4"><a class="reference internal" href="#predefined-routines-on-ranges">Predefined Routines on Ranges</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="domains.html">Domains</a></li>
<li class="toctree-l3"><a class="reference internal" href="arrays.html">Arrays</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="index.html#generic-programming">Generic Programming</a></li>
<li class="toctree-l2"><a class="reference internal" href="index.html#parallel-programming">Parallel Programming</a></li>
<li class="toctree-l2"><a class="reference internal" href="index.html#distributed-programming">Distributed Programming</a></li>
<li class="toctree-l2"><a class="reference internal" href="index.html#additional-topics">Additional Topics</a></li>
<li class="toctree-l2"><a class="reference internal" href="index.html#appendices">Appendices</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../../modules/standard.html">Standard Modules</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../modules/packages.html">Package Modules</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../modules/layoutdist.html">Standard Layouts and Distributions</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../mason-packages/index.html">Mason Packages</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../users-guide/index.html">Chapel Users Guide (WIP)</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Language History</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../evolution.html">Chapel Evolution</a></li>
<li class="toctree-l1"><a class="reference internal" href="../archivedSpecs.html">Documentation Archives</a></li>
</ul>

  <p class="caption" role="heading"><span class="caption-text">Indexes</span></p>
  <ul>
    <li class="toctree-11"><a class="reference internal" href="../../chpl-modindex.html">Chapel Module Index</a></li>
    <li class="toctree-11"><a class="reference internal" href="../../genindex.html">Complete Docs Index</a></li>
  </ul>

        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap"><nav class="wy-nav-top" aria-label="Mobile navigation menu" >
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../../index.html">Chapel Documentation</a>
      </nav>

      <div class="wy-nav-content">
        <div class="rst-content">
          <div role="navigation" aria-label="Page navigation">
  <ul class="wy-breadcrumbs">
      <li><a href="../../index.html" class="icon icon-home" aria-label="Home"></a></li>
          <li class="breadcrumb-item"><a href="index.html">Chapel Language Specification</a></li>
      <li class="breadcrumb-item active">Ranges</li>
      <li class="wy-breadcrumbs-aside">
            <a href="../../_sources/language/spec/ranges.rst.txt" rel="nofollow"> View page source</a>
      </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
             
  <section id="ranges">
<span id="chapter-ranges"></span><h1>Ranges<a class="headerlink" href="#ranges" title="Permalink to this heading">¶</a></h1>
<p>A <em>range</em> is a first-class, constant-space representation of a regular
sequence of values.  These values are typically integers, though
ranges over bools, enums, and other types are also supported.  Ranges
support serial and parallel iteration over the sequence of values they
represent, as well as operations such as counting, striding,
intersection, shifting, and comparisons.  Ranges form the basis for
defining rectangular domains (<a class="reference internal" href="domains.html#chapter-domains"><span class="std std-ref">Domains</span></a>) and arrays
(<a class="reference internal" href="arrays.html#chapter-arrays"><span class="std std-ref">Arrays</span></a>) in Chapel.</p>
<p>Ranges are presented as follows:</p>
<ul class="simple">
<li><p>definition of the key range concepts <a class="reference internal" href="#range-concepts"><span class="std std-ref">Range Concepts</span></a></p></li>
<li><p>range types <a class="reference internal" href="#range-types"><span class="std std-ref">Range Types</span></a></p></li>
<li><p>range values <a class="reference internal" href="#range-values"><span class="std std-ref">Range Values</span></a></p></li>
<li><p>range assignment <a class="reference internal" href="#range-assignment"><span class="std std-ref">Range Assignment</span></a></p></li>
<li><p>operators on ranges <a class="reference internal" href="#range-operators"><span class="std std-ref">Range Operators</span></a></p></li>
<li><p>predefined functions on ranges
<a class="reference internal" href="#predefined-range-functions"><span class="std std-ref">Predefined Routines on Ranges</span></a></p></li>
</ul>
<section id="range-concepts">
<span id="id1"></span><h2>Range Concepts<a class="headerlink" href="#range-concepts" title="Permalink to this heading">¶</a></h2>
<p>A range has four primary properties. Together they define the sequence
of indices that the range represents, or the <em>represented sequence</em>, as
follows.</p>
<ul class="simple">
<li><p>The <em>low bound</em> is either a specific index value or -<span class="math notranslate nohighlight">\(\infty\)</span>.</p></li>
<li><p>The <em>high bound</em> is either a specific index value or
+<span class="math notranslate nohighlight">\(\infty\)</span>. The low and high bounds determine the span of the
represented sequence. Chapel does not represent <span class="math notranslate nohighlight">\(\infty\)</span>
explicitly. Instead, infinite bound(s) are represented implicitly in
the range’s type (<a class="reference internal" href="#range-types"><span class="std std-ref">Range Types</span></a>). When the low and/or high
bound is <span class="math notranslate nohighlight">\(\infty\)</span>, the represented sequence is unbounded in the
corresponding direction(s). However, when indices are drawn from
a finite type, such as booleans or enum constants, the represented
sequence always terminates when it runs out of legal indices
of this type.</p></li>
<li><p>The <em>stride</em> is a non-zero integer. It defines the distance between
any two adjacent members of the represented sequence. The sign of the
stride indicates the direction of the sequence:</p>
<ul>
<li><p><span class="math notranslate nohighlight">\(stride &gt; 0\)</span> indicates an increasing sequence,</p></li>
<li><p><span class="math notranslate nohighlight">\(stride &lt; 0\)</span> indicates a decreasing sequence.</p></li>
</ul>
</li>
<li><p>The <em>alignment</em> is either a specific index value or is <em>ambiguous</em>.
It defines how the represented sequence’s members are aligned
relative to the stride. The alignment, when unambiguous,
is always between zero and <span class="math notranslate nohighlight">\(|stride|-1\)</span>, inclusively.</p></li>
</ul>
<p>A range with unambiguous alignment is called <em>aligned</em>. Otherwise
the range is <em>unaligned</em> and its represented sequence is undefined.</p>
<p>The represented sequence for an aligned range
<span class="math notranslate nohighlight">\((low, high, stride, alignmt)\)</span>
with integral indices contains all indices <span class="math notranslate nohighlight">\(ix\)</span> such that:</p>
<blockquote>
<div><p><span class="math notranslate nohighlight">\(low \leq ix \leq high\)</span> and <span class="math notranslate nohighlight">\(ix \equiv alignmt \pmod{|stride|}\)</span></p>
</div></blockquote>
<p>If the represented sequence is defined but there are no indices
satisfying the above equation, the range and its
represented sequence are <em>empty</em>. A common case of this occurs when the
low bound is greater than the high bound.</p>
<p>We say that a value <span class="math notranslate nohighlight">\(ix\)</span> is <em>aligned</em> w.r.t. the range
<span class="math notranslate nohighlight">\((low, high, stride, alignmt)\)</span> if:</p>
<blockquote>
<div><p><span class="math notranslate nohighlight">\(alignmt\)</span> is not ambiguous and
<span class="math notranslate nohighlight">\(ix \equiv alignmt \pmod{|stride|}\)</span>.</p>
</div></blockquote>
<p>Furthermore, <span class="math notranslate nohighlight">\(\infty\)</span> is never aligned.</p>
<p>Ranges have the following additional properties.</p>
<ul>
<li><p>The <em>first index</em> is the first member of the represented sequence.</p>
<p>A range <em>has no</em> first index when the first member is undefined, that
is, in the following cases:</p>
<ul class="simple">
<li><p>the range is unaligned,</p></li>
<li><p>the represented sequence is empty,</p></li>
<li><p>the represented sequence is increasing and the low bound is
-<span class="math notranslate nohighlight">\(\infty\)</span>,</p></li>
<li><p>the represented sequence is decreasing and the high bound is
+<span class="math notranslate nohighlight">\(\infty\)</span>.</p></li>
</ul>
</li>
<li><p>The <em>last index</em> is the last member of the represented sequence.</p>
<p>A range <em>has no</em> last index when the last member is undefined, that
is, in the following cases:</p>
<ul class="simple">
<li><p>the range is unaligned,</p></li>
<li><p>the represented sequence is empty,</p></li>
<li><p>the represented sequence is increasing and the high bound is
+<span class="math notranslate nohighlight">\(\infty\)</span>,</p></li>
<li><p>the represented sequence is decreasing and the low bound is
-<span class="math notranslate nohighlight">\(\infty\)</span>.</p></li>
</ul>
</li>
<li><p>The <em>aligned low bound</em> is the smallest value that is greater than or
equal to the low bound and is aligned w.r.t. the range, if such a
value exists.</p>
<p>The aligned low bound equals the smallest member of the represented
sequence, when both exist.</p>
</li>
<li><p>The <em>aligned high bound</em> is the largest value that is less than or
equal to the high bound and is aligned w.r.t. the range, if such a
value exists.</p>
<p>The aligned high bound equals the largest member of the represented
sequence, when both exist.</p>
</li>
<li><p>The range is <em>iterable</em>, that is, it is legal to iterate over it, if
it has a first index.</p></li>
</ul>
</section>
<section id="range-types">
<span id="id2"></span><h2>Range Types<a class="headerlink" href="#range-types" title="Permalink to this heading">¶</a></h2>
<p>The type of a range is characterized by three properties:</p>
<ul>
<li><p><code class="docutils literal notranslate"><span class="pre">idxType</span></code> is the type of the values in the range’s represented
sequence. However, when the range’s represented sequence is infinite,
it also contains indices that
are not representable by <code class="docutils literal notranslate"><span class="pre">idxType</span></code>.</p>
<p><code class="docutils literal notranslate"><span class="pre">idxType</span></code> must be an integral, boolean, or enumerated type and is
<code class="docutils literal notranslate"><span class="pre">int</span></code> by default. The range’s low bound and high bound (when they
are not <span class="math notranslate nohighlight">\(\infty\)</span>) and alignment are of the type <code class="docutils literal notranslate"><span class="pre">idxType</span></code>.
The range’s stride is of the signed integer type that has the same
bit size as <code class="docutils literal notranslate"><span class="pre">idxType</span></code> for integral ranges; for boolean and
enumerated ranges, it is simply <code class="docutils literal notranslate"><span class="pre">int</span></code>.</p>
</li>
<li><p><code class="docutils literal notranslate"><span class="pre">bounds</span></code> indicates which of the range’s bounds are not
<span class="math notranslate nohighlight">\(\infty\)</span>. <code class="docutils literal notranslate"><span class="pre">bounds</span></code> is an enumeration constant of the
type <code class="docutils literal notranslate"><span class="pre">boundKind</span></code>. It is discussed further below.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">strides</span></code> indicates what values of <code class="docutils literal notranslate"><span class="pre">stride</span></code> are allowed
for this type. <code class="docutils literal notranslate"><span class="pre">strides</span></code> is an enumeration constant of the
type <code class="docutils literal notranslate"><span class="pre">strideKind</span></code>. It is discussed further below.</p></li>
</ul>
<p><code class="docutils literal notranslate"><span class="pre">bounds</span></code> is one of the constants of the following enumeration:</p>
<dl class="chpl enum">
<dt class="sig sig-object chpl" id="boundKind">
<em class="property"><span class="pre">enum</span> </em><span class="sig-name descname"><span class="pre">boundKind</span></span><span class="w"> </span><em class="property"> <span class="pre">{</span> <span class="pre">both,</span> <span class="pre">low,</span> <span class="pre">high,</span> <span class="pre">neither</span> <span class="pre">};</span></em><a class="headerlink" href="#boundKind" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<p>The value of <code class="docutils literal notranslate"><span class="pre">bounds</span></code> determines which bound(s) of the range are
specified (making the range “bounded”, as opposed to infinite, in the
corresponding direction(s)) as follows:</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">both</span></code>: both bounds are specified.
Such ranges are called <em>bounded</em>.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">low</span></code>: the low bound is specified, the high bound is +<span class="math notranslate nohighlight">\(\infty\)</span>.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">high</span></code>: the high bound is specified, the low bound is -<span class="math notranslate nohighlight">\(\infty\)</span>.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">neither</span></code>: neither bound is specified, both bounds are <span class="math notranslate nohighlight">\(\infty\)</span>.
Such ranges are called <em>unbounded</em>.</p></li>
</ul>
<p><code class="docutils literal notranslate"><span class="pre">bounds</span></code> is <code class="docutils literal notranslate"><span class="pre">boundKind.both</span></code> by default.</p>
<p><code class="docutils literal notranslate"><span class="pre">strides</span></code> is one of the constants of the following enumeration:</p>
<dl class="chpl enum">
<dt class="sig sig-object chpl" id="strideKind">
<em class="property"><span class="pre">enum</span> </em><span class="sig-name descname"><span class="pre">strideKind</span></span><span class="w"> </span><em class="property"> <span class="pre">{</span> <span class="pre">one,</span> <span class="pre">negOne,</span> <span class="pre">positive,</span> <span class="pre">negative,</span> <span class="pre">any</span> <span class="pre">};</span></em><a class="headerlink" href="#strideKind" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<p>The value of <code class="docutils literal notranslate"><span class="pre">strides</span></code> determines what values of <code class="docutils literal notranslate"><span class="pre">stride</span></code> this
range can have as follows:</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">one</span></code>: <code class="docutils literal notranslate"><span class="pre">stride</span></code> must be <span class="math notranslate nohighlight">\(1\)</span>.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">negOne</span></code>: <code class="docutils literal notranslate"><span class="pre">stride</span></code> must be <span class="math notranslate nohighlight">\(-1\)</span>.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">positive</span></code>: <code class="docutils literal notranslate"><span class="pre">stride</span></code> must be positive.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">negative</span></code>: <code class="docutils literal notranslate"><span class="pre">stride</span></code> must be negative.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">any</span></code>: <code class="docutils literal notranslate"><span class="pre">stride</span></code> can take on any value other than zero.</p></li>
</ul>
<p><code class="docutils literal notranslate"><span class="pre">strides</span></code> is <code class="docutils literal notranslate"><span class="pre">strideKind.one</span></code> by default.</p>
<p>The parameters <code class="docutils literal notranslate"><span class="pre">idxType</span></code>, <code class="docutils literal notranslate"><span class="pre">bounds</span></code>, and <code class="docutils literal notranslate"><span class="pre">strides</span></code> affect
all values of the corresponding range type. For example, the range’s low
bound is -<span class="math notranslate nohighlight">\(\infty\)</span> if and only if the <code class="docutils literal notranslate"><span class="pre">bounds</span></code> of that
range’s type is either <code class="docutils literal notranslate"><span class="pre">high</span></code> or <code class="docutils literal notranslate"><span class="pre">neither</span></code>.</p>
<blockquote>
<div><p><em>Rationale</em>.</p>
<p>Providing <code class="docutils literal notranslate"><span class="pre">bounds</span></code> and <code class="docutils literal notranslate"><span class="pre">strides</span></code> in a range’s type
allows the compiler to identify and optimize the common cases where
the range is bounded in both directions and/or its stride is 1.</p>
</div></blockquote>
<p>A range type has the following syntax:</p>
<div class="highlight-syntax notranslate"><div class="highlight"><pre><span></span>range-type:
  &#39;range&#39; ( named-expression-list )
</pre></div>
</div>
<p>That is, a range type is obtained as if by invoking the range type
constructor (<a class="reference internal" href="generics.html#type-constructors"><span class="std std-ref">The Type Constructor</span></a>) that has the following
header:</p>
<div class="highlight-chapel notranslate"><div class="highlight"><pre><span></span><span class="k">proc</span> <span class="nf">range</span><span class="p">(</span><span class="kd">type</span> <span class="nx">idxType</span>  <span class="o">=</span> <span class="kt">int</span><span class="p">,</span>
           <span class="kd">param</span> <span class="nx">bounds</span>  <span class="o">=</span> <span class="nx">boundKind</span><span class="p">.</span><span class="nx">both</span><span class="p">,</span>
           <span class="kd">param</span> <span class="nx">strides</span> <span class="o">=</span> <span class="nx">strideKind</span><span class="p">.</span><span class="nx">one</span><span class="p">)</span> <span class="kd">type</span>
</pre></div>
</div>
<p>As a special case, the keyword <code class="docutils literal notranslate"><span class="pre">range</span></code> written without a parenthesized
argument list refers to the concrete range type with the default values of all
its parameters, i.e., <code class="docutils literal notranslate"><span class="pre">range(int,</span> <span class="pre">boundKind.both,</span> <span class="pre">strideKind.one)</span></code>.</p>
<blockquote>
<div><p><em>Example (rangeVariable.chpl)</em>.</p>
<p>The following declaration declares a variable <code class="docutils literal notranslate"><span class="pre">r</span></code> that can
represent ranges of 32-bit integers, with both low and high bounds
specified, and the ability to have a stride other than 1.</p>
<div class="highlight-chapel notranslate"><div class="highlight"><pre><span></span><span class="kd">var</span> <span class="nx">r</span><span class="p">:</span> <span class="kt">range</span><span class="p">(</span><span class="kt">int</span><span class="p">(</span><span class="mi">32</span><span class="p">),</span> <span class="nx">boundKind</span><span class="p">.</span><span class="nx">both</span><span class="p">,</span> <span class="nx">strides</span><span class="o">=</span><span class="nx">strideKind</span><span class="p">.</span><span class="nx">any</span><span class="p">);</span>
</pre></div>
</div>
</div></blockquote>
</section>
<section id="range-values">
<span id="id3"></span><h2>Range Values<a class="headerlink" href="#range-values" title="Permalink to this heading">¶</a></h2>
<p>A range value consists of the range’s four primary properties
(<a class="reference internal" href="#range-concepts"><span class="std std-ref">Range Concepts</span></a>): low bound, high bound, stride and
alignment.</p>
<section id="range-literals">
<span id="id4"></span><h3>Range Literals<a class="headerlink" href="#range-literals" title="Permalink to this heading">¶</a></h3>
<p>Range literals are specified with the following syntax.</p>
<div class="highlight-syntax notranslate"><div class="highlight"><pre><span></span>range-literal:
  expression .. expression
  expression ..&lt; expression
  expression ..
  .. expression
  ..&lt; expression
  ..
</pre></div>
</div>
<p>The expressions to the left and to the right of <code class="docutils literal notranslate"><span class="pre">..</span></code> or <code class="docutils literal notranslate"><span class="pre">..&lt;</span></code>,
when given, are called the <cite>lower bound expression</cite> and the <cite>upper
bound expression</cite>, respectively.  The <code class="docutils literal notranslate"><span class="pre">..</span></code> operator defines a
closed-interval range, whereas the <code class="docutils literal notranslate"><span class="pre">..&lt;</span></code> operator defines a
half-open interval.</p>
<p>The type of a range literal is a range with the following parameters:</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">idxType</span></code> is determined as follows:</p>
<ul>
<li><p>If both the lower bound and the upper bound expressions are given and
have the same type, then <code class="docutils literal notranslate"><span class="pre">idxType</span></code> is that type.</p></li>
<li><p>If both the lower bound and the upper bound expressions are given and
an implicit conversion is allowed from one expression’s type to
the other’s, then <code class="docutils literal notranslate"><span class="pre">idxType</span></code> is that type.</p></li>
<li><p>If only one bound expression is given and it has an integral,
boolean, or enumerated type, then <code class="docutils literal notranslate"><span class="pre">idxType</span></code> is that type.</p></li>
<li><p>If neither bound expression is given, then <code class="docutils literal notranslate"><span class="pre">idxType</span></code> is <code class="docutils literal notranslate"><span class="pre">int</span></code>.</p></li>
<li><p>Otherwise, the range literal is not legal.</p></li>
</ul>
</li>
<li><p><code class="docutils literal notranslate"><span class="pre">bounds</span></code> is a value of the type <code class="docutils literal notranslate"><span class="pre">boundKind</span></code> that is
determined as follows:</p>
<ul>
<li><p><code class="docutils literal notranslate"><span class="pre">both</span></code>, if both the lower bound and the upper bound expressions
are given,</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">low</span></code>, if only the upper bound expression is given,</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">high</span></code>, if only the lower bound expression is given,</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">neither</span></code>, if neither bound expression is given.</p></li>
</ul>
</li>
<li><p><code class="docutils literal notranslate"><span class="pre">strides</span></code> is <code class="docutils literal notranslate"><span class="pre">strideKind.one</span></code>.</p></li>
</ul>
<p>The value of a range literal is as follows:</p>
<ul class="simple">
<li><p>The low bound is given by the lower bound expression, if present, and
is -<span class="math notranslate nohighlight">\(\infty\)</span> otherwise.</p></li>
<li><p>When the range has an upper bound expression, a closed-interval
range (<code class="docutils literal notranslate"><span class="pre">..</span></code>) takes the expression’s value as its high bound;
whereas the high bound of a half-open interval range (<code class="docutils literal notranslate"><span class="pre">..&lt;</span></code>)
excludes the upper bound and is one less than the upper
bound expression.  If there is no upper bound expression, the high
bound is +<span class="math notranslate nohighlight">\(\infty\)</span>.</p></li>
<li><p>The stride is 1.</p></li>
<li><p>The alignment is 0.</p></li>
</ul>
</section>
<section id="default-values">
<span id="range-default-values"></span><h3>Default Values<a class="headerlink" href="#default-values" title="Permalink to this heading">¶</a></h3>
<p>The default value for a range with an integral <code class="docutils literal notranslate"><span class="pre">idxType</span></code> depends on
the type’s <code class="docutils literal notranslate"><span class="pre">bounds</span></code> parameter as follows:</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">1..0</span></code> (an empty range) if <code class="docutils literal notranslate"><span class="pre">bounds</span></code> is <code class="docutils literal notranslate"><span class="pre">both</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">1..</span></code> if <code class="docutils literal notranslate"><span class="pre">bounds</span></code> is <code class="docutils literal notranslate"><span class="pre">low</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">..0</span></code> if <code class="docutils literal notranslate"><span class="pre">bounds</span></code> is <code class="docutils literal notranslate"><span class="pre">high</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">..</span></code> if <code class="docutils literal notranslate"><span class="pre">bounds</span></code> is <code class="docutils literal notranslate"><span class="pre">neither</span></code></p></li>
</ul>
<blockquote>
<div><p><em>Rationale</em>.</p>
<p>We use 0 and 1 to represent an empty range because these values are
available for any integer <code class="docutils literal notranslate"><span class="pre">idxType</span></code> with more than one value.</p>
<p>We have not found the natural choice of the default value for
ranges with <code class="docutils literal notranslate"><span class="pre">low</span></code> and <code class="docutils literal notranslate"><span class="pre">high</span></code> <code class="docutils literal notranslate"><span class="pre">bounds</span></code>. The values indicated above
are distinguished by the following property. Slicing the default
value for a <code class="docutils literal notranslate"><span class="pre">low</span></code>-bounded range with the default value for a
<code class="docutils literal notranslate"><span class="pre">high</span></code>-bounded range (or visa versa) produces an empty range,
matching the default value for a <code class="docutils literal notranslate"><span class="pre">both</span></code>-bounded range</p>
</div></blockquote>
<p>Default values of ranges with boolean <code class="docutils literal notranslate"><span class="pre">idxType</span></code> are similar, but
substituting <code class="docutils literal notranslate"><span class="pre">false</span></code> and <code class="docutils literal notranslate"><span class="pre">true</span></code> for 0 and 1 above.  Ranges with
<code class="docutils literal notranslate"><span class="pre">enum</span></code> <code class="docutils literal notranslate"><span class="pre">idxType</span></code> use the 0th and 1st values in the enumeration in
place of 0 and 1 above.  If the enum only has a single value, the
default value uses the 0th value as the low bound and has an undefined
high bound; the <code class="docutils literal notranslate"><span class="pre">.size</span></code> query should be used with such ranges before
querying the high bound to determine whether or not it is valid.</p>
<div class="admonition warning">
<p class="admonition-title">Warning</p>
<p>Default initialization of ranges with <code class="docutils literal notranslate"><span class="pre">boundKind.low</span></code> or
<code class="docutils literal notranslate"><span class="pre">boundKind.high</span></code> is unstable w.r.t. the value of their
finite bound.</p>
</div>
</section>
</section>
<section id="common-operations">
<span id="ranges-common-operations"></span><h2>Common Operations<a class="headerlink" href="#common-operations" title="Permalink to this heading">¶</a></h2>
<p>All operations on a range return a new range rather than modifying the
existing one. This supports a coding style in which all range values are
<em>immutable</em>.</p>
<blockquote>
<div><p><em>Rationale</em>.</p>
<p>The intention is to provide ranges as immutable objects.</p>
<p>Immutable objects may be cached without creating coherence concerns.
They are also inherently thread-safe. In terms of implementation,
immutable objects are created in a consistent state and stay that
way: Outside of initializers, internal consistency checks can be
dispensed with.</p>
<p>These are the same arguments as were used to justify making strings
immutable in Java and C#.</p>
</div></blockquote>
<section id="range-assignment">
<span id="id5"></span><h3>Range Assignment<a class="headerlink" href="#range-assignment" title="Permalink to this heading">¶</a></h3>
<p>Assigning one range to another results in the target range copying the
low and high bounds, stride, and alignment from the source range.</p>
<p>Range assignment is legal when:</p>
<ul class="simple">
<li><p>An implicit conversion is allowed from <code class="docutils literal notranslate"><span class="pre">idxType</span></code> of the source
range to <code class="docutils literal notranslate"><span class="pre">idxType</span></code> of the destination range type,</p></li>
<li><p>the two range types have the same <code class="docutils literal notranslate"><span class="pre">bounds</span></code>, and</p></li>
<li><p>the <code class="docutils literal notranslate"><span class="pre">strides</span></code> parameter of the destination range is the same
or more permissive than that of the source range.</p></li>
</ul>
<div class="admonition warning">
<p class="admonition-title">Warning</p>
<p>The ability to assign between two unbounded ranges with
incompatible idxTypes is deprecated.</p>
</div>
</section>
<section id="range-comparisons">
<span id="id6"></span><h3>Range Comparisons<a class="headerlink" href="#range-comparisons" title="Permalink to this heading">¶</a></h3>
<p>Ranges can be compared using equality and inequality.</p>
<div class="admonition warning">
<p class="admonition-title">Warning</p>
<p>Equality comparisons currently treat ranges over <code class="docutils literal notranslate"><span class="pre">enum</span></code> or <code class="docutils literal notranslate"><span class="pre">bool</span></code> types
as bounded on both ends regardless of their <code class="docutils literal notranslate"><span class="pre">bounds</span></code> parameters.
This behavior is unstable and might change in the future.</p>
</div>
<dl class="chpl function">
<dt class="sig sig-object chpl" id="==">
<em class="property"><span class="pre">operator</span> </em><span class="sig-name descname"><span class="pre">==</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="pre">r1:</span> <span class="pre">range(?)</span></em>, <em class="sig-param"><span class="pre">r2:</span> <span class="pre">range(?)</span></em><span class="sig-paren">)</span><em class="property"> <span class="pre">:</span> <span class="pre">bool</span></em><a class="headerlink" href="#==" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns <code class="docutils literal notranslate"><span class="pre">true</span></code> if the two ranges have the same represented sequence or
the same four primary properties, and <code class="docutils literal notranslate"><span class="pre">false</span></code> otherwise.</p>
</dd></dl>

<dl class="chpl function">
<dt class="sig sig-object chpl" id="!=">
<em class="property"><span class="pre">operator</span> </em><span class="sig-name descname"><span class="pre">!=</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="pre">r1:</span> <span class="pre">range(?)</span></em>, <em class="sig-param"><span class="pre">r2:</span> <span class="pre">range(?)</span></em><span class="sig-paren">)</span><em class="property"> <span class="pre">:</span> <span class="pre">bool</span></em><a class="headerlink" href="#!=" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns <code class="docutils literal notranslate"><span class="pre">false</span></code> if the two ranges have the same represented sequence or
the same four primary properties, and <code class="docutils literal notranslate"><span class="pre">true</span></code> otherwise.</p>
</dd></dl>

</section>
<section id="iterating-over-ranges">
<span id="id7"></span><h3>Iterating over Ranges<a class="headerlink" href="#iterating-over-ranges" title="Permalink to this heading">¶</a></h3>
<p>A range can be used as an iterator expression in a loop. This is legal
only if the range is iterable. In this case, the loop iterates over the
members of the range’s represented sequence in the order defined by the
sequence. If the range is empty, no iterations are executed.</p>
<p>Overflow of the index variable while iterating over an unbounded range
leads to undefined behavior.  For unbounded ranges of bool or enum
index type, the iteration will stop at the last value represented
by the type.</p>
<p>In order for it to be possible to iterate over a range with a last
index, it needs to be possible to add the stride to the range’s last
index without overflowing the index type. In other words, the last index
plus the stride must be between the index type’s minimum and maximum
value (inclusive). If this property is not met, the program will have
undefined behavior.</p>
<blockquote>
<div><p><em>Implementation Notes</em>.</p>
<p>When bounds checking is enabled, the case in the above paragraph is
checked at runtime and the program will halt if the range iteration is
invalid.</p>
</div></blockquote>
<section id="iterating-over-unbounded-ranges">
<span id="id8"></span><h4>Iterating over Unbounded Ranges<a class="headerlink" href="#iterating-over-unbounded-ranges" title="Permalink to this heading">¶</a></h4>
<p>When an unbounded range of integer values is used to drive a loop,
either by being the only iterand, or by serving as the leader iterand
of a zippered iteration, it will generate a conceptually infinite
number of iterations.  In order for such loops to be useful in
practice, they must typically contain a <code class="docutils literal notranslate"><span class="pre">break</span></code> or <code class="docutils literal notranslate"><span class="pre">return</span></code>
statement.  Of course, in practice, the values representable by
<code class="docutils literal notranslate"><span class="pre">idxType</span></code> are finite; as a result, when the loop reaches its extreme
values, the behavior of the loop is undefined.</p>
<blockquote>
<div><p><em>Implementation Notes</em>.</p>
<p>In the current implementation of Chapel, the loop will halt with an
error once it yields a value within <code class="docutils literal notranslate"><span class="pre">stride</span></code> of the maximal
<code class="docutils literal notranslate"><span class="pre">idxType</span></code> value.</p>
</div></blockquote>
<p>When an unbounded range of integer values serves as a follower iterand
in a zippered context ( <a class="reference internal" href="statements.html#zippered-iteration"><span class="std std-ref">Zippered Iteration</span></a>), it will generate as
many indices as are needed to match its leader iterand.</p>
<blockquote>
<div><p><em>Example (zipWithUnbounded.chpl)</em>.</p>
<p>The code</p>
<div class="highlight-chapel notranslate"><div class="highlight"><pre><span></span><span class="k">for</span> <span class="nx">i</span> <span class="kd">in</span> <span class="k">zip</span><span class="p">(</span><span class="mi">1</span><span class="o">..</span><span class="mi">5</span><span class="p">,</span> <span class="mi">3</span><span class="o">..</span><span class="p">)</span> <span class="k">do</span>
  <span class="nx">write</span><span class="p">(</span><span class="nx">i</span><span class="p">,</span> <span class="s">&quot;; &quot;</span><span class="p">);</span>
</pre></div>
</div>
<p>produces the output</p>
<div class="highlight-printoutput notranslate"><div class="highlight"><pre><span></span>(1, 3); (2, 4); (3, 5); (4, 6); (5, 7);
</pre></div>
</div>
</div></blockquote>
<p>When an unbounded range of <code class="docutils literal notranslate"><span class="pre">bool</span></code> or <code class="docutils literal notranslate"><span class="pre">enum</span></code> values is used in a
loop context, it is equivalent to a bounded range where the omitted
low/high bound is taken to be the <code class="docutils literal notranslate"><span class="pre">false</span></code>/<code class="docutils literal notranslate"><span class="pre">true</span></code> for a <code class="docutils literal notranslate"><span class="pre">bool</span></code>
range or the type’s initial/final value for an <code class="docutils literal notranslate"><span class="pre">enum</span></code> range.</p>
</section>
</section>
<section id="range-promotion-of-scalar-functions">
<span id="id9"></span><h3>Range Promotion of Scalar Functions<a class="headerlink" href="#range-promotion-of-scalar-functions" title="Permalink to this heading">¶</a></h3>
<p>Range values may be passed to a scalar function argument whose type
matches the range’s index type. This results in a promotion of the
scalar function as described in <a class="reference internal" href="data-parallelism.html#promotion"><span class="std std-ref">Promotion</span></a>.</p>
<blockquote>
<div><p><em>Example (rangePromotion.chpl)</em>.</p>
<p>Given a function <code class="docutils literal notranslate"><span class="pre">addOne(x:</span> <span class="pre">int)</span></code> that accepts <code class="docutils literal notranslate"><span class="pre">int</span></code> values,
the function <code class="docutils literal notranslate"><span class="pre">addOne()</span></code> can be called with the range <code class="docutils literal notranslate"><span class="pre">1..10</span></code> as
its actual argument, which will result in the function being
invoked for each value in the range in a data-parallel manner.</p>
<div class="highlight-chapel notranslate"><div class="highlight"><pre><span></span><span class="k">proc</span> <span class="nf">addOne</span><span class="p">(</span><span class="nx">x</span><span class="p">:</span> <span class="kt">int</span><span class="p">)</span> <span class="p">{</span>
  <span class="k">return</span> <span class="nx">x</span> <span class="o">+</span> <span class="mi">1</span><span class="p">;</span>
<span class="p">}</span>
<span class="kd">var</span> <span class="nx">A</span><span class="p">:</span> <span class="p">[</span><span class="mi">1</span><span class="o">..</span><span class="mi">10</span><span class="p">]</span> <span class="kt">int</span><span class="p">;</span>
<span class="nx">A</span> <span class="o">=</span> <span class="nx">addOne</span><span class="p">(</span><span class="mi">1</span><span class="o">..</span><span class="mi">10</span><span class="p">);</span>
</pre></div>
</div>
<p>The last statement is equivalent to:</p>
<div class="highlight-chapel notranslate"><div class="highlight"><pre><span></span><span class="k">forall</span> <span class="p">(</span><span class="nx">a</span><span class="p">,</span> <span class="nx">i</span><span class="p">)</span> <span class="kd">in</span> <span class="k">zip</span><span class="p">(</span><span class="nx">A</span><span class="p">,</span> <span class="mi">1</span><span class="o">..</span><span class="mi">10</span><span class="p">)</span> <span class="k">do</span>
  <span class="nx">a</span> <span class="o">=</span> <span class="nx">addOne</span><span class="p">(</span><span class="nx">i</span><span class="p">);</span>
</pre></div>
</div>
</div></blockquote>
</section>
</section>
<section id="range-operators">
<span id="id10"></span><h2>Range Operators<a class="headerlink" href="#range-operators" title="Permalink to this heading">¶</a></h2>
<p>The following operators can be applied to range expressions and are
described in this section: stride (<code class="docutils literal notranslate"><span class="pre">by</span></code>), alignment (<code class="docutils literal notranslate"><span class="pre">align</span></code>), count
(<code class="docutils literal notranslate"><span class="pre">#</span></code>) and slicing (<code class="docutils literal notranslate"><span class="pre">()</span></code> or <code class="docutils literal notranslate"><span class="pre">[]</span></code>). Chapel also defines a set
of functions that operate on ranges. They are described in
<a class="reference internal" href="#predefined-range-functions"><span class="std std-ref">Predefined Routines on Ranges</span></a>.</p>
<div class="highlight-syntax notranslate"><div class="highlight"><pre><span></span>range-expression:
  expression
  strided-range-expression
  counted-range-expression
  aligned-range-expression
  sliced-range-expression
</pre></div>
</div>
<section id="by-operator">
<span id="by-operator-for-ranges"></span><h3>By Operator<a class="headerlink" href="#by-operator" title="Permalink to this heading">¶</a></h3>
<p>The <code class="docutils literal notranslate"><span class="pre">by</span></code> operator selects a subsequence of the range’s represented
sequence, optionally reversing its direction. The operator takes two
arguments, a base range and an integral step. It produces a new range
whose represented sequence contains each <span class="math notranslate nohighlight">\(|\)</span>step<span class="math notranslate nohighlight">\(|\)</span>-th
element of the base range’s represented sequence. The operator reverses
the direction of the represented sequence if step<span class="math notranslate nohighlight">\(&lt;\)</span>0. If the
resulting sequence is increasing, it starts at the base range’s aligned
low bound, if it exists. If the resulting sequence is decreasing, it
starts at the base range’s aligned high bound, if it exists. Otherwise,
the base range’s alignment is used to determine which members of the
represented sequence to retain. If the base range’s represented sequence
is undefined, the resulting sequence is undefined, too.</p>
<p>The syntax of the <code class="docutils literal notranslate"><span class="pre">by</span></code> operator is:</p>
<div class="highlight-syntax notranslate"><div class="highlight"><pre><span></span>strided-range-expression:
  range-expression &#39;by&#39; step-expression

step-expression:
  expression
</pre></div>
</div>
<p>The step expression can be any integral or boolean type.  Boolean
values are interpreted as 0 or 1, respectively.  It is an error for
the step to be zero.</p>
<p>The type of the result of the <code class="docutils literal notranslate"><span class="pre">by</span></code> operator is the type of the base
range, with the <code class="docutils literal notranslate"><span class="pre">strides</span></code> parameter updated according to the step.
For example:</p>
<ul class="simple">
<li><p>If the base range has <code class="docutils literal notranslate"><span class="pre">strides=strideKind.one</span></code> and the step is
the literal <code class="docutils literal notranslate"><span class="pre">-2</span></code>, the result has <code class="docutils literal notranslate"><span class="pre">strides=strideKind.negative</span></code>.</p></li>
<li><p>If the base range has <code class="docutils literal notranslate"><span class="pre">strides=strideKind.one</span></code> and the step has
the type <code class="docutils literal notranslate"><span class="pre">uint</span></code>, the result has <code class="docutils literal notranslate"><span class="pre">strides=strideKind.positive</span></code>.</p></li>
<li><p>If the step has the type <code class="docutils literal notranslate"><span class="pre">int</span></code> and is not a <code class="docutils literal notranslate"><span class="pre">param</span></code>,
the result has <code class="docutils literal notranslate"><span class="pre">strides=strideKind.any</span></code>.</p></li>
</ul>
<p>Formally, the result of the <code class="docutils literal notranslate"><span class="pre">by</span></code> operator is a range with the
following primary properties:</p>
<ul class="simple">
<li><p>The low and upper bounds are the same as those of the base range.</p></li>
<li><p>The stride is the product of the base range’s stride and the step,
cast to the base range’s stride type before multiplying.</p></li>
<li><p>The alignment is:</p>
<ul>
<li><p>the aligned low bound of the base range, if such exists and the
stride is positive;</p></li>
<li><p>the aligned high bound of the base range, if such exists and the
stride is negative;</p></li>
<li><p>the same as that of the base range, otherwise.</p></li>
</ul>
</li>
</ul>
<blockquote>
<div><p><em>Example (rangeByOperator.chpl)</em>.</p>
<p>In the following declarations, range <code class="docutils literal notranslate"><span class="pre">r1</span></code> represents the odd
integers between 1 and 20. Range <code class="docutils literal notranslate"><span class="pre">r2</span></code> strides <code class="docutils literal notranslate"><span class="pre">r1</span></code> by two and
represents every other odd integer between 1 and 20: 1, 5, 9, 13 and
17.</p>
<div class="highlight-chapel notranslate"><div class="highlight"><pre><span></span><span class="kd">var</span> <span class="nx">r1</span> <span class="o">=</span> <span class="mi">1</span><span class="o">..</span><span class="mi">20</span> <span class="k">by</span> <span class="mi">2</span><span class="p">;</span>
<span class="kd">var</span> <span class="nx">r2</span> <span class="o">=</span> <span class="nx">r1</span> <span class="k">by</span> <span class="mi">2</span><span class="p">;</span>
</pre></div>
</div>
<p><em>Rationale</em>.</p>
<p><em>Why isn’t the high bound specified first if the stride is negative?</em>
The reason for this choice is that the <code class="docutils literal notranslate"><span class="pre">by</span></code> operator is binary, not
ternary. Given a range <code class="docutils literal notranslate"><span class="pre">R</span></code> initialized to <code class="docutils literal notranslate"><span class="pre">1..3</span></code>, we want
<code class="docutils literal notranslate"><span class="pre">R</span> <span class="pre">by</span> <span class="pre">-1</span></code> to contain the ordered sequence <span class="math notranslate nohighlight">\(3,2,1\)</span>. But then
<code class="docutils literal notranslate"><span class="pre">R</span> <span class="pre">by</span> <span class="pre">-1</span></code> would be different from <code class="docutils literal notranslate"><span class="pre">3..1</span> <span class="pre">by</span> <span class="pre">-1</span></code> even though it
should be identical by substituting the value in R into the
expression.  We have also found that using a strict ordering of low
and high bounds can be clearer when using ranges to slice
arrays.</p>
</div></blockquote>
</section>
<section id="align-operator">
<span id="align-operator-for-ranges"></span><h3>Align Operator<a class="headerlink" href="#align-operator" title="Permalink to this heading">¶</a></h3>
<p>The <code class="docutils literal notranslate"><span class="pre">align</span></code> operator takes a base range and an alignment operand.
It produces a copy of the base range with alignment set
to the alignment argument, taken mod <span class="math notranslate nohighlight">\({|stride|}\)</span>.</p>
<p>The syntax for the <code class="docutils literal notranslate"><span class="pre">align</span></code> operator is:</p>
<div class="highlight-syntax notranslate"><div class="highlight"><pre><span></span>aligned-range-expression:
  range-expression &#39;align&#39; expression
</pre></div>
</div>
<p>The type of the resulting range expression is the same as that of the
base range. An implicit conversion from the type of the
alignment operand to the index type of the base range must be allowed.
The resulting range has the same low and high bounds and stride as the
base range. The alignment equals the alignment operand mod <span class="math notranslate nohighlight">\({|stride|}\)</span>
and therefore is not ambiguous.</p>
<blockquote>
<div><p><em>Example (alignedStride.chpl)</em>.</p>
<div class="highlight-chapel notranslate"><div class="highlight"><pre><span></span><span class="kd">var</span> <span class="nx">r1</span> <span class="o">=</span> <span class="mi">0</span> <span class="o">..</span> <span class="mi">10</span> <span class="k">by</span> <span class="mi">3</span> <span class="k">align</span> <span class="mi">0</span><span class="p">;</span>
<span class="k">for</span> <span class="nx">i</span> <span class="kd">in</span> <span class="nx">r1</span> <span class="k">do</span>
  <span class="nx">write</span><span class="p">(</span><span class="s">&quot; &quot;</span><span class="p">,</span> <span class="nx">i</span><span class="p">);</span>                  <span class="c1">// Produces &quot; 0 3 6 9&quot;.</span>
<span class="nx">writeln</span><span class="p">();</span>
</pre></div>
</div>
<div class="highlight-chapel notranslate"><div class="highlight"><pre><span></span><span class="kd">var</span> <span class="nx">r2</span> <span class="o">=</span> <span class="mi">0</span> <span class="o">..</span> <span class="mi">10</span> <span class="k">by</span> <span class="mi">3</span> <span class="k">align</span> <span class="mi">1</span><span class="p">;</span>
<span class="k">for</span> <span class="nx">i</span> <span class="kd">in</span> <span class="nx">r2</span> <span class="k">do</span>
  <span class="nx">write</span><span class="p">(</span><span class="s">&quot; &quot;</span><span class="p">,</span> <span class="nx">i</span><span class="p">);</span>                  <span class="c1">// Produces &quot; 1 4 7 10&quot;.</span>
<span class="nx">writeln</span><span class="p">();</span>
</pre></div>
</div>
</div></blockquote>
<p>When the stride is negative, the same indices are printed in reverse:</p>
<blockquote>
<div><p><em>Example (alignedNegStride.chpl)</em>.</p>
<div class="highlight-chapel notranslate"><div class="highlight"><pre><span></span><span class="kd">var</span> <span class="nx">r3</span> <span class="o">=</span> <span class="mi">0</span> <span class="o">..</span> <span class="mi">10</span> <span class="k">by</span> <span class="o">-</span><span class="mi">3</span> <span class="k">align</span> <span class="mi">0</span><span class="p">;</span>
<span class="k">for</span> <span class="nx">i</span> <span class="kd">in</span> <span class="nx">r3</span> <span class="k">do</span>
  <span class="nx">write</span><span class="p">(</span><span class="s">&quot; &quot;</span><span class="p">,</span> <span class="nx">i</span><span class="p">);</span>                  <span class="c1">// Produces &quot; 9 6 3 0&quot;.</span>
<span class="nx">writeln</span><span class="p">();</span>
</pre></div>
</div>
<div class="highlight-chapel notranslate"><div class="highlight"><pre><span></span><span class="kd">var</span> <span class="nx">r4</span> <span class="o">=</span> <span class="mi">0</span> <span class="o">..</span> <span class="mi">10</span> <span class="k">by</span> <span class="o">-</span><span class="mi">3</span> <span class="k">align</span> <span class="mi">1</span><span class="p">;</span>
<span class="k">for</span> <span class="nx">i</span> <span class="kd">in</span> <span class="nx">r4</span> <span class="k">do</span>
  <span class="nx">write</span><span class="p">(</span><span class="s">&quot; &quot;</span><span class="p">,</span> <span class="nx">i</span><span class="p">);</span>                  <span class="c1">// Produces &quot; 10 7 4 1&quot;.</span>
<span class="nx">writeln</span><span class="p">();</span>
</pre></div>
</div>
</div></blockquote>
<p>To set the alignment relative to the range’s <code class="docutils literal notranslate"><span class="pre">first</span></code> index,
use the method <a class="reference internal" href="#ChapelRange.range.offset" title="ChapelRange.range.offset"><code class="xref chpl chpl-proc docutils literal notranslate"><span class="pre">offset</span></code></a>.</p>
</section>
<section id="count-operator">
<span id="id11"></span><h3>Count Operator<a class="headerlink" href="#count-operator" title="Permalink to this heading">¶</a></h3>
<p>The <code class="docutils literal notranslate"><span class="pre">#</span></code> operator takes a range and an integral count and creates a
new range containing the specified number of indices. Specifically:</p>
<ul class="simple">
<li><p>If the count is positive, <span class="math notranslate nohighlight">\(count\)</span> indices are taken starting from
the first index of the range argument.</p></li>
<li><p>If the count is negative, <span class="math notranslate nohighlight">\(-count\)</span> indices are taken starting from
the last index of the range argument.</p></li>
<li><p>If the count is zero, the result is an empty range.</p></li>
</ul>
<div class="highlight-syntax notranslate"><div class="highlight"><pre><span></span>counted-range-expression:
  range-expression # expression
</pre></div>
</div>
<p>The count expression can be any integral or boolean value, where
boolean values are interpreted as 0 or 1, respectively.</p>
<p>In detail, the result of the <code class="docutils literal notranslate"><span class="pre">#</span></code> operator is calculated as follows.
The type, stride, and alignment of the result are those of the range
argument, except the result is always bounded.</p>
<p>Depending on the sign of the count and the stride, the high or low bound
is unchanged and the other bound is adjusted to provide
the specified number of indices. Specifically:</p>
<ul class="simple">
<li><p>If the count and the stride are both positive or both negative,
the indices are taken starting from the range’s low bound.
In this case, the low bound is preserved and the high bound is set to
<span class="math notranslate nohighlight">\(low bound + count * stride - 1\)</span>.</p></li>
<li><p>If the count and the stride have opposite signs,
the indices are taken starting from the range’s high bound.
In this case, the high bound is preserved and the low bound is set to
<span class="math notranslate nohighlight">\(high bound + count * stride + 1\)</span>.</p></li>
</ul>
<blockquote>
<div><p><em>Rationale</em>.</p>
<p>Following the principle of preserving as much information from the
original range as possible, we must still choose the other bound so
that exactly <em>count</em> indices lie within the range. Making the two
bounds lie <span class="math notranslate nohighlight">\(count * stride - 1\)</span> apart will achieve this,
regardless of the current alignment of the range.</p>
<p>This choice also has the nice symmetry that the alignment can be
adjusted without knowing the bounds of the original range, and the
same number of indices will be produced:</p>
<div class="highlight-chapel notranslate"><div class="highlight"><pre><span></span><span class="nx">r</span> <span class="o">#</span> <span class="mi">4</span> <span class="k">align</span> <span class="mi">0</span>   <span class="c1">// Contains four indices.</span>
<span class="nx">r</span> <span class="o">#</span> <span class="mi">4</span> <span class="k">align</span> <span class="mi">1</span>   <span class="c1">// Contains four indices.</span>
<span class="nx">r</span> <span class="o">#</span> <span class="mi">4</span> <span class="k">align</span> <span class="mi">2</span>   <span class="c1">// Contains four indices.</span>
<span class="nx">r</span> <span class="o">#</span> <span class="mi">4</span> <span class="k">align</span> <span class="mi">3</span>   <span class="c1">// Contains four indices.</span>
</pre></div>
</div>
</div></blockquote>
<p>It is an error to apply the count operator with a positive count to a
range that has no first index. It is also an error to apply the count
operator with a negative count to a range that has no last index. It is
an error to apply the count operator to an unaligned range.
It is an error if the count is greater than the <code class="docutils literal notranslate"><span class="pre">size</span></code> of the range.</p>
<blockquote>
<div><p><em>Example (rangeCountOperator.chpl)</em>.</p>
<p>The following declarations result in equivalent ranges.</p>
<div class="highlight-chapel notranslate"><div class="highlight"><pre><span></span><span class="kd">var</span> <span class="nx">r1</span> <span class="o">=</span> <span class="mi">1</span><span class="o">..</span><span class="mi">10</span> <span class="k">by</span> <span class="o">-</span><span class="mi">2</span> <span class="o">#</span> <span class="o">-</span><span class="mi">3</span><span class="p">;</span>
<span class="kd">var</span> <span class="nx">r2</span> <span class="o">=</span> <span class="o">..</span><span class="mi">6</span> <span class="k">by</span> <span class="o">-</span><span class="mi">2</span> <span class="o">#</span> <span class="mi">3</span><span class="p">;</span>
<span class="kd">var</span> <span class="nx">r3</span> <span class="o">=</span> <span class="o">-</span><span class="mi">6</span><span class="o">..</span><span class="mi">6</span> <span class="k">by</span> <span class="o">-</span><span class="mi">2</span> <span class="o">#</span> <span class="mi">3</span><span class="p">;</span>
<span class="kd">var</span> <span class="nx">r4</span> <span class="o">=</span> <span class="mi">1</span><span class="o">..#</span><span class="mi">6</span> <span class="k">by</span> <span class="o">-</span><span class="mi">2</span><span class="p">;</span>
</pre></div>
</div>
<p>Each of these ranges represents the ordered set of three indices: 6,
4, 2.</p>
</div></blockquote>
<div class="admonition warning">
<p class="admonition-title">Warning</p>
<p>The count operator currently treats ranges over <code class="docutils literal notranslate"><span class="pre">enum</span></code> or <code class="docutils literal notranslate"><span class="pre">bool</span></code> types
as bounded on both ends regardless of their <code class="docutils literal notranslate"><span class="pre">bounds</span></code> parameters.
This behavior is unstable and might change in the future.</p>
</div>
</section>
<section id="arithmetic-operators">
<span id="range-arithmetic"></span><h3>Arithmetic Operators<a class="headerlink" href="#arithmetic-operators" title="Permalink to this heading">¶</a></h3>
<p>The following arithmetic operators are defined on ranges and integral
types:</p>
<div class="highlight-chapel notranslate"><div class="highlight"><pre><span></span><span class="k">proc</span> <span class="nf">+</span><span class="p">(</span><span class="nx">r</span><span class="p">:</span> <span class="kt">range</span><span class="p">,</span> <span class="nx">s</span><span class="p">:</span> <span class="nx">integral</span><span class="p">):</span> <span class="kt">range</span>
<span class="k">proc</span> <span class="nf">+</span><span class="p">(</span><span class="nx">s</span><span class="p">:</span> <span class="nx">integral</span><span class="p">,</span> <span class="nx">r</span><span class="p">:</span> <span class="kt">range</span><span class="p">):</span> <span class="kt">range</span>
<span class="k">proc</span> <span class="nf">-</span><span class="p">(</span><span class="nx">r</span><span class="p">:</span> <span class="kt">range</span><span class="p">,</span> <span class="nx">s</span><span class="p">:</span> <span class="nx">integral</span><span class="p">):</span> <span class="kt">range</span>
</pre></div>
</div>
<p>The <code class="docutils literal notranslate"><span class="pre">+</span></code> and <code class="docutils literal notranslate"><span class="pre">-</span></code> operators apply the scalar via the operator to the
range’s low and high bounds, producing a shifted version of the range.
If the operand range is unbounded above or below, the missing bounds are
ignored. The index type of the resulting range is the type of the value
that would result from an addition between the scalar value and a value
with the range’s index type. The <code class="docutils literal notranslate"><span class="pre">bounds</span></code> and <code class="docutils literal notranslate"><span class="pre">strides</span></code> parameters for
the result range are the same as for the input range.</p>
<p>The stride of the resulting range is the same as the stride of the
original. The alignment of the resulting range is shifted by the same
amount as the high and low bounds. It is permissible to apply the shift
operators to an unaligned range. In that case, the
resulting range is also unaligned.</p>
<blockquote>
<div><p><em>Example (rangeAdd.chpl)</em>.</p>
<p>The following code creates a range <code class="docutils literal notranslate"><span class="pre">r</span></code> which
has an index type of <code class="docutils literal notranslate"><span class="pre">int</span></code> and represents the indices
<span class="math notranslate nohighlight">\({0, 1, 2, 3}\)</span>. It then uses the <code class="docutils literal notranslate"><span class="pre">+</span></code> operator to create a
second range <code class="docutils literal notranslate"><span class="pre">r2</span></code> representing the indices <span class="math notranslate nohighlight">\({1, 2, 3, 4}\)</span>.
Like <code class="docutils literal notranslate"><span class="pre">r</span></code>, the range <code class="docutils literal notranslate"><span class="pre">r2</span></code> is bounded, its <code class="docutils literal notranslate"><span class="pre">stride</span></code> is 1 and
cannot be changed, and its indices have the type <code class="docutils literal notranslate"><span class="pre">int</span></code>.</p>
<div class="highlight-chapel notranslate"><div class="highlight"><pre><span></span><span class="kd">var</span> <span class="nx">r</span> <span class="o">=</span> <span class="mi">0</span><span class="o">..</span><span class="mi">3</span><span class="p">;</span>
<span class="kd">var</span> <span class="nx">r2</span> <span class="o">=</span> <span class="nx">r</span> <span class="o">+</span> <span class="mi">1</span><span class="p">;</span>    <span class="c1">// 1..4</span>
</pre></div>
</div>
</div></blockquote>
<div class="admonition warning">
<p class="admonition-title">Warning</p>
<p>These operators are unstable.
They may be removed or change behavior in the future.</p>
</div>
</section>
<section id="range-slicing">
<span id="id12"></span><h3>Range Slicing<a class="headerlink" href="#range-slicing" title="Permalink to this heading">¶</a></h3>
<p>Ranges can be <em>sliced</em> using other ranges to create new sub-ranges. The
resulting range represents the intersection between the two ranges’
represented sequences. The stride, alignment, and bounds of the
resulting range are adjusted as needed to make this true. <code class="docutils literal notranslate"><span class="pre">idxType</span></code>
of the result is determined by the first operand.
The stride of the result is of the same sign as the stride
of the first operand if the second operand’s stride is positive,
and of the opposite sign otherwise.</p>
<p>Range slicing is specified by the syntax:</p>
<div class="highlight-syntax notranslate"><div class="highlight"><pre><span></span>sliced-range-expression:
  range-expression ( range-expression )
  range-expression [ range-expression ]
</pre></div>
</div>
<blockquote>
<div><p><em>Example (rangeSlicing.chpl)</em>.</p>
<p>In the following example, <code class="docutils literal notranslate"><span class="pre">r</span></code> represents the integers from 1 to 20
inclusive. Ranges <code class="docutils literal notranslate"><span class="pre">r2</span></code> and <code class="docutils literal notranslate"><span class="pre">r3</span></code> are defined using range slices
and represent the indices from 3 to 20 and the odd integers between 1
and 20 respectively. Range <code class="docutils literal notranslate"><span class="pre">r4</span></code> represents the odd integers between
1 and 20 that are also divisible by 3.</p>
<div class="highlight-chapel notranslate"><div class="highlight"><pre><span></span><span class="kd">var</span> <span class="nx">r</span> <span class="o">=</span> <span class="mi">1</span><span class="o">..</span><span class="mi">20</span><span class="p">;</span>
<span class="kd">var</span> <span class="nx">r2</span> <span class="o">=</span> <span class="nx">r</span><span class="p">[</span><span class="mi">3</span><span class="o">..</span><span class="p">];</span>
<span class="kd">var</span> <span class="nx">r3</span> <span class="o">=</span> <span class="nx">r</span><span class="p">[</span><span class="mi">1</span><span class="o">..</span> <span class="k">by</span> <span class="mi">2</span><span class="p">];</span>
<span class="kd">var</span> <span class="nx">r4</span> <span class="o">=</span> <span class="nx">r3</span><span class="p">[</span><span class="mi">0</span><span class="o">..</span> <span class="k">by</span> <span class="mi">3</span><span class="p">];</span>
</pre></div>
</div>
</div></blockquote>
<p>It is an error for the first operand to be unaligned.
If the second operand is unaligned, it is replaced
with a range that is identical except it is given an alignment
in such a way that that the intersection of the two ranges’
represented sequences is non-empty, if possible.
How this substitute alignment is chosen when multiple possibilities
are available is implementation-dependent.</p>
<p>If the resulting sequence cannot be expressed as a range with the
original <code class="docutils literal notranslate"><span class="pre">idxType</span></code>, the slice expression evaluates to the empty
range. This can happen, for example, when the first operand is an
unbounded range with unsigned <code class="docutils literal notranslate"><span class="pre">idxType</span></code> and the second operand
represents only negative numbers.</p>
<p>If the resulting sequence is empty, the bounds, stride, and alignment
of the resulting range are implementation-dependent.
If the resulting sequence is empty and both operands are unbounded
in the same direction, it is an error.</p>
</section>
</section>
<section id="predefined-routines-on-ranges">
<span id="predefined-range-functions"></span><h2>Predefined Routines on Ranges<a class="headerlink" href="#predefined-routines-on-ranges" title="Permalink to this heading">¶</a></h2>
<section id="range-type-queries">
<span id="range-type-accessors"></span><h3>Range Type Queries<a class="headerlink" href="#range-type-queries" title="Permalink to this heading">¶</a></h3>
<dl class="chpl function">
<dt class="sig sig-object chpl" id="range.idxType">
<em class="property"><span class="pre">proc</span> </em><span class="sig-prename descclassname"><span class="pre">range.</span></span><span class="sig-name descname"><span class="pre">idxType</span></span><span class="w"> </span><em class="property"> <span class="pre">type</span></em><a class="headerlink" href="#range.idxType" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns the type of the range’s indices (its <code class="docutils literal notranslate"><span class="pre">idxType</span></code>).</p>
</dd></dl>

<dl class="chpl function">
<dt class="sig sig-object chpl" id="range.bounds">
<em class="property"><span class="pre">proc</span> </em><span class="sig-prename descclassname"><span class="pre">range.</span></span><span class="sig-name descname"><span class="pre">bounds</span></span><span class="w"> </span><em class="property"> <span class="pre">param</span></em><em class="property"> <span class="pre">:</span> <span class="pre">boundKind</span></em><a class="headerlink" href="#range.bounds" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns which bounds the range explicitly represents
(its <code class="docutils literal notranslate"><span class="pre">bounds</span></code> parameter).</p>
</dd></dl>

<dl class="chpl function">
<dt class="sig sig-object chpl" id="range.strides">
<em class="property"><span class="pre">proc</span> </em><span class="sig-prename descclassname"><span class="pre">range.</span></span><span class="sig-name descname"><span class="pre">strides</span></span><span class="w"> </span><em class="property"> <span class="pre">param</span></em><em class="property"> <span class="pre">:</span> <span class="pre">strideKind</span></em><a class="headerlink" href="#range.strides" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns what strides the range can have
(its <code class="docutils literal notranslate"><span class="pre">strides</span></code> parameter).</p>
</dd></dl>

<dl class="chpl method">
<dt class="sig sig-object chpl" id="ChapelRange.range.strType">
<em class="property"><span class="pre">proc</span> </em><span class="sig-prename descclassname"><span class="pre">range.</span></span><span class="sig-name descname"><span class="pre">strType</span></span><span class="w"> </span><em class="property"> <span class="pre">type</span></em><a class="headerlink" href="#ChapelRange.range.strType" title="Permalink to this definition">¶</a></dt>
<dd><div class="admonition warning">
<p class="admonition-title">Warning</p>
<p>range.strType is unstable and may be removed or renamed</p>
</div>
<p>Returns the type of the range’s stride.</p>
</dd></dl>

<dl class="chpl method">
<dt class="sig sig-object chpl" id="ChapelRange.range.stride">
<em class="property"><span class="pre">proc</span> </em><span class="sig-prename descclassname"><span class="pre">range.</span></span><span class="sig-name descname"><span class="pre">stride</span></span><a class="headerlink" href="#ChapelRange.range.stride" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns the range’s stride.</p>
</dd></dl>

<dl class="chpl method">
<dt class="sig sig-object chpl" id="ChapelRange.range.alignment">
<em class="property"><span class="pre">proc</span> </em><span class="sig-prename descclassname"><span class="pre">range.</span></span><span class="sig-name descname"><span class="pre">alignment</span></span><a class="headerlink" href="#ChapelRange.range.alignment" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns the range’s alignment.</p>
</dd></dl>

<dl class="chpl method">
<dt class="sig sig-object chpl" id="ChapelRange.range.isAligned">
<em class="property"><span class="pre">proc</span> </em><span class="sig-prename descclassname"><span class="pre">range.</span></span><span class="sig-name descname"><span class="pre">isAligned</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#ChapelRange.range.isAligned" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns <code class="docutils literal notranslate"><span class="pre">true</span></code> if the range’s alignment is unambiguous,
<code class="docutils literal notranslate"><span class="pre">false</span></code> otherwise.</p>
</dd></dl>

<dl class="chpl method">
<dt class="sig sig-object chpl" id="ChapelRange.range.hasLowBound">
<em class="property"><span class="pre">proc</span> </em><span class="sig-prename descclassname"><span class="pre">range.</span></span><span class="sig-name descname"><span class="pre">hasLowBound</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><span class="w"> </span><em class="property"> <span class="pre">param</span></em><a class="headerlink" href="#ChapelRange.range.hasLowBound" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns <code class="docutils literal notranslate"><span class="pre">true</span></code> if this range’s low bound is <em>not</em> -<span class="math notranslate nohighlight">\(\infty\)</span>,
and <code class="docutils literal notranslate"><span class="pre">false</span></code> otherwise.</p>
</dd></dl>

<dl class="chpl method">
<dt class="sig sig-object chpl" id="ChapelRange.range.lowBound">
<em class="property"><span class="pre">proc</span> </em><span class="sig-prename descclassname"><span class="pre">range.</span></span><span class="sig-name descname"><span class="pre">lowBound</span></span><em class="property"> <span class="pre">:</span> <span class="pre">idxType</span></em><a class="headerlink" href="#ChapelRange.range.lowBound" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns the range’s low bound. If the range does not have a low
bound (e.g., <code class="docutils literal notranslate"><span class="pre">..10</span></code>), the behavior is undefined.  See also
<a class="reference internal" href="#ChapelRange.range.hasLowBound" title="ChapelRange.range.hasLowBound"><code class="xref chpl chpl-proc docutils literal notranslate"><span class="pre">range.hasLowBound</span></code></a>.</p>
</dd></dl>

<dl class="chpl method">
<dt class="sig sig-object chpl" id="ChapelRange.range.low">
<em class="property"><span class="pre">proc</span> </em><span class="sig-prename descclassname"><span class="pre">range.</span></span><span class="sig-name descname"><span class="pre">low</span></span><em class="property"> <span class="pre">:</span> <span class="pre">idxType</span></em><a class="headerlink" href="#ChapelRange.range.low" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns the range’s aligned low bound. If this bound is
undefined (e.g., <code class="docutils literal notranslate"><span class="pre">..10</span> <span class="pre">by</span> <span class="pre">-2</span></code>), the behavior is undefined.</p>
<p>Example:</p>
<div class="highlight-chapel notranslate"><div class="highlight"><pre><span></span><span class="kd">var</span> <span class="nx">r</span> <span class="o">=</span> <span class="mi">1</span><span class="o">..</span><span class="mi">10</span> <span class="k">by</span> <span class="o">-</span><span class="mi">2</span><span class="p">;</span>
<span class="nx">writeln</span><span class="p">(</span><span class="nx">r</span><span class="p">.</span><span class="nx">low</span><span class="p">);</span>
</pre></div>
</div>
<p>produces the output</p>
<div class="highlight-printoutput notranslate"><div class="highlight"><pre><span></span>2
</pre></div>
</div>
</dd></dl>

<dl class="chpl method">
<dt class="sig sig-object chpl" id="ChapelRange.range.hasHighBound">
<em class="property"><span class="pre">proc</span> </em><span class="sig-prename descclassname"><span class="pre">range.</span></span><span class="sig-name descname"><span class="pre">hasHighBound</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><span class="w"> </span><em class="property"> <span class="pre">param</span></em><a class="headerlink" href="#ChapelRange.range.hasHighBound" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns <code class="docutils literal notranslate"><span class="pre">true</span></code> if this range’s high bound is <em>not</em> <span class="math notranslate nohighlight">\(\infty\)</span>,
and <code class="docutils literal notranslate"><span class="pre">false</span></code> otherwise.</p>
</dd></dl>

<dl class="chpl method">
<dt class="sig sig-object chpl" id="ChapelRange.range.highBound">
<em class="property"><span class="pre">proc</span> </em><span class="sig-prename descclassname"><span class="pre">range.</span></span><span class="sig-name descname"><span class="pre">highBound</span></span><em class="property"> <span class="pre">:</span> <span class="pre">idxType</span></em><a class="headerlink" href="#ChapelRange.range.highBound" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns the range’s high bound. If the range does not have a high
bound (e.g., <code class="docutils literal notranslate"><span class="pre">1..</span></code>), the behavior is undefined.  See also
<a class="reference internal" href="#ChapelRange.range.hasHighBound" title="ChapelRange.range.hasHighBound"><code class="xref chpl chpl-proc docutils literal notranslate"><span class="pre">range.hasHighBound</span></code></a>.</p>
</dd></dl>

<dl class="chpl method">
<dt class="sig sig-object chpl" id="ChapelRange.range.high">
<em class="property"><span class="pre">proc</span> </em><span class="sig-prename descclassname"><span class="pre">range.</span></span><span class="sig-name descname"><span class="pre">high</span></span><em class="property"> <span class="pre">:</span> <span class="pre">idxType</span></em><a class="headerlink" href="#ChapelRange.range.high" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns the range’s aligned high bound. If the aligned high bound is
undefined (e.g., <code class="docutils literal notranslate"><span class="pre">1..</span> <span class="pre">by</span> <span class="pre">2</span></code>), the behavior is undefined.</p>
<p>Example:</p>
<div class="highlight-chapel notranslate"><div class="highlight"><pre><span></span><span class="kd">var</span> <span class="nx">r</span> <span class="o">=</span> <span class="mi">1</span><span class="o">..</span><span class="mi">10</span> <span class="k">by</span> <span class="mi">2</span><span class="p">;</span>
<span class="nx">writeln</span><span class="p">(</span><span class="nx">r</span><span class="p">.</span><span class="nx">high</span><span class="p">);</span>
</pre></div>
</div>
<p>produces the output</p>
<div class="highlight-printoutput notranslate"><div class="highlight"><pre><span></span>9
</pre></div>
</div>
</dd></dl>

<dl class="chpl method">
<dt class="sig sig-object chpl" id="ChapelRange.range.isEmpty">
<em class="property"><span class="pre">proc</span> </em><span class="sig-prename descclassname"><span class="pre">range.</span></span><span class="sig-name descname"><span class="pre">isEmpty</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#ChapelRange.range.isEmpty" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns <code class="docutils literal notranslate"><span class="pre">true</span></code> if the sequence represented by the range is
empty and <code class="docutils literal notranslate"><span class="pre">false</span></code> otherwise.  If the range is ambiguous, the
behavior is undefined.</p>
</dd></dl>

<dl class="chpl method">
<dt class="sig sig-object chpl" id="ChapelRange.range.size">
<em class="property"><span class="pre">proc</span> </em><span class="sig-prename descclassname"><span class="pre">range.</span></span><span class="sig-name descname"><span class="pre">size</span></span><em class="property"> <span class="pre">:</span> <span class="pre">int</span></em><a class="headerlink" href="#ChapelRange.range.size" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns the number of values represented by this range as an integer.</p>
<p>If the size exceeds <code class="docutils literal notranslate"><span class="pre">max(int)</span></code>, this procedure will halt when
bounds checks are on and have undefined behavior when they are not.</p>
<p>If the represented sequence is infinite or undefined, an error is
generated.</p>
</dd></dl>

<dl class="chpl method">
<dt class="sig sig-object chpl" id="ChapelRange.range.sizeAs">
<em class="property"><span class="pre">proc</span> </em><span class="sig-prename descclassname"><span class="pre">range.</span></span><span class="sig-name descname"><span class="pre">sizeAs</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="pre">type</span> <span class="pre">t:</span> <span class="pre">integral</span></em><span class="sig-paren">)</span><em class="property"> <span class="pre">:</span> <span class="pre">t</span></em><a class="headerlink" href="#ChapelRange.range.sizeAs" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns the number of elements in this range as the specified
integer type.</p>
<p>If the size exceeds the maximal value of that type, this
procedure will halt when bounds checks are on and have undefined
behavior when they are not.</p>
<p>If the represented sequence is infinite or undefined, an error is
generated.</p>
</dd></dl>

<dl class="chpl method">
<dt class="sig sig-object chpl" id="ChapelRange.range.hasFirst">
<em class="property"><span class="pre">proc</span> </em><span class="sig-prename descclassname"><span class="pre">range.</span></span><span class="sig-name descname"><span class="pre">hasFirst</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#ChapelRange.range.hasFirst" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns <code class="docutils literal notranslate"><span class="pre">true</span></code> if the range has a first index, <code class="docutils literal notranslate"><span class="pre">false</span></code> otherwise.</p>
</dd></dl>

<dl class="chpl method">
<dt class="sig sig-object chpl" id="ChapelRange.range.first">
<em class="property"><span class="pre">proc</span> </em><span class="sig-prename descclassname"><span class="pre">range.</span></span><span class="sig-name descname"><span class="pre">first</span></span><a class="headerlink" href="#ChapelRange.range.first" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns the first value in the sequence the range represents.  If
the range has no first index, the behavior is undefined.  See
also <a class="reference internal" href="#ChapelRange.range.hasFirst" title="ChapelRange.range.hasFirst"><code class="xref chpl chpl-proc docutils literal notranslate"><span class="pre">range.hasFirst</span></code></a>.</p>
</dd></dl>

<dl class="chpl method">
<dt class="sig sig-object chpl" id="ChapelRange.range.hasLast">
<em class="property"><span class="pre">proc</span> </em><span class="sig-prename descclassname"><span class="pre">range.</span></span><span class="sig-name descname"><span class="pre">hasLast</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#ChapelRange.range.hasLast" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns <code class="docutils literal notranslate"><span class="pre">true</span></code> if the range has a last index, <code class="docutils literal notranslate"><span class="pre">false</span></code> otherwise.</p>
</dd></dl>

<dl class="chpl method">
<dt class="sig sig-object chpl" id="ChapelRange.range.last">
<em class="property"><span class="pre">proc</span> </em><span class="sig-prename descclassname"><span class="pre">range.</span></span><span class="sig-name descname"><span class="pre">last</span></span><a class="headerlink" href="#ChapelRange.range.last" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns the last value in the sequence the range represents.  If
the range has no last index, the behavior is undefined.  See also
<a class="reference internal" href="#ChapelRange.range.hasLast" title="ChapelRange.range.hasLast"><code class="xref chpl chpl-proc docutils literal notranslate"><span class="pre">range.hasLast</span></code></a>.</p>
</dd></dl>

<dl class="chpl method">
<dt class="sig sig-object chpl" id="ChapelRange.range.contains">
<em class="property"><span class="pre">proc</span> </em><span class="sig-prename descclassname"><span class="pre">range.</span></span><span class="sig-name descname"><span class="pre">contains</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="pre">ind:</span> <span class="pre">idxType</span></em><span class="sig-paren">)</span><a class="headerlink" href="#ChapelRange.range.contains" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns <code class="docutils literal notranslate"><span class="pre">true</span></code> if the range’s represented sequence contains
<code class="docutils literal notranslate"><span class="pre">ind</span></code>, <code class="docutils literal notranslate"><span class="pre">false</span></code> otherwise.  It is an error to invoke <code class="docutils literal notranslate"><span class="pre">contains</span></code>
if the represented sequence is not defined.</p>
</dd></dl>

<dl class="chpl method">
<dt class="sig sig-object chpl">
<em class="property"><span class="pre">proc</span> </em><span class="sig-prename descclassname"><span class="pre">range.</span></span><span class="sig-name descname"><span class="pre">contains</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="pre">other:</span> <span class="pre">range(?)</span></em><span class="sig-paren">)</span></dt>
<dd><p>Returns <code class="docutils literal notranslate"><span class="pre">true</span></code> if the range <code class="docutils literal notranslate"><span class="pre">other</span></code> is contained within this one,
<code class="docutils literal notranslate"><span class="pre">false</span></code> otherwise.</p>
</dd></dl>

<dl class="chpl method">
<dt class="sig sig-object chpl" id="ChapelRange.range.tryCast">
<em class="property"><span class="pre">proc</span> </em><span class="sig-prename descclassname"><span class="pre">range.</span></span><span class="sig-name descname"><span class="pre">tryCast</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="pre">type</span> <span class="pre">t:</span> <span class="pre">range(?)</span></em><span class="sig-paren">)</span><a class="headerlink" href="#ChapelRange.range.tryCast" title="Permalink to this definition">¶</a></dt>
<dd><p>Casts a range to a new range type. Throws an IllegalArgumentError when
the original bounds and/or stride do not fit in the new idxType
or when the original stride is not legal for the new <cite>strides</cite> parameter.</p>
</dd></dl>

<dl class="chpl method">
<dt class="sig sig-object chpl" id="ChapelRange.range.indexOrder">
<em class="property"><span class="pre">proc</span> </em><span class="sig-prename descclassname"><span class="pre">range.</span></span><span class="sig-name descname"><span class="pre">indexOrder</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="pre">ind:</span> <span class="pre">idxType</span></em><span class="sig-paren">)</span><a class="headerlink" href="#ChapelRange.range.indexOrder" title="Permalink to this definition">¶</a></dt>
<dd><div class="admonition warning">
<p class="admonition-title">Warning</p>
<p>range.indexOrder() is unstable and its behavior may change in the future</p>
<blockquote>
<div><p>Returns an integer representing the zero-based ordinal value of
<code class="docutils literal notranslate"><span class="pre">ind</span></code> within the range’s sequence of values if it is a member
of the sequence.  Otherwise, returns -1.  It is an error to
invoke <code class="docutils literal notranslate"><span class="pre">indexOrder</span></code> if the represented sequence is not defined
or the range does not have a first index.</p>
<p>The following calls show the order of index 4 in each of the given ranges:</p>
</div></blockquote>
</div>
<div class="highlight-chapel notranslate"><div class="highlight"><pre><span></span><span class="p">(</span><span class="mi">0</span><span class="o">..</span><span class="mi">10</span><span class="p">).</span><span class="nx">indexOrder</span><span class="p">(</span><span class="mi">4</span><span class="p">)</span> <span class="o">==</span> <span class="mi">4</span>
<span class="p">(</span><span class="mi">1</span><span class="o">..</span><span class="mi">10</span><span class="p">).</span><span class="nx">indexOrder</span><span class="p">(</span><span class="mi">4</span><span class="p">)</span> <span class="o">==</span> <span class="mi">3</span>
<span class="p">(</span><span class="mi">3</span><span class="o">..</span><span class="mi">5</span><span class="p">).</span><span class="nx">indexOrder</span><span class="p">(</span><span class="mi">4</span><span class="p">)</span> <span class="o">==</span> <span class="mi">1</span>
<span class="p">(</span><span class="mi">0</span><span class="o">..</span><span class="mi">10</span> <span class="k">by</span> <span class="mi">2</span><span class="p">).</span><span class="nx">indexOrder</span><span class="p">(</span><span class="mi">4</span><span class="p">)</span> <span class="o">==</span> <span class="mi">2</span>
<span class="p">(</span><span class="mi">3</span><span class="o">..</span><span class="mi">5</span> <span class="k">by</span> <span class="mi">2</span><span class="p">).</span><span class="nx">indexOrder</span><span class="p">(</span><span class="mi">4</span><span class="p">)</span> <span class="o">==</span> <span class="o">-</span><span class="mi">1</span>
</pre></div>
</div>
</dd></dl>

<dl class="chpl method">
<dt class="sig sig-object chpl" id="ChapelRange.range.orderToIndex">
<em class="property"><span class="pre">proc</span> </em><span class="sig-prename descclassname"><span class="pre">range.</span></span><span class="sig-name descname"><span class="pre">orderToIndex</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="pre">ord:</span> <span class="pre">integral</span></em><span class="sig-paren">)</span><em class="property"> <span class="pre">:</span> <span class="pre">idxType</span></em><a class="headerlink" href="#ChapelRange.range.orderToIndex" title="Permalink to this definition">¶</a></dt>
<dd><div class="admonition warning">
<p class="admonition-title">Warning</p>
<p>range.orderToIndex() is unstable and its behavior may change in the future</p>
</div>
<p>Returns the zero-based <code class="docutils literal notranslate"><span class="pre">ord</span></code>-th element of this range’s represented
sequence. It is an error to invoke <code class="docutils literal notranslate"><span class="pre">orderToIndex</span></code> if the range is not
defined, or if <code class="docutils literal notranslate"><span class="pre">ord</span></code> is negative or greater than the range’s size.
The <code class="docutils literal notranslate"><span class="pre">orderToIndex</span></code> procedure is the reverse of <code class="docutils literal notranslate"><span class="pre">indexOrder</span></code>.</p>
<p>Example:</p>
<div class="highlight-chapel notranslate"><div class="highlight"><pre><span></span><span class="mi">0</span><span class="o">..</span><span class="mi">10</span><span class="p">.</span><span class="nx">orderToIndex</span><span class="p">(</span><span class="mi">4</span><span class="p">)</span> <span class="o">==</span> <span class="mi">4</span>
<span class="mi">1</span><span class="o">..</span><span class="mi">10</span><span class="p">.</span><span class="nx">orderToIndex</span><span class="p">(</span><span class="mi">3</span><span class="p">)</span> <span class="o">==</span> <span class="mi">4</span>
<span class="mi">3</span><span class="o">..</span><span class="mi">5</span><span class="p">.</span><span class="nx">orderToIndex</span><span class="p">(</span><span class="mi">1</span><span class="p">)</span>  <span class="o">==</span> <span class="mi">4</span>
<span class="mi">0</span><span class="o">..</span><span class="mi">10</span> <span class="k">by</span> <span class="mi">2</span><span class="p">.</span><span class="nx">orderToIndex</span><span class="p">(</span><span class="mi">2</span><span class="p">)</span> <span class="o">==</span> <span class="mi">4</span>
</pre></div>
</div>
</dd></dl>

<dl class="chpl method">
<dt class="sig sig-object chpl" id="ChapelRange.range.translate">
<em class="property"><span class="pre">proc</span> </em><span class="sig-prename descclassname"><span class="pre">range.</span></span><span class="sig-name descname"><span class="pre">translate</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="pre">offset:</span> <span class="pre">integral</span></em><span class="sig-paren">)</span><a class="headerlink" href="#ChapelRange.range.translate" title="Permalink to this definition">¶</a></dt>
<dd><div class="admonition warning">
<p class="admonition-title">Warning</p>
<p>range.translate() is unstable and its behavior may change in the future</p>
</div>
<p>Returns a range with elements shifted from this range by <code class="docutils literal notranslate"><span class="pre">offset</span></code>.
Formally, the range’s low bound, high bound, and alignment values
will be shifted while the stride value will be preserved.  If the
range’s alignment is ambiguous, the behavior is undefined.</p>
<p>Example:</p>
<div class="highlight-chapel notranslate"><div class="highlight"><pre><span></span><span class="mi">0</span><span class="o">..</span><span class="mi">9</span><span class="p">.</span><span class="nx">translate</span><span class="p">(</span><span class="mi">1</span><span class="p">)</span> <span class="o">==</span> <span class="mi">1</span><span class="o">..</span><span class="mi">10</span>
<span class="mi">0</span><span class="o">..</span><span class="mi">9</span><span class="p">.</span><span class="nx">translate</span><span class="p">(</span><span class="mi">2</span><span class="p">)</span> <span class="o">==</span> <span class="mi">2</span><span class="o">..</span><span class="mi">11</span>
<span class="mi">0</span><span class="o">..</span><span class="mi">9</span><span class="p">.</span><span class="nx">translate</span><span class="p">(</span><span class="o">-</span><span class="mi">1</span><span class="p">)</span> <span class="o">==</span> <span class="o">-</span><span class="mi">1</span><span class="o">..</span><span class="mi">8</span>
<span class="mi">0</span><span class="o">..</span><span class="mi">9</span><span class="p">.</span><span class="nx">translate</span><span class="p">(</span><span class="o">-</span><span class="mi">2</span><span class="p">)</span> <span class="o">==</span> <span class="o">-</span><span class="mi">2</span><span class="o">..</span><span class="mi">7</span>
</pre></div>
</div>
</dd></dl>

<dl class="chpl method">
<dt class="sig sig-object chpl" id="ChapelRange.range.expand">
<em class="property"><span class="pre">proc</span> </em><span class="sig-prename descclassname"><span class="pre">range.</span></span><span class="sig-name descname"><span class="pre">expand</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="pre">offset:</span> <span class="pre">integral</span></em><span class="sig-paren">)</span><a class="headerlink" href="#ChapelRange.range.expand" title="Permalink to this definition">¶</a></dt>
<dd><div class="admonition warning">
<p class="admonition-title">Warning</p>
<p>range.expand() is unstable and its behavior may change in the future</p>
</div>
<p>Returns a range expanded by <code class="docutils literal notranslate"><span class="pre">offset</span></code> elements from each end.  If
<code class="docutils literal notranslate"><span class="pre">offset</span></code> is negative, the range will be contracted.  The stride
and alignment of the original range are preserved.</p>
<p>Example:</p>
<div class="highlight-chapel notranslate"><div class="highlight"><pre><span></span><span class="mi">0</span><span class="o">..</span><span class="mi">9</span><span class="p">.</span><span class="nx">expand</span><span class="p">(</span><span class="mi">1</span><span class="p">)</span>  <span class="o">==</span> <span class="o">-</span><span class="mi">1</span><span class="o">..</span><span class="mi">10</span>
<span class="mi">0</span><span class="o">..</span><span class="mi">9</span><span class="p">.</span><span class="nx">expand</span><span class="p">(</span><span class="mi">2</span><span class="p">)</span>  <span class="o">==</span> <span class="o">-</span><span class="mi">2</span><span class="o">..</span><span class="mi">11</span>
<span class="mi">0</span><span class="o">..</span><span class="mi">9</span><span class="p">.</span><span class="nx">expand</span><span class="p">(</span><span class="o">-</span><span class="mi">1</span><span class="p">)</span> <span class="o">==</span> <span class="mi">1</span><span class="o">..</span><span class="mi">8</span>
<span class="mi">0</span><span class="o">..</span><span class="mi">9</span><span class="p">.</span><span class="nx">expand</span><span class="p">(</span><span class="o">-</span><span class="mi">2</span><span class="p">)</span> <span class="o">==</span> <span class="mi">2</span><span class="o">..</span><span class="mi">7</span>
</pre></div>
</div>
<p>Formally, for a range represented by the tuple <span class="math notranslate nohighlight">\((l,h,s,a)\)</span>,
the result is <span class="math notranslate nohighlight">\((l-i,h+i,s,a)\)</span>.  If the operand range is
ambiguously aligned, then so is the resulting range.</p>
</dd></dl>

<dl class="chpl method">
<dt class="sig sig-object chpl" id="ChapelRange.range.interior">
<em class="property"><span class="pre">proc</span> </em><span class="sig-prename descclassname"><span class="pre">range.</span></span><span class="sig-name descname"><span class="pre">interior</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="pre">offset:</span> <span class="pre">integral</span></em><span class="sig-paren">)</span><a class="headerlink" href="#ChapelRange.range.interior" title="Permalink to this definition">¶</a></dt>
<dd><div class="admonition warning">
<p class="admonition-title">Warning</p>
<p>range.interior() is unstable and its behavior may change in the future</p>
</div>
<p>Returns a range with <code class="docutils literal notranslate"><span class="pre">offset</span></code> elements from the interior portion of this
range. If <code class="docutils literal notranslate"><span class="pre">offset</span></code> is positive, take elements from the high end, and if
<code class="docutils literal notranslate"><span class="pre">offset</span></code> is negative, take elements from the low end.</p>
<p>Example:</p>
<div class="highlight-chapel notranslate"><div class="highlight"><pre><span></span><span class="mi">0</span><span class="o">..</span><span class="m">9.i</span><span class="nx">nterior</span><span class="p">(</span><span class="mi">1</span><span class="p">)</span>  <span class="o">==</span> <span class="mi">9</span><span class="o">..</span><span class="mi">9</span>
<span class="mi">0</span><span class="o">..</span><span class="m">9.i</span><span class="nx">nterior</span><span class="p">(</span><span class="mi">2</span><span class="p">)</span>  <span class="o">==</span> <span class="mi">8</span><span class="o">..</span><span class="mi">9</span>
<span class="mi">0</span><span class="o">..</span><span class="m">9.i</span><span class="nx">nterior</span><span class="p">(</span><span class="o">-</span><span class="mi">1</span><span class="p">)</span> <span class="o">==</span> <span class="mi">0</span><span class="o">..</span><span class="mi">0</span>
<span class="mi">0</span><span class="o">..</span><span class="m">9.i</span><span class="nx">nterior</span><span class="p">(</span><span class="o">-</span><span class="mi">2</span><span class="p">)</span> <span class="o">==</span> <span class="mi">0</span><span class="o">..</span><span class="mi">1</span>
</pre></div>
</div>
<p>Formally, given a range denoted by the tuple <span class="math notranslate nohighlight">\((l,h,s,a)\)</span>,</p>
<ul class="simple">
<li><p>if <span class="math notranslate nohighlight">\(i &lt; 0\)</span>, the result is <span class="math notranslate nohighlight">\((l,l-(i-1),s,a)\)</span>,</p></li>
<li><p>if <span class="math notranslate nohighlight">\(i &gt; 0\)</span>, the result is <span class="math notranslate nohighlight">\((h-(i-1),h,s,a)\)</span>, and</p></li>
<li><p>if <span class="math notranslate nohighlight">\(i = 0\)</span>, the result is <span class="math notranslate nohighlight">\((l,h,s,a)\)</span>.</p></li>
</ul>
<p>This differs from the behavior of the count operator, in that
<code class="docutils literal notranslate"><span class="pre">interior()</span></code> preserves the alignment, and it uses the low and
high bounds rather than <code class="docutils literal notranslate"><span class="pre">first</span></code> and <code class="docutils literal notranslate"><span class="pre">last</span></code> to establish the
bounds of the resulting range. If the operand range is
ambiguously aligned, then so is the resulting range.</p>
</dd></dl>

<dl class="chpl method">
<dt class="sig sig-object chpl" id="ChapelRange.range.exterior">
<em class="property"><span class="pre">proc</span> </em><span class="sig-prename descclassname"><span class="pre">range.</span></span><span class="sig-name descname"><span class="pre">exterior</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="pre">offset:</span> <span class="pre">integral</span></em><span class="sig-paren">)</span><a class="headerlink" href="#ChapelRange.range.exterior" title="Permalink to this definition">¶</a></dt>
<dd><div class="admonition warning">
<p class="admonition-title">Warning</p>
<p>range.exterior() is unstable and its behavior may change in the future</p>
</div>
<p>Returns a range with <code class="docutils literal notranslate"><span class="pre">offset</span></code> elements from the exterior portion of this
range. If <code class="docutils literal notranslate"><span class="pre">offset</span></code> is positive, take elements from the high end, and if
<code class="docutils literal notranslate"><span class="pre">offset</span></code> is negative, take elements from the low end.</p>
<p>Example:</p>
<div class="highlight-chapel notranslate"><div class="highlight"><pre><span></span><span class="mi">0</span><span class="o">..</span><span class="mi">9</span><span class="p">.</span><span class="nx">exterior</span><span class="p">(</span><span class="mi">1</span><span class="p">)</span>  <span class="o">=</span> <span class="mi">10</span><span class="o">..</span><span class="mi">10</span>
<span class="mi">0</span><span class="o">..</span><span class="mi">9</span><span class="p">.</span><span class="nx">exterior</span><span class="p">(</span><span class="mi">2</span><span class="p">)</span>  <span class="o">=</span> <span class="mi">10</span><span class="o">..</span><span class="mi">11</span>
<span class="mi">0</span><span class="o">..</span><span class="mi">9</span><span class="p">.</span><span class="nx">exterior</span><span class="p">(</span><span class="o">-</span><span class="mi">1</span><span class="p">)</span> <span class="o">=</span> <span class="o">-</span><span class="mi">1</span><span class="o">..-</span><span class="mi">1</span>
<span class="mi">0</span><span class="o">..</span><span class="mi">9</span><span class="p">.</span><span class="nx">exterior</span><span class="p">(</span><span class="o">-</span><span class="mi">2</span><span class="p">)</span> <span class="o">=</span> <span class="o">-</span><span class="mi">2</span><span class="o">..-</span><span class="mi">1</span>
</pre></div>
</div>
<p>Formally, given a range denoted by the tuple <span class="math notranslate nohighlight">\((l,h,s,a)\)</span>,</p>
<ul class="simple">
<li><p>if <span class="math notranslate nohighlight">\(i &lt; 0\)</span>, the result is <span class="math notranslate nohighlight">\((l+i,l-1,s,a)\)</span>,</p></li>
<li><p>if <span class="math notranslate nohighlight">\(i &gt; 0\)</span>, the result is <span class="math notranslate nohighlight">\((h+1,h+i,s,a)\)</span>, and</p></li>
<li><p>if <span class="math notranslate nohighlight">\(i = 0\)</span>, the result is <span class="math notranslate nohighlight">\((l,h,s,a)\)</span>.</p></li>
</ul>
<p>If the operand range is ambiguously aligned, then so is the resulting
range.</p>
</dd></dl>

<dl class="chpl method">
<dt class="sig sig-object chpl" id="ChapelRange.range.offset">
<em class="property"><span class="pre">proc</span> </em><span class="sig-prename descclassname"><span class="pre">range.</span></span><span class="sig-name descname"><span class="pre">offset</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="pre">in</span> <span class="pre">offset:</span> <span class="pre">integral</span></em><span class="sig-paren">)</span><a class="headerlink" href="#ChapelRange.range.offset" title="Permalink to this definition">¶</a></dt>
<dd><div class="admonition warning">
<p class="admonition-title">Warning</p>
<p>range.offset() is unstable and its behavior may change in the future</p>
</div>
<p>Returns a range whose alignment is this range’s first index plus <code class="docutils literal notranslate"><span class="pre">offset</span></code>.
If the range has no first index, a runtime error is generated.</p>
</dd></dl>

</section>
</section>
</section>


           </div>
          </div>
          <footer><div class="rst-footer-buttons" role="navigation" aria-label="Footer">
        <a href="unions.html" class="btn btn-neutral float-left" title="Unions" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left" aria-hidden="true"></span> Previous</a>
        <a href="domains.html" class="btn btn-neutral float-right" title="Domains" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right" aria-hidden="true"></span></a>
    </div>

  <hr/>

  <div role="contentinfo">
    <p>&#169; Copyright 2024, Hewlett Packard Enterprise Development LP.</p>
  </div>

   

</footer>
        </div>
      </div>
    </section>
  </div>
  <script>
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script>
 



</body>
</html>